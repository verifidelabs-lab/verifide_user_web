"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[604],{2604:(e,s,i)=>{i.r(s),i.d(s,{default:()=>j});var a=i(9379),l=i(5043),r=i(3003),n=i(7087),d=i(5167),o=i(6328),t=i(4272),c=i(7115),m=i.n(c),u=(i(6473),i(152)),v=i(5200),N=i(5413),x=i(7567),p=i(6922),h=i(8649),_=i(3877),I=i(10),y=i(579);const g={SUPER_ADMIN:1,ADMIN:2,COMPANIES:3,COMPANIES_ADMIN:7,INSTITUTIONS:4,INSTITUTIONS_ADMIN:8},j=e=>{var s,i,c;let{adminProfileData:j,companiesProfileData:f,instituteProfileData:A}=e;const w=(0,r.wA)(),P=(0,r.d4)(e=>e.global),S=Number((0,I.Ri)("COMPANY_ROLE")),[b,M]=(0,l.useState)(!1),[T,D]=(0,l.useState)(!1),[E,C]=(0,l.useState)(!1),O=(0,t.Kj)((null===P||void 0===P||null===(s=P.countriesData)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.data)||[]),{formData:U,setFormData:R,handleChange:F,resetForm:q,errors:k,setErrors:X}=(0,n.A)([g.SUPER_ADMIN,g.ADMIN].includes(S)?{currentPassword:"",newPassword:"",confirmPassword:"",first_name:"",last_name:"",email:"",profile_picture_url:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_number:""}:[g.COMPANIES,g.COMPANIES_ADMIN].includes(S)?{currentPassword:"",newPassword:"",confirmPassword:"",name:"",display_name:"",email:"",logo_url:"",website_url:"",description:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_no:"",company_size:"",company_type:"",specialties:[],founded_year:""}:[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?{currentPassword:"",newPassword:"",confirmPassword:"",name:"",display_name:"",email:"",logo_url:"",website_url:"",description:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_no:"",institution_type_id:"",specialties:[],founded_year:""}:{}),[z,L]=(0,l.useState)(!1),$=()=>{[g.SUPER_ADMIN,g.ADMIN].includes(S)&&w((0,d.Tb)()),[g.COMPANIES,g.COMPANIES_ADMIN].includes(S)&&w((0,d.pu)()),[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)&&w((0,d.qM)())};(0,l.useEffect)(()=>{m().init({duration:1e3,easing:"ease-in-out",once:!0,mirror:!1}),$(),w((0,u.Xr)())},[]),(0,l.useEffect)(()=>{j&&([g.SUPER_ADMIN,g.ADMIN].includes(S)?R(e=>(0,a.A)((0,a.A)({},e),{},{first_name:(null===j||void 0===j?void 0:j.first_name)||"",last_name:(null===j||void 0===j?void 0:j.last_name)||"",email:(null===j||void 0===j?void 0:j.email)||"",profile_picture_url:(null===j||void 0===j?void 0:j.profile_picture_url)||"",country_code:(null===j||void 0===j?void 0:j.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_number:(null===j||void 0===j?void 0:j.phone_number)||""})):[g.COMPANIES,g.COMPANIES_ADMIN].includes(S)?R(e=>(0,a.A)((0,a.A)({},e),{},{name:(null===f||void 0===f?void 0:f.name)||"",display_name:(null===f||void 0===f?void 0:f.display_name)||"",email:(null===f||void 0===f?void 0:f.email)||"",logo_url:(null===f||void 0===f?void 0:f.logo_url)||"",website_url:(null===f||void 0===f?void 0:f.website_url)||"",description:(null===f||void 0===f?void 0:f.description)||"",country_code:(null===f||void 0===f?void 0:f.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_no:(null===f||void 0===f?void 0:f.phone_no)||"",company_size:(null===f||void 0===f?void 0:f.company_size)||"",company_type:(null===f||void 0===f?void 0:f.company_type)||"",specialties:(null===f||void 0===f?void 0:f.specialties)||[],founded_year:(null===f||void 0===f?void 0:f.founded_year)||""})):[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)&&R(e=>{var s;return(0,a.A)((0,a.A)({},e),{},{name:(null===A||void 0===A?void 0:A.name)||"",display_name:(null===A||void 0===A?void 0:A.display_name)||"",email:(null===A||void 0===A?void 0:A.email)||"",logo_url:(null===A||void 0===A?void 0:A.logo_url)||"",website_url:(null===A||void 0===A?void 0:A.website_url)||"",description:(null===A||void 0===A?void 0:A.description)||"",country_code:(null===A||void 0===A?void 0:A.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_no:(null===A||void 0===A?void 0:A.phone_no)||"",institution_type_id:(null===A||void 0===A||null===(s=A.institution_type_id)||void 0===s?void 0:s._id)||"",specialties:(null===A||void 0===A?void 0:A.specialties)||[],founded_year:(null===A||void 0===A?void 0:A.founded_year)||""})}))},[j,A,f]);const J=()=>{M(!0)},W=()=>{D(!0)},H=()=>{const e=[g.SUPER_ADMIN,g.ADMIN,g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"profile_picture_url":"logo_url",s=U[e]||(null===j||void 0===j?void 0:j[e])||(null===f||void 0===f?void 0:f[e])||(null===A||void 0===A?void 0:A[e])||"";return(0,y.jsxs)("div",{className:"relative group",children:[(0,y.jsxs)("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white/80 shadow-lg bg-white relative overflow-hidden cursor-pointer transition-all duration-300 hover:scale-105",children:[E&&(0,y.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:(0,y.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,y.jsx)(v.PoE,{className:"w-6 h-6 text-white"})}),(0,y.jsx)("img",{src:s||"https://images.unsplash.com/photo-1567446537708-ac4aa75c9c28?w=500",className:"w-full h-full object-cover",alt:"Profile",onError:e=>{e.target.src="https://images.unsplash.com/photo-1567446537708-ac4aa75c9c28?w=500"}})]}),(0,y.jsx)("input",{type:"file",id:"imageUpload-".concat(e),accept:"image/*",onChange:s=>async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"profile_picture_url";if(!e)return;if(e.size>2097152)return void o.oR.error("File size must be less than 2MB");if(["image/jpg","image/jpeg","image/png"].includes(e.type))try{C(!0);const i=await(0,t.pv)(e,"PROFILES");o.oR.success(null===i||void 0===i?void 0:i.message),R(e=>{var l;return(0,a.A)((0,a.A)({},e),{},{[s]:null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.imageURL})})}catch(i){o.oR.error(i||"Failed to upload image")}finally{C(!1)}else o.oR.error("Only image files (JPEG, PNG) are allowed")}(s.target.files[0],e),className:"hidden"})]})};return(0,y.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,y.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,y.jsxs)("div",{className:"text-center mb-8","data-aos":"fade-down",children:[(0,y.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[(e=>{switch(e){case g.SUPER_ADMIN:return"Super Admin";case g.ADMIN:return"Admin";case g.COMPANIES:case g.COMPANIES_ADMIN:return"Company";case g.INSTITUTIONS:case g.INSTITUTIONS_ADMIN:return"Institute";default:return"User"}})(S)," Profile"]}),(0,y.jsx)("p",{className:"text-gray-600",children:"Manage your account information and security"})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,y.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 relative",children:[(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),(0,y.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center",children:[H(),(0,y.jsx)("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:(()=>{if([g.SUPER_ADMIN,g.ADMIN,g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S))return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[(null===j||void 0===j?void 0:j.first_name)||(null===f||void 0===f?void 0:f.name)||(null===A||void 0===A?void 0:A.name)||"N/A"," ",(null===j||void 0===j?void 0:j.last_name)||""]}),(0,y.jsx)("p",{className:"text-blue-100",children:(null===j||void 0===j?void 0:j.email)||(null===f||void 0===f?void 0:f.email)||(null===A||void 0===A?void 0:A.email)||"N/A"})]})})()})]})]}),(0,y.jsxs)("div",{className:"p-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-100",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,y.jsx)(v.JXP,{className:"mr-2 text-blue-500"}),"Personal Information"]}),(0,y.jsxs)("button",{onClick:W,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,y.jsx)(v.WXf,{className:"mr-1"})," Edit"]})]}),(0,y.jsx)("div",{className:"space-y-3",children:(()=>{var e,s,i,a,l;return[g.SUPER_ADMIN,g.ADMIN].includes(S)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Full Name"}),(0,y.jsxs)("p",{className:"font-medium",children:[(null===j||void 0===j?void 0:j.first_name)||"N/A"," ",(null===j||void 0===j?void 0:j.last_name)||""]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,y.jsx)("p",{className:"font-medium",children:(null===j||void 0===j?void 0:j.email)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,y.jsxs)("p",{className:"font-medium",children:["+",null===j||void 0===j||null===(e=j.country_code)||void 0===e?void 0:e.dial_code," ",(null===j||void 0===j?void 0:j.phone_number)||"N/A"]})]})]}):[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Company Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===j||void 0===j?void 0:j.name)||(null===f||void 0===f?void 0:f.name)||(null===A||void 0===A?void 0:A.name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Display Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===j||void 0===j?void 0:j.display_name)||(null===f||void 0===f?void 0:f.display_name)||(null===A||void 0===A?void 0:A.display_name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,y.jsx)("p",{className:"font-medium",children:(null===j||void 0===j?void 0:j.email)||(null===f||void 0===f?void 0:f.email)||(null===A||void 0===A?void 0:A.email)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,y.jsxs)("p",{className:"font-medium",children:["+",(null===j||void 0===j||null===(s=j.country_code)||void 0===s?void 0:s.dial_code)||(null===f||void 0===f||null===(i=f.country_code)||void 0===i?void 0:i.dial_code)||(null===A||void 0===A||null===(a=A.country_code)||void 0===a?void 0:a.dial_code)," ",(null===j||void 0===j?void 0:j.phone_no)||(null===f||void 0===f?void 0:f.phone_no)||(null===A||void 0===A?void 0:A.phone_no)||"N/A"]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Website"}),(0,y.jsx)("p",{className:"font-medium",children:(null===j||void 0===j?void 0:j.website_url)||(null===f||void 0===f?void 0:f.website_url)||(null===A||void 0===A?void 0:A.website_url)||"N/A"})]})]}):[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Institute Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Display Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.display_name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.email)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,y.jsxs)("p",{className:"font-medium",children:["+",null===A||void 0===A||null===(l=A.country_code)||void 0===l?void 0:l.dial_code," ",(null===A||void 0===A?void 0:A.phone_no)||"N/A"]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Website"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.website_url)||"N/A"})]})]}):void 0})()})]}),(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-100",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,y.jsx)(v.F5$,{className:"mr-2 text-blue-500"}),"Account Security"]}),(0,y.jsxs)("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,y.jsx)(v.WXf,{className:"mr-1"})," Change"]})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Password"}),(0,y.jsx)("p",{className:"font-medium",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Last Updated"}),(0,y.jsx)("p",{className:"font-medium",children:null!==j&&void 0!==j&&j.updatedAt?new Date(j.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Member Since"}),(0,y.jsx)("p",{className:"font-medium",children:null!==j&&void 0!==j&&j.createdAt?new Date(j.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]})]})]})]}),(0,y.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,y.jsxs)("button",{onClick:W,className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("div",{className:"p-2 bg-blue-100 rounded-full mr-3",children:(0,y.jsx)(v.JXP,{className:"text-blue-600"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-gray-800",children:"Edit Profile"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Update your personal information"})]})]}),(0,y.jsx)(v.WXf,{className:"text-gray-400"})]}),(0,y.jsxs)("button",{onClick:J,className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("div",{className:"p-2 bg-purple-100 rounded-full mr-3",children:(0,y.jsx)(v.F5$,{className:"text-purple-600"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-gray-800",children:"Change Password"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Update your security credentials"})]})]}),(0,y.jsx)(v.WXf,{className:"text-gray-400"})]})]})]})]})]}),(0,y.jsx)(h.A,{isOpen:b,title:"Change Password",onClose:()=>{M(!1),q(),X({})},children:(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("div",{className:"text-center mb-4",children:[(0,y.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-3",children:(0,y.jsx)(v.F5$,{className:"h-5 w-5 text-blue-600"})}),(0,y.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Update your password"}),(0,y.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Ensure your account is using a long, random password to stay secure."})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)(_.A,{label:"Current Password",value:U.currentPassword,onChange:e=>F("currentPassword",e.target.value),name:"currentPassword",placeholder:"Enter current password",error:null===k||void 0===k?void 0:k.currentPassword,icon:(0,y.jsx)(v.F5$,{className:"text-gray-400"})}),(0,y.jsx)(_.A,{label:"New Password",value:U.newPassword,onChange:e=>F("newPassword",e.target.value),name:"newPassword",placeholder:"Enter new password",error:null===k||void 0===k?void 0:k.newPassword,icon:(0,y.jsx)(v.F5$,{className:"text-gray-400"})}),(0,y.jsx)(_.A,{label:"Confirm New Password",value:U.confirmPassword,onChange:e=>F("confirmPassword",e.target.value),name:"confirmPassword",placeholder:"Confirm new password",error:null===k||void 0===k?void 0:k.confirmPassword,icon:(0,y.jsx)(v.YrT,{className:"text-gray-400"})})]}),(0,y.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,y.jsx)(N.A,{variant:"secondary",onClick:()=>{M(!1),q(),X({})},className:"px-4 py-2",children:"Cancel"}),(0,y.jsx)(N.A,{variant:"primary",onClick:async()=>{if((()=>{const e={};return U.currentPassword||(e.currentPassword="Current password is required"),U.newPassword?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(U.newPassword)||(e.newPassword="Password must be at least 8 characters long, include uppercase, lowercase, number, and special character"):e.newPassword="New password is required",U.confirmPassword?U.newPassword!==U.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Confirm password is required",X(e),0===Object.keys(e).length})())try{var e;let s;L(!0),[g.SUPER_ADMIN,g.ADMIN].includes(S)?s=await w((0,d.ds)({currentPassword:U.currentPassword,newPassword:U.newPassword,confirmPassword:U.confirmPassword})).unwrap():[g.COMPANIES,g.COMPANIES_ADMIN].includes(S)?s=await w((0,d.gX)({currentPassword:U.currentPassword,newPassword:U.newPassword,confirmPassword:U.confirmPassword})).unwrap():[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)&&(s=await w((0,d.ez)({currentPassword:U.currentPassword,newPassword:U.newPassword,confirmPassword:U.confirmPassword})).unwrap()),o.oR.success((null===(e=s)||void 0===e?void 0:e.message)||"Password updated successfully"),$(),M(!1),q(),L(!1)}catch(s){o.oR.error(s||"Failed to update password"),L(!1)}else o.oR.error("Please fix the validation errors")},loading:z,className:"px-4 py-2",children:"Update Password"})]})]})}),(0,y.jsx)(h.A,{isOpen:T,title:"Edit Profile",onClose:()=>{D(!1),X({})},size:"lg",children:(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"flex flex-col items-center",children:[H(),(0,y.jsxs)("button",{onClick:()=>function(){const e="imageUpload-".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile_picture_url");document.getElementById(e).click()}([g.SUPER_ADMIN,g.ADMIN,g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"profile_picture_url":"logo_url"),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,y.jsx)(v.PoE,{className:"mr-1"})," Change photo"]})]}),[g.SUPER_ADMIN,g.ADMIN].includes(S)?(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"First Name",type:"text",value:U.first_name,onChange:e=>F("first_name",e.target.value),placeholder:"Enter first name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.first_name})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Last Name",type:"text",value:U.last_name,onChange:e=>F("last_name",e.target.value),placeholder:"Enter last name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.last_name})})]}):(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"Company Name":"Institute Name",type:"text",value:U.name,onChange:e=>F("name",e.target.value),placeholder:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"Enter company name":"Enter institute name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.name})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"Industry Name":"Institute Name",type:"text",value:U.industry,onChange:e=>F("industry",e.target.value),placeholder:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"Enter industry":"Enter institute industry",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.industry})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"Headquarters Name":"Institute Name",type:"text",value:U.headquarters,onChange:e=>F("headquarters",e.target.value),placeholder:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)?"Enter headquarters":"Enter institute headquarters",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.headquarters})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Display Name",type:"text",value:U.display_name,onChange:e=>F("display_name",e.target.value),placeholder:"Enter display name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.display_name})})]}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Email",type:"email",value:U.email,onChange:e=>F("email",e.target.value),placeholder:"Enter email address",icon:(0,y.jsx)(v.pHD,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.email})}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsx)("div",{children:(0,y.jsx)(p.A,{options:O,label:"Country",selectedOption:null===O||void 0===O?void 0:O.find(e=>{var s;return(null===e||void 0===e?void 0:e.label)===(null===U||void 0===U||null===(s=U.country_code)||void 0===s?void 0:s.name)}),onChange:e=>(e=>{R(s=>(0,a.A)((0,a.A)({},s),{},{country_code:{name:null===e||void 0===e?void 0:e.label,dial_code:null===e||void 0===e?void 0:e.dial_code,short_name:null===e||void 0===e?void 0:e.short_name,emoji:null===e||void 0===e?void 0:e.emoji}}))})(e),error:null===k||void 0===k?void 0:k.country_code,icon:(0,y.jsx)(v.VeH,{className:"text-gray-400"})})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.SUPER_ADMIN,g.ADMIN].includes(S)?"Phone Number":"Phone",type:"tel",value:[g.SUPER_ADMIN,g.ADMIN].includes(S)?U.phone_number:U.phone_no,onChange:e=>F([g.SUPER_ADMIN,g.ADMIN].includes(S)?"phone_number":"phone_no",e.target.value),placeholder:[g.SUPER_ADMIN,g.ADMIN].includes(S)?"Enter phone number":"Enter phone",icon:(0,y.jsx)(v.QFc,{className:"text-gray-400"}),error:[g.SUPER_ADMIN,g.ADMIN].includes(S)?null===k||void 0===k?void 0:k.phone_number:null===k||void 0===k?void 0:k.phone_no,prefix:(null===(c=U.country_code)||void 0===c?void 0:c.dial_code)||"+"})})]}),![g.SUPER_ADMIN,g.ADMIN].includes(S)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Website URL",type:"url",value:U.website_url,onChange:e=>F("website_url",e.target.value),placeholder:"Enter website URL",icon:(0,y.jsx)(v.VeH,{className:"text-gray-400"}),error:null===k||void 0===k?void 0:k.website_url})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Description",type:"textarea",value:U.description,onChange:e=>F("description",e.target.value),placeholder:"Enter description",error:null===k||void 0===k?void 0:k.description,rows:3})})]}),(0,y.jsx)("div",{children:(0,y.jsx)(N.A,{variant:"primary",onClick:async()=>{if((()=>{var e,s,i;const a={};var l,r,n,d;[g.SUPER_ADMIN,g.ADMIN].includes(S)?(null!==(l=U.first_name)&&void 0!==l&&l.trim()?U.first_name.trim().length<2&&(a.first_name="First name must be at least 2 characters"):a.first_name="First name is required",null!==(r=U.last_name)&&void 0!==r&&r.trim()?U.last_name.trim().length<2&&(a.last_name="Last name must be at least 2 characters"):a.last_name="Last name is required"):(null!==(n=U.name)&&void 0!==n&&n.trim()?U.name.trim().length<2&&(a.name="Name must be at least 2 characters"):a.name="Name is required",null!==(d=U.display_name)&&void 0!==d&&d.trim()||(a.display_name="Display name is required")),null!==(e=U.email)&&void 0!==e&&e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U.email)||(a.email="Please enter a valid email address"):a.email="Email is required";const o=[g.SUPER_ADMIN,g.ADMIN].includes(S)?"phone_number":"phone_no";return null!==(s=U[o])&&void 0!==s&&s.trim()?/^[0-9]{10,15}$/.test(U[o].replace(/\D/g,""))||(a[o]="Please enter a valid phone number (10-15 digits)"):a[o]="Phone number is required",null!==(i=U.country_code)&&void 0!==i&&i.name||(a.country_code="Country is required"),X(a),0===Object.keys(a).length})())try{var e;let s;if(L(!0),[g.SUPER_ADMIN,g.ADMIN].includes(S)){const e={first_name:U.first_name.trim(),last_name:U.last_name.trim(),email:U.email.trim(),profile_picture_url:U.profile_picture_url,country_code:U.country_code,phone_number:U.phone_number.trim()};s=await w((0,d.r7)(e)).unwrap()}else if([g.COMPANIES,g.COMPANIES_ADMIN].includes(S)){const e={name:U.name.trim(),display_name:U.display_name.trim(),email:U.email.trim(),logo_url:U.logo_url,website_url:U.website_url.trim(),description:U.description.trim(),country_code:U.country_code,phone_no:U.phone_no.trim(),company_size:U.company_size,company_type:U.company_type,specialties:U.specialties,founded_year:U.founded_year,headquarters:U.headquarters,industry:U.industry};s=await w((0,d.sd)(e)).unwrap()}else if([g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(S)){const e={name:U.name.trim(),display_name:U.display_name.trim(),email:U.email.trim(),logo_url:U.logo_url,website_url:U.website_url.trim(),description:U.description.trim(),country_code:U.country_code,phone_no:U.phone_no.trim(),institution_type_id:U.institution_type_id,specialties:U.specialties,founded_year:U.founded_year};s=await w((0,d.I4)(e)).unwrap()}o.oR.success((null===(e=s)||void 0===e?void 0:e.message)||"Profile updated successfully"),$(),D(!1),L(!1)}catch(s){o.oR.error(s||"Failed to update profile"),L(!1)}else o.oR.error("Please fix the validation errors")},loading:z,className:"px-4 py-2",children:"Save Changes"})})]})})]})}}}]);
//# sourceMappingURL=604.1adffc64.chunk.js.map