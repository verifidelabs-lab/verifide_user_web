"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[623],{5623:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(5043),r=a(9981),t=a(9804),c=a(1462),n=a(9698),i=a(4975),o=a(7072),d=(a(4014),a(4129)),m=a(579);const x=()=>{var e,s,a,x,h;const{id:u}=(0,r.g)(),j=(0,r.Zp)(),[f,p]=(0,l.useState)(null),[g,y]=(0,l.useState)(!0),[b,v]=(0,l.useState)(null);return(0,l.useEffect)(()=>{u?(async()=>{try{const e=await fetch("".concat(d.BG,"api/v1/user/post/get-post-details?post_id=").concat(u));if(!e.ok)throw new Error("Failed to fetch post");const s=await e.json();p(s)}catch(e){console.error(e),v(e.message||"Something went wrong")}finally{y(!1)}})():(v("Invalid post ID"),y(!1))},[u]),g?(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):b?(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:b}):f?(0,m.jsxs)("div",{className:"min-h-screen glassy-card",children:[(0,m.jsx)("header",{className:"glassy-card border-b border-gray-200 sticky top-0 z-40",children:(0,m.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[(0,m.jsx)("button",{onClick:()=>j(-1),className:"glassy-text-secondary hover:glassy-text-primary",children:"\u2190 Back"}),(0,m.jsx)("h1",{className:"text-lg font-semibold",children:"Post"}),(0,m.jsx)("div",{className:"w-6"})," "]})}),(0,m.jsx)("div",{className:"max-w-2xl mx-auto p-4",children:(0,m.jsxs)("div",{className:"glassy-card rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,m.jsxs)("div",{className:"p-4 border-b border-gray-100 flex items-center space-x-3",children:[(0,m.jsx)("img",{src:(null===(e=f.userData)||void 0===e?void 0:e.profile_picture_url)||"/default-profile.png",alt:(null===(s=f.userData)||void 0===s?void 0:s.name)||"User",className:"w-12 h-12 rounded-full object-cover"}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("h3",{className:"font-semibold",children:(null===(a=f.userData)||void 0===a?void 0:a.name)||"Unknown"}),(0,m.jsx)("p",{className:"text-sm glassy-text-secondary",children:"Posted publicly"})]})]}),(0,m.jsxs)("div",{className:"p-4",children:[(0,m.jsx)("h2",{className:"font-semibold text-lg mb-2 glassy-text-primary",children:f.title||"Untitled Post"}),(0,m.jsx)("p",{className:"whitespace-pre-line glassy-text-primary",children:f.content||"No content available"})]}),((null===(x=f.image_urls)||void 0===x?void 0:x.length)>0||f.video_url)&&(0,m.jsxs)("div",{className:"border-t border-gray-100",children:[(null===(h=f.image_urls)||void 0===h?void 0:h.length)>0&&(0,m.jsx)(i.RC,{modules:[o.dK],pagination:{clickable:!0},className:"h-64 w-full",children:f.image_urls.map((e,s)=>(0,m.jsx)(i.qr,{children:(0,m.jsx)("img",{src:e,alt:"Post media ".concat(s+1),className:"w-full h-full object-contain",onError:e=>{e.target.src="/placeholder-image.png"}})},s))}),f.video_url&&(0,m.jsx)("video",{src:f.video_url,controls:!0,className:"w-full max-h-96 object-contain",onError:e=>console.log("Video failed to load")})]}),(0,m.jsxs)("div",{className:"p-4 border-t border-gray-100 flex justify-around",children:[(0,m.jsxs)("button",{className:"flex items-center space-x-1 glassy-text-secondary",children:[f.isLiked?(0,m.jsx)(t.DfY,{className:"text-red-500"}):(0,m.jsx)(t.uoR,{}),(0,m.jsxs)("span",{children:["Like (",f.like_count||0,")"]})]}),(0,m.jsxs)("button",{className:"flex items-center space-x-1 glassy-text-secondary",children:[(0,m.jsx)(n.RMN,{}),(0,m.jsxs)("span",{children:["Comment (",f.comments||0,")"]})]}),(0,m.jsxs)("button",{className:"flex items-center space-x-1 glassy-text-secondary",children:[(0,m.jsx)(c.B07,{}),(0,m.jsxs)("span",{children:["Share (",f.share_count||0,")"]})]})]})]})})]}):(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center glassy-text-secondary",children:"No post data available."})}}}]);
//# sourceMappingURL=623.608a1276.chunk.js.map