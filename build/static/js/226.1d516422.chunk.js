"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[226],{391:(e,l,i)=>{i.d(l,{A:()=>s});var a=i(5043),t=i(579);const s=e=>{let{skills:l=[],limit:i}=e;const[s,d]=(0,a.useState)(!1),r=s?l:i?l.slice(0,i):l,o=!s&&i&&l.length>i?l.length-i:0;return(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.map((e,l)=>(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-[#FAFAFA] border border-[#E8E8E8] text-[#202226] hover:bg-blue-50",children:null===e||void 0===e?void 0:e.skill_name},l)),o>0&&(0,t.jsxs)("span",{onClick:()=>d(!0),className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-blue-50 border border-[#E8E8E8] text-blue-600 cursor-pointer",children:["+",o," more"]}),s&&l.length>i&&(0,t.jsx)("span",{onClick:()=>d(!1),className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-gray-100 border border-[#E8E8E8] text-gray-600 cursor-pointer",children:"Show less"})]})}},616:(e,l,i)=>{i.r(l),i.d(l,{default:()=>te});var a=i(3986),t=i(9379),s=i(5043),d=i(3003),r=i(6328),o=i(1462),n=i(2485),c=(i(9686),i(4272)),u=i(5937),m=i(820),v=i(5200),p=i(579);const g=e=>{let{label:l="Open to work",options:i,onSelect:a,value:t}=e;const[d,r]=(0,s.useState)(!1);return(0,p.jsxs)("div",{className:"relative inline-block text-left",children:[(0,p.jsxs)("button",{onClick:()=>r(e=>!e),className:"flex items-center justify-between xl:w-[170px] ld:w-28 px-2 py-2 md:text-sm text-xs bg-[#2563EB1A]/10 font-medium text-gray-700  border border-gray-200 rounded-lg shadow-sm hover:bg-blue-100 transition-all duration-200",children:[(0,p.jsx)("span",{children:t?t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):l}),(0,p.jsx)(v.fK4,{className:" text-gray-600 transition-transform duration-200 ".concat(d?"rotate-180":"")})]}),d&&(0,p.jsx)("div",{className:"absolute md:w-[170px] w-36 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:(0,p.jsx)("ul",{className:"py-1 text-sm text-gray-700",children:i.map(e=>(0,p.jsx)("li",{onClick:()=>(e=>{a(e),r(!1)})(e),className:"px-2 py-1 cursor-pointer hover:bg-blue-50 hover:text-blue-600 transition-colors duration-200 md:text-sm text-xs",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})})]})};var h=i(5413),x=i(9804),f=i(9461),_=i(184),y=i(9981);const b=e=>{let{isOpen:l,onClose:i,title:a,userData:t}=e;const s=(0,y.Zp)();return l?(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,p.jsxs)("div",{className:"w-full max-w-md p-4 mx-auto bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsx)("h2",{className:"md:text-sm text-xs font-semibold tracking-wide text-gray-800 uppercase",children:a}),(0,p.jsx)(h.A,{onClick:i,variant:"zinc",rounded:"full",children:"Back",icon:(0,p.jsx)(x.VKQ,{className:"rotate-45"}),className:"hover:scale-105 transition-transform duration-200"})]}),(0,p.jsx)("div",{className:"space-y-4",children:(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{className:"w-full p-4 mx-auto bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 flex flex-col items-center justify-center cursor-pointer",onClick:()=>s("/user/resume/".concat(t.username)),children:[(0,p.jsx)(_.t69,{className:"text-2xl text-gray-600 mb-2"}),(0,p.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Resume"})]}),(0,p.jsxs)("div",{className:"w-full p-4 mx-auto bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 flex flex-col items-center justify-center cursor-pointer",onClick:()=>s("/user/profile/".concat(t.username,"/").concat(null===t||void 0===t?void 0:t.userId)),children:[(0,p.jsx)(_.x$1,{className:"text-2xl text-gray-600 mb-2"}),(0,p.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Profile"})]})]})})]})}):null},j=e=>{var l,i,a,t,v,f,_,y,j,w,N,C,A,k,S,E,F;let{data:D,frameStatus:q,handleSelection:I}=e;const{setProfileImage:R}=(0,m.c)(),L=(0,d.wA)(),[P,O]=(0,s.useState)(null),[B,U]=(0,s.useState)(null),[T,z]=(0,s.useState)(!1),[M,G]=(0,s.useState)(!1),[W,V]=(0,s.useState)(!1),J=(0,s.useRef)(null),K=(0,s.useRef)(null),[X,H]=(0,s.useState)(!1),Y=(0,s.useCallback)(e=>{const l=e.target.files[0];if(!l)return void r.oR.error("Please select a file");if(!["image/jpeg","image/png"].includes(l.type))return void r.oR.error("Only image files (JPEG, PNG,JPG) are allowed");const i=new FileReader;i.onload=()=>{O(i.result),z(!0)},i.onerror=()=>{r.oR.error("Failed to read file")},i.readAsDataURL(l)},[]),Q=(0,s.useCallback)(async()=>{if(K.current){V(!0);try{const e=K.current.cropper.getCroppedCanvas({width:300,height:300,fillColor:"#fff",imageSmoothingEnabled:!0,imageSmoothingQuality:"high"});if(!e)throw new Error("Cropping failed");e.toBlob(async e=>{try{var l;const i=await(0,c.pv)(e,"PROFILES");if(null===i||void 0===i||null===(l=i.data)||void 0===l||!l.imageURL)throw new Error("Upload failed");U(i.data.imageURL),L((0,u.eH)(i.data.imageURL)),R(i.data.imageURL),L((0,u.Q8)({profile_picture_url:i.data.imageURL})),L((0,u.E$)()),r.oR.success("Profile image updated successfully")}catch(i){r.oR.error(i||"Failed to upload image")}finally{V(!1),z(!1)}},"image/jpeg",.92)}catch(e){r.oR.error("Failed to crop image"),V(!1)}}},[L]);return(0,p.jsxs)("div",{className:"flex justify-start items-start  gap-3",children:[(0,p.jsx)("input",{type:"file",ref:J,onChange:Y,accept:"image/jpeg,image/png",style:{display:"none"}}),T&&(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,p.jsxs)("div",{className:"bg-white p-4 rounded-lg max-w-lg w-full",children:[(0,p.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Crop Profile Image"}),(0,p.jsx)("div",{className:"mb-4",style:{height:"400px"},children:(0,p.jsx)(n.A,{src:P,style:{height:"100%",width:"100%"},initialAspectRatio:1,guides:!0,ref:K,viewMode:1,minCropBoxHeight:100,minCropBoxWidth:100,responsive:!0,autoCropArea:1,checkOrientation:!1})}),(0,p.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,p.jsx)("button",{onClick:()=>z(!1),className:"px-4 py-2 border border-gray-300 rounded-md",disabled:W,children:"Cancel"}),(0,p.jsx)("button",{onClick:Q,className:"px-4 py-2 bg-blue-500 text-white rounded-md flex items-center justify-center",disabled:W,children:W?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,p.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,p.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Crop & Save"})]})]})}),(0,p.jsxs)("div",{className:"relative group justify-start items-start flex-shrink-0 xl:w-[120px] xl:h-[120px] lg:w-24 lg:h-24 md:w-20 md:h-20 border overflow-hidden bg-gray-200 rounded-2xl cursor-pointer",onClick:()=>{J.current.click()},children:[(0,p.jsx)("div",{className:"w-full h-full",children:M||null===D||void 0===D||null===(l=D.personalInfo)||void 0===l||!l.profile_picture_url?(0,p.jsx)("div",{className:"object-cover md:w-full md:h-full w-[100px] h-[100px] md:rounded-md rounded-full flex items-center justify-center bg-gray-300",children:(0,p.jsx)("span",{className:"text-2xl font-bold text-gray-600",children:(0,p.jsx)("img",{src:"/0684456b-aa2b-4631-86f7-93ceaf33303c.png",alt:"dummy logo"})})}):(0,p.jsx)("img",{src:B||(null===D||void 0===D||null===(i=D.personalInfo)||void 0===i?void 0:i.profile_picture_url)||"/0684456b-aa2b-4631-86f7-93ceaf33303c.png",alt:"Profile",onError:()=>{G(!0)},className:"object-cover md:w-full md:h-full w-[100px] h-[100px] md:rounded-md rounded-full"})}),(0,p.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,p.jsx)(o.dJk,{className:"text-white text-lg"})})]}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===D||void 0===D||null===(a=D.personalInfo)||void 0===a?void 0:a.first_name)&&(0,p.jsx)("h1",{className:"xl:text-[20px] lg:text-[18px] md:text-[16px] font-bold text-[#000000E6]",children:"".concat((null===D||void 0===D||null===(t=D.personalInfo)||void 0===t?void 0:t.first_name)||""," ").concat((null===D||void 0===D||null===(v=D.personalInfo)||void 0===v?void 0:v.last_name)||"")}),(null===D||void 0===D||null===(f=D.personalInfo)||void 0===f?void 0:f.is_verified)&&(0,p.jsx)("div",{className:"flex items-center justify-center w-5 h-5 rounded-full",children:(0,p.jsx)("img",{src:"/image (2).png",alt:"approved",className:"t"})})]}),(null===D||void 0===D||null===(_=D.personalInfo)||void 0===_?void 0:_.headline)&&(0,p.jsx)("p",{className:"mt-1 md:text-[16px] font-medium text-[#000000]",children:(null===D||void 0===D||null===(y=D.personalInfo)||void 0===y?void 0:y.headline)||"Management Executive at Zara"}),(null===D||void 0===D||null===(j=D.personalInfo)||void 0===j||null===(w=j.address)||void 0===w||null===(N=w.city)||void 0===N?void 0:N.name)&&(0,p.jsxs)("p",{className:"text-xs font-medium text-[#00000080]/50 ",children:[(null===D||void 0===D||null===(C=D.personalInfo)||void 0===C||null===(A=C.address)||void 0===A||null===(k=A.city)||void 0===k?void 0:k.name)||"N/A",","," ",(null===D||void 0===D||null===(S=D.personalInfo)||void 0===S||null===(E=S.address)||void 0===E||null===(F=E.state)||void 0===F?void 0:F.name)||"N/A"]}),(0,p.jsxs)("div",{className:"flex items-center mt-2.5 space-x-3",children:[(0,p.jsx)(g,{options:["open_for_job","open_for_internship","open_for_project"],value:q,onSelect:I}),(0,p.jsx)(h.A,{icon:(0,p.jsx)(x.Ah9,{}),variant:"outline",size:"sm",className:"bg-[#FFFFFF] border border-[#8C8C8C4F]/30 text-sm !text-[#0C0C0C]",tooltip:"Create Resume / profile",onClick:()=>{H(!0)},children:"Resume"})]})]}),(0,p.jsx)(b,{isOpen:X,onClose:()=>H(!1),title:"Select Your Preview",userData:{userId:D._id,username:D.personalInfo.username}})]})},w=e=>{let{src:l,alt:i}=e;return(0,p.jsx)("div",{className:"xl:w-10 xl:h-10 md:w-7 md:h-7  w-8 h-8 overflow-hidden",children:(0,p.jsx)("img",{src:l,alt:i,className:"object-cover w-full h-full",onError:e=>{e.target.style.background="linear-gradient(45deg, #f3f4f6, #e5e7eb)",e.target.src=""}})})};var N=i(1008),C=i(391),A=i(8214),k=i(9442),S=i(130),E=i(8155),F=i(6720);const D=e=>{var l,i,a;let{formData:s,error:d,isExtended:o,setIsExtended:n,setFormData:c,stateList:u,citiesList:m,loading:v,handleChange:g,countryList:f,handleSelectChange:_,handleSubmit:y,setErrors:b}=e;const j=e=>{const l=e.split(".");let i=s;for(const t of l){var a;if(i=null===(a=i)||void 0===a?void 0:a[t],void 0===i)return""}return i||""},w=function(e,l){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=l.split(".");let t=e;for(const d of a){var s;if(t=null===(s=t)||void 0===s?void 0:s[d],void 0===t)return i}return t||i};return(0,p.jsx)("div",{className:"flex flex-col gap-6 bg-white border rounded-2xl",children:(0,p.jsxs)("div",{className:"p-8 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-[#000000E6]",children:"Personal Info"}),o?(0,p.jsx)(h.A,{variant:"zinc",rounded:"full",icon:(0,p.jsx)(x.VKQ,{}),onClick:()=>n(e=>!e),children:"Back"}):(0,p.jsx)("div",{className:"flex items-center gap-3",children:(0,p.jsx)("button",{type:"button",onClick:()=>{n(!o)},className:"p-2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":o?"Collapse form":"Expand form",children:o?(0,p.jsx)("div",{}):(0,p.jsx)(x.VZ_,{className:"text-blue-500 ",size:22})})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-4 items-end lg:grid-cols-4 md:grid-cols-2 pb-4",children:[(0,p.jsx)(A.A,{label:"First Name",placeholder:"John",value:j("first_name"),onChange:e=>g("first_name",e.target.value),className:"h-10 w-full",required:!0,error:null===d||void 0===d?void 0:d.first_name}),(0,p.jsx)(A.A,{label:"Last Name",placeholder:"Doe",value:j("last_name"),onChange:e=>g("last_name",e.target.value),className:"h-10 w-full",required:!0,error:null===d||void 0===d?void 0:d.last_name}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(A.A,{label:"User Name",placeholder:"Doe",value:j("username"),onChange:e=>g("username",e.target.value),className:"h-10 w-full",required:!0,error:null===d||void 0===d?void 0:d.username}),(0,p.jsxs)("span",{className:"text-blue-500 text-[10px] font-medium top-[75px] absolute flex items-center gap-1",children:[(0,p.jsx)("a",{href:"https://dev-verified.jamsara.com/user-details/".concat(null===s||void 0===s?void 0:s.username),target:"_blank",rel:"noopener noreferrer",className:"underline",children:"https://dev-verified.jamsara.com/".concat(null===s||void 0===s?void 0:s.username)}),(0,p.jsx)(F.y9h,{className:"cursor-pointer text-gray-600 hover:text-gray-800",onClick:async()=>{try{const e="https://dev-verified.jamsara.com/user-details/".concat(null===s||void 0===s?void 0:s.username);await navigator.clipboard.writeText(e),r.oR.success("URL copied to clipboard!")}catch(e){console.error("Failed to copy: ",e)}}})]})]}),(0,p.jsx)(k.A,{label:"Date of birth",name:"birth_date",value:j("birth_date"),onChange:e=>g("birth_date",e.target.value),className:"h-10 w-full",type:"date",required:!0,error:null===d||void 0===d?void 0:d.birth_date,allowFutureDate:!1,dobRange:!0})]}),(0,p.jsxs)("div",{className:"overflow-hidden transition-all duration-500 ease-in-out ".concat(o?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:[(0,p.jsxs)("div",{className:"pt-6 ".concat(o?"block":"hidden"),children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-4 items-end lg:grid-cols-4 md:grid-cols-2 mt-6",children:[(0,p.jsx)(E.A,{label:"Gender",selectedOption:(null===S||void 0===S||null===(l=S.gender)||void 0===l?void 0:l.find(e=>e.value===j("gender")))||null,onChange:e=>{c(l=>(0,t.A)((0,t.A)({},l),{},{gender:(null===e||void 0===e?void 0:e.value)||""})),b({})},options:(null===S||void 0===S?void 0:S.gender)||[],required:!0,error:null===d||void 0===d?void 0:d.gender,isClearable:!1}),(0,p.jsx)(E.A,{label:"Country",selectedOption:(null===f||void 0===f?void 0:f.find(e=>e.label==w(s,"address.country.name")))||null,onChange:e=>_("country",e),options:f||[],required:!0,isClearable:!1,error:null===d||void 0===d?void 0:d["address.country.name"]}),(0,p.jsx)(E.A,{label:"State",selectedOption:(null===u||void 0===u?void 0:u.find(e=>e.label===w(s,"address.state.name")))||null,onChange:e=>_("state",e),options:u||[],required:!0,error:null===d||void 0===d?void 0:d["address.state.name"],isClearable:!1}),(0,p.jsx)(E.A,{label:"City",selectedOption:(null===m||void 0===m?void 0:m.find(e=>(null===e||void 0===e?void 0:e.label)===w(s,"address.city.name")))||null,onChange:e=>_("city",e),options:m||[],required:!0,error:null===d||void 0===d?void 0:d["address.city.name"],isClearable:!1})]}),(0,p.jsxs)("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-6",children:[(0,p.jsx)(A.A,{label:"Pin Code ",placeholder:"Enter PinCode",value:null===s||void 0===s||null===(i=s.address)||void 0===i?void 0:i.pin_code,onChange:e=>c(l=>(0,t.A)((0,t.A)({},l),{},{address:(0,t.A)((0,t.A)({},l.address),{},{pin_code:e.target.value})})),className:"h-10 w-full",name:"pin_code",required:!0,error:null===d||void 0===d?void 0:d["address.pin_code"]}),(0,p.jsx)(A.A,{label:"Address ",placeholder:"Enter Address",value:null===s||void 0===s||null===(a=s.address)||void 0===a?void 0:a.address_line_1,onChange:e=>c(l=>(0,t.A)((0,t.A)({},l),{},{address:(0,t.A)((0,t.A)({},l.address),{},{address_line_1:e.target.value})})),className:"h-10 w-full",name:"address_line_1",required:!0,error:null===d||void 0===d?void 0:d["address.address_line_1"],maxLength:"100"}),(0,p.jsx)(A.A,{label:"Headline",placeholder:"ex-Management Executive at Zara",value:j("headline"),onChange:e=>g("headline",e.target.value),className:"h-10 w-full",name:"headline",required:!0,error:null===d||void 0===d?void 0:d.headline,maxLength:100,minLength:5})]}),(0,p.jsxs)("div",{className:"mt-6",children:[(0,p.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Professional Bio *"}),(0,p.jsx)("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg",placeholder:"Write a short professional biography (min 10 and max 500)",value:j("summary"),onChange:e=>g("summary",e.target.value),maxLength:500}),(0,p.jsx)("p",{className:"text-red-500 text-xs",children:null===d||void 0===d?void 0:d.summary})]}),(0,p.jsxs)("div",{className:"flex items-center justify-end mt-6 gap-3",children:[(0,p.jsx)(h.A,{variant:"ghost",onClick:()=>n(e=>!e),children:"Close"}),(0,p.jsx)(h.A,{type:"button",onClick:y,loading:v,children:"Update"})]})]}),(0,p.jsx)("div",{})]})]})})};var q=i(6833),I=i(3002),R=i(7196),L=i(7115),P=i.n(L);i(6473);const O=e=>{let{title:l="EDUCATION",buttonText:i="Add Education",emptyStateTitle:a="No Education Records",emptyStateDescription:t="Add your education history to enhance your profile",handleOpenModal:d,logo:r="/Img/Profile/Frame.png",type:o,data:n=[],onEdit:c,onDelete:u,loadingStates:m={deletingItems:{}}}=e;(0,s.useEffect)(()=>{P().init({duration:800,easing:"ease-in-out",once:!1})},[]);const v=n.length>0,g=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})};return(0,p.jsxs)("div",{className:"w-full p-4 mx-auto bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsx)("h2",{className:"md:text-sm text-xs font-semibold tracking-wide text-gray-800 uppercase",children:l}),(0,p.jsx)(h.A,{onClick:d,children:i,icon:(0,p.jsx)(q.BlJ,{}),className:"hover:scale-105 transition-transform duration-200"})]}),v?(0,p.jsx)("div",{className:"space-y-6",children:n.map((e,i)=>{var a,t,s,d,r,n,v;const h=(x=e._id,m.deletingItems[x]||!1);var x;return(0,p.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all duration-300 ".concat(h?"opacity-70 pointer-events-none":""),"data-aos-delay":100*i,children:(0,p.jsxs)("div",{className:"group",children:[(0,p.jsxs)("div",{className:"w-full border-b border-[#0000001A]/10 pb-6 space-y-2 group-hover:border-blue-200 transition-colors duration-300",children:[(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("h3",{className:"font-medium text-[#000000E6] text-lg flex justify-start items-center gap-2",children:[(0,p.jsx)("span",{className:"bg-[#EAF1FF] rounded-full md:w-8 md:h-8 h-6  w-6 flex items-center capitalize justify-center text-[#000000] font-medium text-sm hover:bg-blue-100 transition-colors duration-300",children:(0,p.jsx)(I.IIi,{className:"hover:scale-110 transition-transform duration-300"})}),(0,p.jsx)("span",{className:"hover:text-blue-600 transition-colors duration-300 md:text-base text-xs truncate break-words text-wrap capitalize",children:"EDUCATION"===l?null===(a=e.institution_id)||void 0===a?void 0:a.name:"EXPERIENCE"===l?null===e||void 0===e||null===(t=e.company_id)||void 0===t?void 0:t.name:null===e||void 0===e?void 0:e.name}),(0,p.jsx)("span",{children:"approved"===(null===e||void 0===e?void 0:e.status)&&(0,p.jsx)("img",{src:"/image (2).png",alt:"approved",className:"t"})})]}),(0,p.jsx)("p",{className:"text-[#6B6B6B] text-xs font-medium capitalize hover:text-gray-800 transition-colors duration-300",children:null!==e&&void 0!==e&&e.issuing_organization?(0,p.jsx)("span",{children:null===e||void 0===e?void 0:e.issuing_organization}):(0,p.jsx)("span",{children:"EDUCATION"===l?null===(s=e.degree_id)||void 0===s?void 0:s.name:"EXPERIENCE"===l?null===e||void 0===e||null===(d=e.industries_id)||void 0===d?void 0:d.name:null===e||void 0===e||null===(r=e.institution_id)||void 0===r?void 0:r.name})})]}),(0,p.jsx)("div",{className:"lg:block hidden",children:(0,p.jsxs)("div",{className:"md:mt-3  mt-0 md:text-sm text-[10px] text-gray-500 bg-[#EAF1FF] capitalize rounded-2xl md:px-4 px-2 py-1 flex justify-start items-center gap-1 hover:bg-blue-100 hover:text-blue-600 transition-colors duration-300",children:[(0,p.jsx)(I.F2o,{className:"hover:scale-110 transition-transform duration-300"}),null!==e&&void 0!==e&&e.issue_date?(0,p.jsx)("span",{children:g(null===e||void 0===e?void 0:e.issue_date)}):(0,p.jsxs)("span",{children:[g(e.start_date)," -"," ",e.currentlyStudying||e.currentlyWorking||null===e||void 0===e||!e.end_date||e.currently_available?"Present":g(e.end_date)]})]})})]}),(0,p.jsx)("div",{className:"mb-2 text-sm text-gray-600 hover:text-gray-800 transition-colors duration-300",children:e.description?e.description:null===e||void 0===e||null===(n=e.profile_role_id)||void 0===n?void 0:n.name}),(null===(v=e.skills_acquired)||void 0===v?void 0:v.length)>0&&(0,p.jsx)(N.fL,{title:"Skills Acquired",skills:(null===e||void 0===e?void 0:e.skills_acquired)||[],limit:10,className:"hover:shadow-md transition-shadow duration-300"})]}),(0,p.jsxs)("div",{className:"flex justify-between place-items-center pt-2",children:[(0,p.jsx)("div",{className:"lg:opacity-0  opacity-100",children:(0,p.jsxs)("div",{className:"  mt-0 lg:text-sm text-[10px] text-gray-500 bg-[#EAF1FF] capitalize rounded-2xl md:px-4 px-2 py-1 flex justify-start items-center gap-1 hover:bg-blue-100 hover:text-blue-600 transition-colors duration-300",children:[(0,p.jsx)(I.F2o,{className:"hover:scale-110 transition-transform duration-300"}),null!==e&&void 0!==e&&e.issue_date?(0,p.jsx)("span",{children:g(null===e||void 0===e?void 0:e.issue_date)}):(0,p.jsxs)("span",{children:[g(e.start_date)," -"," ",e.currentlyStudying||e.currentlyWorking?"Present":g(e.end_date)]})]})}),!["requested","approved"].includes(null===e||void 0===e?void 0:e.status)&&(0,p.jsxs)("div",{className:"flex justify-end items-center gap-2 py-2",children:[(0,p.jsxs)("button",{onClick:()=>c(o,e),disabled:h,className:"flex items-center gap-1 ".concat(h?"text-blue-400 cursor-not-allowed":"text-blue-600 hover:text-blue-800 hover:scale-105"," transition-all duration-200"),children:[(0,p.jsx)("span",{className:"bg-[#E6EEFF] w-10 h-10 rounded-full flex justify-center items-center ".concat(h?"bg-blue-100":"hover:bg-blue-100"," transition-colors duration-300"),children:(0,p.jsx)(_.wwX,{className:"hover:scale-110 transition-transform duration-300"})}),"Edit"]}),(0,p.jsxs)("button",{onClick:()=>u(o,e._id),disabled:h,className:"flex items-center gap-1 ".concat(h?"text-red-400 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:scale-105"," transition-all duration-200 ml-2"),children:[(0,p.jsxs)("span",{className:"relative bg-[#E6EEFF] w-10 h-10 rounded-full flex justify-center items-center ".concat(h?"bg-red-100":"hover:bg-red-100"," transition-colors duration-300"),children:[(0,p.jsx)(R.Ku6,{className:"".concat(h?"scale-110":"hover:scale-110"," transition-transform duration-300")}),h&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:"absolute -left-2 w-4 h-5 bg-red-400 rounded-sm transform origin-right transition-all duration-500 animate-fileDelete",children:(0,p.jsx)("span",{className:"absolute top-0 left-0.5 w-3 h-0.5 bg-red-200"})}),(0,p.jsx)("span",{className:"absolute inset-0 rounded-full border-2 border-red-300 animate-ping opacity-0"})]})]}),h?(0,p.jsxs)("span",{className:"flex items-center gap-1",children:[(0,p.jsx)("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full animate-bounce"}),(0,p.jsx)("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full animate-bounce delay-75"}),(0,p.jsx)("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full animate-bounce delay-150"})]}):"Delete"]})]})]})]})},e.id)})}):(0,p.jsxs)("div",{className:"px-6 py-5 text-center border-2 border-gray-300 border-dashed rounded-lg bg-[#FBFBFB] hover:border-blue-300 transition-colors duration-300",children:[(0,p.jsx)("div",{className:"flex items-center justify-center mx-auto mb-4",children:(0,p.jsx)("img",{src:r,alt:"",className:"hover:scale-110 transition-transform duration-300"})}),(0,p.jsx)("h3",{className:"mb-2 text-[20px]  font-semibold text-[#000000E6]",children:a}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:t})]})]})};var B=i(8414),U=i(8059),T=i(3537);const z=e=>{let{formData:l,collegeList:i,modalState:a,handleClose:s,errors:d,handleSelectChange:o,degreeList:n,fieldsOfStudyList:c,handleChange:u,skillsList:m,loading:v,onClose:g,onSubmit:h,setFormData:x,allSkills:f,isSkillSelected:_,handleSkillClick:y,selectedSkills:b,setAddModalState:j,setInputFields:w,isCreatedByUser:C,isCreatedByUserForFields:S,isCreatedByUserForIndustry:E}=e;return(0,p.jsx)("div",{children:(0,p.jsx)(U.A,{isOpen:"education"===a.type,onClose:s,title:a.type,handleClose:g,handleSubmit:h,loading:v,children:(0,p.jsxs)("div",{className:"p-3 space-y-3 ",children:[(0,p.jsx)(T.A,{label:"College/ University Name",name:"institution_id",placeholder:"Select College/University",selectedOption:(null===i||void 0===i?void 0:i.find(e=>e.value===(null===l||void 0===l?void 0:l.institution_id)))||null,options:i||[],error:null===d||void 0===d?void 0:d.institution_id,onChange:e=>o("institution_id",e),className:"w-full h-10",onCreateOption:(e,l)=>{j({isOpen:!0,type:"college",field:l}),w(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,required:!0,isCreatedByUser:!0}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-3",children:[(0,p.jsx)(T.A,{label:"Degree",name:"degree_id",placeholder:"Select Degree",options:n||[],selectedOption:(null===n||void 0===n?void 0:n.find(e=>e.value===(null===l||void 0===l?void 0:l.degree_id)))||null,onChange:e=>o("degree_id",e),error:null===d||void 0===d?void 0:d.degree_id,className:"w-full h-10",isDisabled:!l.institution_id,onCreateOption:(e,l)=>{j({isOpen:!0,type:"degree",field:l}),w(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!C,required:!0,disabledTooltip:"Please first select college"}),(0,p.jsx)(T.A,{label:"Field of study",name:"field_of_studies",options:c||[],placeholder:"Select Field of Study",selectedOption:(null===c||void 0===c?void 0:c.find(e=>e.value===(null===l||void 0===l?void 0:l.field_of_studies)))||null,onChange:e=>o("field_of_studies",e),error:null===d||void 0===d?void 0:d.field_of_studies,className:"w-full h-10",isDisabled:!l.degree_id,onCreateOption:(e,l)=>{j({isOpen:!0,type:"field",field:l}),w(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!C,required:!0,disabledTooltip:"Please first select degree"})]}),(0,p.jsxs)("div",{className:"flex md:flex-row flex-col justify-between place-items-center gap-4",children:[(0,p.jsx)(k.A,{label:"Start Date",name:"start_date",type:"date",value:null===l||void 0===l?void 0:l.start_date,onChange:e=>u("start_date",e.target.value),error:null===d||void 0===d?void 0:d.start_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,required:!0}),(0,p.jsx)(k.A,{label:"End Date",name:"end_date",type:"date",value:null===l||void 0===l?void 0:l.end_date,onChange:e=>{const i=e.target.value;((e,l)=>{if(!e||!l)return!0;const i=new Date(e);return!(new Date(l)<i)||(r.oR.error("End date cannot be before Start date!"),!1)})(null===l||void 0===l?void 0:l.start_date,i)?u("end_date",i):u("end_date","")},error:null===d||void 0===d?void 0:d.end_date,autoComplete:"off",className:"w-full h-10",min:null===l||void 0===l?void 0:l.start_date,disabled:null===l||void 0===l?void 0:l.currently_available,required:!0})]}),(0,p.jsx)(A.A,{type:"checkbox",value:null===l||void 0===l?void 0:l.currently_available,label:"Currently Studying",onChange:e=>{x((0,t.A)((0,t.A)({},l),{},{currently_available:e.target.checked})),e.target.checked&&x(e=>(0,t.A)((0,t.A)({},e),{},{end_date:""}))}}),(0,p.jsxs)("div",{children:[(0,p.jsx)(A.A,{type:"textarea",required:!0,label:"Description",className:"w-full",placeholder:"Enter description (min length:0 max-length:200)",value:null===l||void 0===l?void 0:l.description,error:null===d||void 0===d?void 0:d.description,onChange:e=>u("description",e.target.value)}),(0,p.jsx)("p",{className:"text-end text-[14px] font-normal",children:"Maximum 200 character "})]}),(0,p.jsx)(T.A,{label:"Skills Acquired",options:m||[],selectedOption:null!==l&&void 0!==l&&l.skills_acquired&&m?l.skills_acquired.map(e=>{const l="object"===typeof e?e._id:e;return m.find(e=>e.value===l)}).filter(Boolean):[],onChange:e=>o("skills_acquired",e),isMulti:!0,error:null===d||void 0===d?void 0:d.skills_acquired,placeholder:"Select or search skills",onCreateOption:(e,l)=>{j({isOpen:!0,type:"skill",field:l}),w(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!C}),f.length>0&&(0,p.jsx)("div",{className:"max-w-lg overflow-hidden",children:(0,p.jsx)(N.LP,{title:"Suggested Skills",isSelected:_,handleSkillClick:y,selectedSkills:b,skills:f,limit:6})})]})})})},M=e=>{let{formData:l,allCompanies:i,handleSubmit:a,getSelectedOption:s,handleSelectChange:d,formErrors:o,modalState:n,isLoading:c,allIndustry:u,allProfile:m,handleClose:v,allWorkSkill:g,handleChange:h,error:x,setFormData:f,allSkills:_,isSkillSelected:y,handleSkillClick:b,selectedSkills:j,setAddModalState:w,setInputFields:C,isCreatedByUserForIndustry:S,isCreatedByUserFor:E,skillForProfileRoleId:F,loading:D}=e;return(0,p.jsx)("div",{children:(0,p.jsx)(U.A,{isOpen:"experience"===n.type,onClose:v,title:n.type,handleSubmit:a,loading:D,children:(0,p.jsxs)("div",{className:"p-3 space-y-3",children:[(0,p.jsx)(T.A,{label:"Company ",name:"company_id",placeholder:"Select Company",options:i,selectedOption:s(i,null===l||void 0===l?void 0:l.company_id),onChange:e=>d("company_id",e),error:x.company_id,className:"w-full h-10",disabled:!(null!==l&&void 0!==l&&l.company_id),required:!0,onCreateOption:(e,l)=>{w({isOpen:!0,type:"companies",field:l}),C(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!0}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-2",children:[(0,p.jsx)(T.A,{label:"Industry ",name:"industries_id",placeholder:"Select Industry",options:u,selectedOption:s(u,null===l||void 0===l?void 0:l.industries_id),onChange:e=>d("industries_id",e),error:x.industries_id,className:"w-full h-10",required:!0,onCreateOption:(e,l)=>{w({isOpen:!0,type:"industries",field:l}),C(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isDisabled:!(null!==l&&void 0!==l&&l.company_id),disabledTooltip:"Please select first Company",isCreatedByUser:!!S}),(0,p.jsx)(T.A,{label:"Position ",name:"profile_role_id",placeholder:"Select Position",options:m,selectedOption:s(m,null===l||void 0===l?void 0:l.profile_role_id),onChange:e=>d("profile_role_id",e),error:x.profile_role_id,className:"w-full h-10",required:!0,onCreateOption:(e,l)=>{w({isOpen:!0,type:"profile-roles",field:l}),C(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isDisabled:!(null!==l&&void 0!==l&&l.industries_id),disabledTooltip:"Please select first Industry",isCreatedByUser:!!E}),(0,p.jsx)(k.A,{label:"Start Date",name:"start_date",type:"date",value:null===l||void 0===l?void 0:l.start_date,onChange:e=>h("start_date",e.target.value),error:null===x||void 0===x?void 0:x.start_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,required:!0}),(0,p.jsx)(k.A,{label:"End Date",name:"end_date",type:"date",value:null===l||void 0===l?void 0:l.end_date,onChange:e=>{const i=e.target.value;((e,l)=>{if(!e||!l)return!0;const i=new Date(e);return!(new Date(l)<i)||(r.oR.error("End date cannot be before Start date!"),!1)})(null===l||void 0===l?void 0:l.start_date,i)?h("end_date",i):h("end_date","")},error:null===x||void 0===x?void 0:x.end_date,autoComplete:"off",className:"w-full h-10",min:null===l||void 0===l?void 0:l.start_date,disabled:null===l||void 0===l?void 0:l.currently_available})]}),(0,p.jsx)(A.A,{type:"checkbox",label:"i am currently Working",value:null===l||void 0===l?void 0:l.currently_available,name:"currently_available",onChange:e=>{f((0,t.A)((0,t.A)({},l),{},{currently_available:e.target.checked})),e.target.checked&&f(e=>(0,t.A)((0,t.A)({},e),{},{end_date:""}))}}),(0,p.jsx)(A.A,{type:"textarea",label:"Description",className:"w-full",placeholder:"Enter description (min length:0 max-length:200)",value:null===l||void 0===l?void 0:l.description,error:null===x||void 0===x?void 0:x.description,onChange:e=>h("description",e.target.value)}),(0,p.jsx)("p",{className:"text-end text-[14px] font-normal",children:"Maximum 200 character "}),(0,p.jsx)(T.A,{label:"Skills Acquired",options:g||[],selectedOption:null!==l&&void 0!==l&&l.skills_acquired&&g?l.skills_acquired.map(e=>{const l="object"===typeof e?e._id:e;return g.find(e=>e.value===l)}).filter(Boolean):[],onChange:e=>d("skills_acquired",e),isMulti:!0,error:null===x||void 0===x?void 0:x.skills_acquired,placeholder:"Select or search skills",onCreateOption:(e,l)=>{w({isOpen:!0,type:"skill",field:l}),C(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,required:!0,isCreatedByUser:!!F}),_.length>0&&(0,p.jsx)("div",{className:"max-w-lg overflow-hidden",children:(0,p.jsx)(N.LP,{title:"Suggested Skills",isSelected:y,handleSkillClick:b,selectedSkills:j,skills:_,limit:6})})]})})})};var G=i(6420);const W=e=>{var l;let{formData:i,handleSubmit:a,handleChange:d,modalState:o,handleClose:n,error:c,collegeList:u,handleSelectChange:m,companyList:v,handleFileUpload:g,handleFileDelete:h,setAddModalState:x,loading:f,setInputFields:_}=e;const[y,b]=(0,s.useState)(null!==i&&void 0!==i&&i.institution_id?"college":null!==i&&void 0!==i&&i.company_id?"company":"personal"),[j,w]=(0,s.useState)(null!==i&&void 0!==i&&i.media_url?"media":"link"),N=e=>{b(e),"college"!==e&&d("institution_id",""),"company"!==e&&d("company_id","")},C=e=>{w(e)};return(0,p.jsx)("div",{children:(0,p.jsx)(U.A,{isOpen:"projects"===o.type,onClose:n,title:"Add Project",handleSubmit:a,loading:f,children:(0,p.jsxs)("div",{className:"p-3 space-y-5",children:[(0,p.jsx)(A.A,{label:"Project Name",value:(null===i||void 0===i?void 0:i.name)||"",onChange:e=>d("name",e.target.value),name:"name",placeholder:"Enter project name",className:"w-full h-10",required:!0,error:null===c||void 0===c?void 0:c.name}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:["Project Type",(0,p.jsx)("span",{className:"text-sky-500 ml-1 text-xs font-normal",children:"(Optional)"})]}),(0,p.jsx)("p",{className:"text-xs text-gray-500 -mt-2",children:"Select whether this was a personal project or done for an organization"}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-4 items-center mt-2",children:[(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,p.jsx)("input",{type:"radio",name:"projectType",value:"personal",checked:"personal"===y,onChange:()=>N("personal"),className:"w-4 h-4 text-blue-600"}),(0,p.jsx)("span",{className:"text-sm",children:"Personal"})]}),(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,p.jsx)("input",{type:"radio",name:"projectType",value:"company",checked:"company"===y,onChange:()=>N("company"),className:"w-4 h-4 text-blue-600"}),(0,p.jsx)("span",{className:"text-sm",children:"Company"})]}),(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,p.jsx)("input",{type:"radio",name:"projectType",value:"college",checked:"college"===y,onChange:()=>N("college"),className:"w-4 h-4 text-blue-600"}),(0,p.jsx)("span",{className:"text-sm",children:"College"})]})]})]}),"company"===y&&(0,p.jsx)(T.A,{options:v||[],selectedOption:null===v||void 0===v?void 0:v.find(e=>e.value===(null===i||void 0===i?void 0:i.company_id)),onChange:e=>m("company_id",e),label:"Company",placeholder:"Select Company",onCreateOption:(e,l)=>{x({isOpen:!0,type:"companies",field:l}),_(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,error:null===c||void 0===c?void 0:c.company_id}),"college"===y&&(0,p.jsx)(T.A,{options:u||[],selectedOption:null===u||void 0===u?void 0:u.find(e=>e.value===(null===i||void 0===i?void 0:i.institution_id)),onChange:e=>m("institution_id",e),label:"College",placeholder:"Select College",onCreateOption:(e,l)=>{x({isOpen:!0,type:"institutions",field:l}),_(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,error:null===c||void 0===c?void 0:c.institution_id}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)(A.A,{type:"textarea",label:"Project Description",value:(null===i||void 0===i?void 0:i.description)||"",onChange:e=>d("description",e.target.value),placeholder:"Briefly describe your project, key features, and your role",className:"w-full min-h-[80px]",maxLength:200,required:!0,error:null===c||void 0===c?void 0:c.description}),(0,p.jsxs)("p",{className:"text-end text-sm text-gray-500",children:[(null===i||void 0===i||null===(l=i.description)||void 0===l?void 0:l.length)||0,"/200 characters"]})]}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[(0,p.jsx)(k.A,{label:"Start Date",name:"start_date",type:"date",value:null===i||void 0===i?void 0:i.start_date,onChange:e=>d("start_date",e.target.value),error:null===c||void 0===c?void 0:c.start_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,required:!0}),(0,p.jsx)(k.A,{label:"End Date",name:"end_date",type:"date",value:null===i||void 0===i?void 0:i.end_date,onChange:e=>{const l=e.target.value;((e,l)=>{if(!e||!l)return!0;const i=new Date(e),a=new Date(l);return a<i?(r.oR.error("End date cannot be before Start date!"),!1):a!=i||(r.oR.error("End date cannot be same as  Start date!"),!1)})(null===i||void 0===i?void 0:i.start_date,l)?d("end_date",l):d("end_date","")},error:null===c||void 0===c?void 0:c.end_date,autoComplete:"off",className:"w-full h-10",min:null===i||void 0===i?void 0:i.start_date,disabled:null===i||void 0===i?void 0:i.currently_available})]}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Project Link or Media"}),(0,p.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,p.jsx)("input",{type:"radio",name:"linkType",value:"link",checked:"link"===j,onChange:()=>C("link"),className:"w-4 h-4 text-blue-600"}),(0,p.jsx)("span",{className:"text-sm",children:"Project Link"})]}),(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,p.jsx)("input",{type:"radio",name:"linkType",value:"media",checked:"media"===j,onChange:()=>C("media"),className:"w-4 h-4 text-blue-600"}),(0,p.jsx)("span",{className:"text-sm",children:"Project Media"})]})]})]}),"link"===j?(0,p.jsx)(A.A,{type:"url",label:"Project URL",value:(null===i||void 0===i?void 0:i.file_url)||"",onChange:e=>d("file_url",e.target.value),placeholder:"e.g., https://github.com/username/project or https://demo.com",className:"w-full h-10 border rounded-md p-1",required:!0,error:null===c||void 0===c?void 0:c.file_url}):(0,p.jsx)(G.A,{label:"Upload Project Media/PDF",className:"w-full h-10",onChange:g,onDelete:h,value:null===i||void 0===i?void 0:i.media_url,error:null===c||void 0===c?void 0:c.media_url,accept:".jpg,.jpeg,.png,.pdf",maxSize:5,supportedFormats:"Images (JPEG, PNG) or PDF files"})]})]})})})},V=e=>{let{formData:l,handleSubmit:i,setFormData:a,handleChange:d,error:r,modalState:o,handleClose:n,handleFileUpload:c,masterSkillsList:u,setError:m,handleFileDelete:v,setAddModalState:g,setInputFields:h,loading:x}=e;const[f,_]=(0,s.useState)("link");return(0,p.jsx)(U.A,{isOpen:"certifications"===o.type,onClose:n,title:"Additional Certifications",handleSubmit:i,loading:x,children:(0,p.jsxs)("div",{className:"p-3 space-y-4",children:[(0,p.jsx)(A.A,{label:"Certificate Name",value:null===l||void 0===l?void 0:l.name,onChange:e=>d("name",e.target.value),placeholder:"Enter certificate name",className:"w-full h-10",error:null===r||void 0===r?void 0:r.name,required:!0}),(0,p.jsx)(A.A,{label:"Issuing Organization",value:null===l||void 0===l?void 0:l.issuing_organization,onChange:e=>d("issuing_organization",e.target.value),placeholder:"Enter company/organization name",className:"w-full h-10",error:null===r||void 0===r?void 0:r.issuing_organization,required:!0}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-2",children:[(0,p.jsx)(k.A,{type:"date",label:"Issue Date",value:null===l||void 0===l?void 0:l.issue_date,onChange:e=>d("issue_date",e.target.value),placeholder:"MM/YYYY",className:"w-full h-10",allowFutureDate:!1,error:null===r||void 0===r?void 0:r.issue_date,required:!0}),(0,p.jsx)(A.A,{label:"Credential ID",placeholder:"Enter credential ID (min length 5)",value:null===l||void 0===l?void 0:l.credential_id,onChange:e=>d("credential_id",e.target.value),className:"w-full h-10",error:null===r||void 0===r?void 0:r.credential_id,min:5,required:!0})]}),(0,p.jsx)(T.A,{label:"Skills Acquired",options:u||[],onChange:e=>{a(l=>(0,t.A)((0,t.A)({},l),{},{skills_acquired:null===e||void 0===e?void 0:e.map(e=>e.value)})),m({})},selectedOption:(y=null===l||void 0===l?void 0:l.skills_acquired,(null===u||void 0===u?void 0:u.filter(e=>null===y||void 0===y?void 0:y.includes(e.value)))||u[0].value),isMulti:!0,error:null===r||void 0===r?void 0:r.skills_acquired,onCreateOption:(e,l)=>{console.log(e,l),g({isOpen:!0,type:"masterSkill",field:l}),h(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,required:!0,isCreatedByUser:!0}),(0,p.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,p.jsx)("input",{type:"radio",name:"uploadType",value:"link",checked:"link"===f,onChange:()=>_("link"),className:"w-4 h-4"}),"Certification Link"]}),(0,p.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,p.jsx)("input",{type:"radio",name:"uploadType",value:"media",checked:"media"===f,onChange:()=>_("media"),className:"w-4 h-4"}),"Certification Media"]})]}),"link"===f&&(0,p.jsx)(A.A,{label:"Credential URL",value:null===l||void 0===l?void 0:l.credential_url,onChange:e=>d("credential_url",e.target.value),placeholder:"Enter credential URL (e.g. https://example.com)",className:"w-full h-10",error:null===r||void 0===r?void 0:r.credential_url,required:!0}),"media"===f&&(0,p.jsx)(G.A,{label:"Upload Certificate Media/PDF",className:"w-full",onChange:c,onDelete:v,value:null===l||void 0===l?void 0:l.media_url,error:null===r||void 0===r?void 0:r.media_url,accept:".jpg,.jpeg,.png,.pdf",maxSize:5,supportedFormats:"Images (JPEG, PNG) or PDF files"})]})});var y};var J=i(7087),K=i(8454),X=i(3974);var H=i(693),Y=i(152),Q=i(2397),$=i(9796),Z=i(4975),ee=(i(4014),i(3874),i(5084),i(7072));const le=["institution_id","degree_id","profile_views","email","connection_count","frame_status","follower_count","field_of_studies","start_date","end_date","currently_available","duration","skills_acquired","name","description","company_id","industries_id","profile_role_id","media_url","is_verified","issuing_organization","issue_date","credential_id","credential_url","profile_picture_url","projects","topSkills","userConnection","educations"],ie={education:{institution_id:{required:!0,message:"Institution is required"},degree_id:{required:!0,message:"Degree is required"},field_of_studies:{required:!0,message:"Field of study is required"},start_date:{required:!0,message:"Start date is required"},description:{required:!0,message:"Description  is required"},skills_acquired:{required:!0,validate:e=>e&&e.length>0,message:"At least one skill is required"}},experience:{company_id:{required:!0,message:"Company is required"},profile_role_id:{required:!0,message:"Role is required"},industries_id:{required:!0,message:"Industry is required"},start_date:{required:!0,message:"Start date is required"},skills_acquired:{required:!0,validate:e=>e&&e.length>0,message:"At least one skill is required"}},project:{name:{required:!0,message:"Project name is required"},description:{required:!0,message:"Description is required"},start_date:{required:!0,message:"Start date is required"},file_url:{required:!0,validate:(e,l)=>!l.media_url||e,message:"File URL is required if no media is uploaded"},media_url:{required:!0,validate:(e,l)=>!l.file_url||e,message:"Media is required if no file URL is provided"}},certification:{name:{required:!0,message:"Certification name is required"},issuing_organization:{required:!0,message:"Issuing organization is required"},issue_date:{required:!0,message:"Issue date is required"},credential_id:{required:!0,message:"Credential id is required"},credential_url:{required:!0,validate:(e,l)=>!l.media_url||e,message:"Credential URL is required if no media is uploaded"},skills_acquired:{required:!0,validate:e=>e&&e.length>0,message:"At least one skill is required"},media_url:{required:!0,validate:(e,l)=>!l.credential_url||e,message:"Media is required if no credential URL is provided"}},profile:{first_name:{required:!0,message:"First name is required"},last_name:{required:!0,message:"Last name is required"},birth_date:{required:!0,validate:e=>{if(!e)return!1;const l=new Date(e),i=new Date;if(l>i)return!1;const a=new Date;return a.setFullYear(i.getFullYear()-3),l<=a},message:"Birth date must be at least 3 years ago and cannot be in the future"},gender:{required:!0,message:"Gender is required"},headline:{required:!0,validate:e=>e.length<=100,message:"Headline must be 100 characters or less"},summary:{required:!0,validate:e=>e.length>=10&&e.length<=500,message:"Professional bio must be between 10-500 characters"},username:{required:!0,message:"username  is required"},"address.address_line_1":{required:!0,validate:e=>e.length<=100,message:"Address must be 100 characters or less"},"address.pin_code":{required:!0,message:"Pin code is required"},"address.country.name":{required:!0,message:"Country is required"},"address.state.name":{required:!0,message:"State is required"},"address.city.name":{required:!0,message:"City is required"}}},ae={institution_id:"",name:"",resume_url:"",media_url:"",description:"",degree_id:"",field_of_studies:"",start_date:"",end_date:"",currently_available:!1,duration:"",skills_acquired:[],company_id:"",industries_id:"",profile_role_id:"",first_name:"",last_name:"",address:{address_line_1:"",address_line_2:"",country:{name:"",dial_code:"",short_name:"",emoji:""},state:{name:"",code:""},city:{name:""},pin_code:""},gender:"",birth_date:"",headline:"",summary:"",issuing_organization:"",issue_date:"",credential_id:"",credential_url:"",profile_picture_url:"",username:"",file_url:""},te=e=>{var l,i,o,n,m,v,g,_,y,b,k,S,E,F,I,R,L,T,G,te,se,de,re,oe,ne,ce,ue,me,ve,pe,ge,he,xe,fe,_e,ye,be,je,we,Ne,Ce,Ae,ke;let{profileData:Se}=e;const Ee=(0,d.wA)(),{validateForm:Fe}={validateForm:(0,s.useCallback)((e,l)=>{const i=ie[l];if(!i)return{isValid:!0,errors:{}};const a={};let t=!0;return Object.entries(i).forEach(i=>{let[s,d]=i;const r=(o=e,s.split(".").reduce((e,l)=>null===e||void 0===e?void 0:e[l],o));var o;let n=!1;if("project"===l&&("file_url"===s||"media_url"===s))return e.file_url||e.media_url?void 0:(a.file_url="Either a project URL or media file is required",a.media_url="Either a project URL or media file is required",void(t=!1));if("certification"===l&&("credential_url"===s||"media_url"===s))return e.credential_url||e.media_url?void 0:(a.credential_url="Either a credential URL or media file is required",a.media_url="Either a credential URL or media file is required",void(t=!1));var c,u;if("function"===typeof d.required)d.required(e)&&(n=Array.isArray(r)?null!==(c=!(null!==(u=d.validate)&&void 0!==u&&u.call(d,r)))&&void 0!==c?c:0===r.length:!r||"string"===typeof r&&!r.trim());else if(d.required){var m,v;n=Array.isArray(r)?null!==(m=!(null!==(v=d.validate)&&void 0!==v&&v.call(d,r)))&&void 0!==m?m:0===r.length:!r||"string"===typeof r&&!r.trim()}n&&(a[s]=d.message,t=!1)}),{isValid:t,errors:a}},[])},De=(0,d.d4)(e=>e.educations),qe=(0,d.d4)(e=>e.global),Ie=(0,d.d4)(e=>e.global),Re=(0,d.d4)(e=>e.work),Le=(0,d.d4)(e=>e.user),{suggestedUserData:{data:Pe}}=Le||{},[Oe,Be]=(0,s.useState)(""),[Ue,Te]=(0,s.useState)({name:"",logo_url:""}),[ze,Me]=(0,s.useState)(!1),Ge=(0,s.useRef)(null),We=(0,s.useRef)(null),Ve=(0,s.useRef)(null),Je=(0,s.useRef)(null),[Ke,Xe]=(0,s.useState)("user"),[He,Ye]=(0,s.useState)(!0),[Qe,$e]=(0,s.useState)(!1),[Ze,el]=(0,s.useState)(null),[ll,il]=(0,s.useState)(!1),[al,tl]=(0,s.useState)(!1),[sl,dl]=(0,s.useState)(1),[rl,ol]=(0,s.useState)(1),nl=(0,s.useMemo)(()=>{var e,l,i,a,t,s,d,r,o,n,u,m,v,p,g,h,x,f,_,y,b,j,w,N,C;return{collegeList:(0,c.Kj)((null===De||void 0===De||null===(e=De.instituteCollegeListData)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)||[]),degreeList:(0,c.Kj)((null===De||void 0===De||null===(i=De.getAllDegreeData)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.data)||[]),fieldsOfStudyList:(0,c.Kj)((null===De||void 0===De||null===(t=De.getAllFieldsOfStudyData)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data)||[]),skillsList:(0,c.Kj)((null===De||void 0===De||null===(d=De.getAllSkillListData)||void 0===d||null===(r=d.data)||void 0===r?void 0:r.data)||[]),masterSkillsList:(0,c.Kj)((null===qe||void 0===qe||null===(o=qe.masterSkillsData)||void 0===o||null===(n=o.data)||void 0===n||null===(u=n.data)||void 0===u?void 0:u.list)||[]),countryList:(0,c.Kj)((null===Ie||void 0===Ie||null===(m=Ie.countriesData)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.data)||[]),stateList:(0,c.Kj)((null===Ie||void 0===Ie||null===(p=Ie.stateData)||void 0===p||null===(g=p.data)||void 0===g?void 0:g.data)||[]),citiesList:(0,c.Kj)((null===Ie||void 0===Ie||null===(h=Ie.citiesData)||void 0===h||null===(x=h.data)||void 0===x?void 0:x.data)||[]),allCompanies:(0,c.eu)((null===Re||void 0===Re||null===(f=Re.getAllCompaniesData)||void 0===f||null===(_=f.data)||void 0===_?void 0:_.data)||[]),allIndustry:(0,c.Kj)((null===Re||void 0===Re||null===(y=Re.getAllIndustryData)||void 0===y||null===(b=y.data)||void 0===b?void 0:b.data)||[]),allProfile:(0,c.Kj)((null===Re||void 0===Re||null===(j=Re.getAllProfileRoleData)||void 0===j||null===(w=j.data)||void 0===w?void 0:w.data)||[]),allWorkSkill:(0,c.Kj)((null===Re||void 0===Re||null===(N=Re.getAllWorkSkillListData)||void 0===N||null===(C=N.data)||void 0===C?void 0:C.data)||[])}},[De,qe,Ie,Re]),cl=null===Se||void 0===Se||null===(l=Se.getProfileData)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data,ul=null===De||void 0===De||null===(o=De.getAllEducationListData)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data,ml=null===De||void 0===De||null===(m=De.getAllExperienceListData)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.data,vl=null===De||void 0===De||null===(g=De.getAllProjectListData)||void 0===g||null===(_=g.data)||void 0===_?void 0:_.data,pl=null===De||void 0===De||null===(y=De.getAllCertificateListData)||void 0===y||null===(b=y.data)||void 0===b?void 0:b.data,gl=null===Se||void 0===Se||null===(k=Se.getProfileData)||void 0===k||null===(S=k.data)||void 0===S||null===(E=S.data)||void 0===E||null===(F=E.personalInfo)||void 0===F||null===(I=F.address)||void 0===I||null===(R=I.state)||void 0===R?void 0:R.name,hl=null===Se||void 0===Se||null===(L=Se.getProfileData)||void 0===L||null===(T=L.data)||void 0===T||null===(G=T.data)||void 0===G||null===(te=G.personalInfo)||void 0===te||null===(se=te.address)||void 0===se||null===(de=se.country)||void 0===de?void 0:de.dial_code,[xl,fl]=(0,s.useState)({isOpen:!1,type:"",field:""});(0,s.useEffect)(()=>{const e=()=>{const e=window.innerWidth;dl(e<768?1:(null===pl||void 0===pl?void 0:pl.length)>1?2:1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[pl]),(0,s.useEffect)(()=>{const e=()=>{const e=window.innerWidth;ol(e<768?1:(null===vl||void 0===vl?void 0:vl.length)>1?2:1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[vl]);const _l=(null===De||void 0===De||null===(re=De.getAllSkillListData)||void 0===re||null===(oe=re.data)||void 0===oe||null===(ne=oe.data)||void 0===ne?void 0:ne.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name,selection_count:null===e||void 0===e?void 0:e.selection_count,isSuggested:null===e||void 0===e?void 0:e.isSuggested})))||[],yl=(null===Re||void 0===Re||null===(ce=Re.getAllWorkSkillListData)||void 0===ce||null===(ue=ce.data)||void 0===ue||null===(me=ue.data)||void 0===me?void 0:me.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name,selection_count:null===e||void 0===e?void 0:e.selection_count,isSuggested:null===e||void 0===e?void 0:e.isSuggested})))||[],[bl,jl]=(0,s.useState)({profile:!1,education:!1,experience:!1,projects:!1,certifications:!1,deletingItems:{}}),[wl,Nl]=(0,s.useState)({isOpen:!1,type:"",initialData:{}}),[Cl,Al]=(0,s.useState)(!1),{setFormData:kl,formData:Sl,handleChange:El,errors:Fl,setErrors:Dl,resetForm:ql}=(0,J.A)(ae),{handleLocationSelectChange:Il}=(0,H.I)(kl,Sl,Al,Dl),{handleSelectChange:Rl,fetchDependentData:Ll}=((e,l,i,a,s,o,n,c,u)=>{const m=(0,d.wA)(),v=async(e,i,a)=>{switch(console.log("value-22222",e,a),e){case"institution_id":s(a);break;case"degree_id":o(a);break;case"company_id":n(a),u(a);break;case"industries_id":c(a)}l(!0);try{switch(e){case"institution_id":await m((0,K.Q_)({institution_id:i,created_by_users:a}));break;case"degree_id":await m((0,K.BB)({degree_id:i,created_by_users:a}));break;case"field_of_studies":await m((0,K.P8)({study_id:i,created_by_users:a}));break;case"company_id":await m((0,X.a_)({company_id:i,created_by_users:a}));break;case"industries_id":await m((0,X.JL)({industry_id:i,created_by_users:a}));break;case"profile_role_id":await m((0,X.O_)({profile_role_id:i,created_by_users:a}))}}catch(t){r.oR.error("Failed to fetch ".concat(e," data"))}finally{l(!1)}};return{handleSelectChange:async(l,i)=>{if(console.log(l,i),Array.isArray(i)?null===i||void 0===i?void 0:i.find(e=>"ADD"===e.value):"ADD"===(null===i||void 0===i?void 0:i.value)){let e="";switch(l){case"institution_id":e="company";break;case"degree_id":e="degree";break;case"field_of_studies":e="field";break;case"skills_acquired":e="skill";break;case"company_id":e="companies";break;case"industries_id":e="industries";break;case"profile_role_id":e="profile-roles"}return void a({isOpen:!0,type:e,field:l})}try{const a="skills_acquired"===l,s=null===i||void 0===i?void 0:i.created_by_users,d=a?Array.isArray(i)?i.map(e=>null===e||void 0===e?void 0:e.value).filter(Boolean):[]:(null===i||void 0===i?void 0:i.value)||"",r={institution_id:{degree_id:"",field_of_studies:"",skills_acquired:[]},degree_id:{field_of_studies:"",skills_acquired:[]},field_of_studies:{skills_acquired:[]}};e(e=>(0,t.A)((0,t.A)({},e),{},{[l]:d},r[l]||{})),!a&&d&&["institution_id","degree_id","field_of_studies","company_id","industries_id","profile_role_id"].includes(l)&&await v(l,d,s)}catch(s){r.oR.error("Error processing ".concat(l," selection"))}},fetchDependentData:v}})(kl,Al,0,fl,Ye,$e,tl,el,il);console.log("isCreatedByUserForIndustry",Ze);const Pl=(0,s.useMemo)(()=>[{src:"/Img/badge1.png",alt:"Badge 1"},{src:"/Img/badge2.png",alt:"Badge 2"},{src:"/Img/badge3.png",alt:"Badge 3"},{src:"/Img/badge4.png",alt:"Badge 4"},{src:"/Img/badge5.png",alt:"Badge 5"},{src:"/Img/badge5.png",alt:"Badge 6"}],[]),Ol=function(e,l){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;jl(a=>i?(0,t.A)((0,t.A)({},a),{},{deletingItems:(0,t.A)((0,t.A)({},a.deletingItems),{},{[i]:l})}):(0,t.A)((0,t.A)({},a),{},{[e]:l}))};(0,s.useEffect)(()=>{P().init({duration:1e3,offset:100,once:!0})},[]),(0,s.useEffect)(()=>{(async()=>{try{await Promise.all([Ee((0,K.VS)()),Ee((0,Y.Xr)()),Ee((0,X.f$)()),Ee((0,K.So)()),Ee((0,K.wo)()),Ee((0,K.n2)()),Ee((0,K.Jm)()),Ee((0,f.FL)({page:1,size:10,type:Ke}))])}catch(e){r.oR.error("Failed to load initial data")}})()},[Ee,Ke]),(0,s.useEffect)(()=>{var e,l,i,a,t,s;hl&&Ee((0,Y.wk)({country_code:null===Se||void 0===Se||null===(e=Se.getProfileData)||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.data)||void 0===i||null===(a=i.personalInfo)||void 0===a||null===(t=a.address)||void 0===t||null===(s=t.country)||void 0===s?void 0:s.short_name}));gl&&Ee((0,Y.E8)({state_name:gl}))},[Ee]),(0,s.useEffect)(()=>{var e;null!==cl&&void 0!==cl&&cl.personalInfo&&(kl(e=>(0,t.A)((0,t.A)((0,t.A)({},e),cl.personalInfo),{},{birth_date:(0,c.D3)(cl.personalInfo.birth_date),address:(0,t.A)((0,t.A)({},e.address),cl.personalInfo.address||{})})),Be(null===cl||void 0===cl||null===(e=cl.personalInfo)||void 0===e?void 0:e.frame_status))},[cl,kl]);const Bl=(0,s.useCallback)(e=>{Nl({isOpen:!0,type:e,initialData:{}}),"certifications"===e&&Ee((0,Y.fr)())},[Ee]),Ul=(0,s.useCallback)(async(e,l)=>{var i,a,s,d,o,n,c,u;Nl({isOpen:!0,type:e});const m=(0,t.A)((0,t.A)({},l),{},{company_id:null===l||void 0===l||null===(i=l.company_id)||void 0===i?void 0:i._id,degree_id:null===l||void 0===l||null===(a=l.degree_id)||void 0===a?void 0:a._id,field_of_studies:null===l||void 0===l||null===(s=l.field_of_studies)||void 0===s?void 0:s._id,industries_id:null!==l&&void 0!==l&&null!==(d=l.industries_id)&&void 0!==d&&d._id?null===l||void 0===l||null===(o=l.industries_id)||void 0===o?void 0:o._id:null===l||void 0===l?void 0:l.industries_id,profile_role_id:null===l||void 0===l||null===(n=l.profile_role_id)||void 0===n?void 0:n._id,institution_id:(null===(c=l.institution_id)||void 0===c?void 0:c._id)||"",skills_acquired:(null===(u=l.skills_acquired)||void 0===u?void 0:u.map(e=>e._id))||[],issue_date:l.issue_date?new Date(l.issue_date).toISOString().split("T")[0]:"",start_date:l.start_date?new Date(l.start_date).toISOString().split("T")[0]:"",end_date:l.end_date?new Date(l.end_date).toISOString().split("T")[0]:""});kl(m);try{m.institution_id&&await Ee((0,K.Q_)({institution_id:m.institution_id})),m.degree_id&&await Ee((0,K.BB)({degree_id:m.degree_id})),m.field_of_studies&&await Ee((0,K.P8)({study_id:m.field_of_studies})),m.company_id&&await Ee((0,X.a_)({company_id:m.company_id})),m.industries_id&&await Ee((0,X.JL)({industry_id:m.industries_id})),m.profile_role_id&&await Ee((0,X.O_)({profile_role_id:m.profile_role_id}))}catch(v){console.error("Error fetching dependent data:",v),r.oR.error("Failed to load dependent data")}},[Ee,kl]),Tl=async(e,l)=>{Ol(null,!0,l);try{let d;var i;if("projects"===e)d=await Ee((0,K.Np)({_id:l})).unwrap(),r.oR.success(null===(i=d)||void 0===i?void 0:i.message),Ee((0,K.n2)());else if("certifications"===e){var a;d=await Ee((0,K.P$)({_id:l})).unwrap(),r.oR.success(null===(a=d)||void 0===a?void 0:a.message),Ee((0,K.Jm)())}else if("experience"===e){var t;d=await Ee((0,K.b_)({_id:l})).unwrap(),r.oR.success(null===(t=d)||void 0===t?void 0:t.message),Ee((0,K.wo)()),Ee((0,u.E$)())}else if("education"===e){var s;d=await Ee((0,K.nt)({_id:l})).unwrap(),r.oR.success(null===(s=d)||void 0===s?void 0:s.message),Ee((0,K.So)()),Ee((0,u.E$)())}}catch(d){r.oR.error(d)}finally{Ol(null,!1,l)}},zl=(0,s.useCallback)(()=>{Nl({isOpen:!1,type:"",initialData:{}}),Dl({}),ql(),Ee((0,u.E$)()),Ee((0,K.Fx)()),Ee((0,X.eW)())},[ql,Dl]),Ml=(0,s.useCallback)(async e=>{e.preventDefault();const{isValid:l,errors:i}=Fe(Sl,"education");if(l){Al(!0);try{const e={start_date:(0,c.TG)(Sl.start_date),end_date:(0,c.TG)(Sl.end_date),duration:(0,c.Ds)(Sl.start_date,Sl.end_date),institution_id:null===Sl||void 0===Sl?void 0:Sl.institution_id,field_of_studies:null===Sl||void 0===Sl?void 0:Sl.field_of_studies,degree_id:null===Sl||void 0===Sl?void 0:Sl.degree_id,currently_available:null===Sl||void 0===Sl?void 0:Sl.currently_available,skills_acquired:null===Sl||void 0===Sl?void 0:Sl.skills_acquired,description:null===Sl||void 0===Sl?void 0:Sl.description};null!==Sl&&void 0!==Sl&&Sl._id&&(e._id=null===Sl||void 0===Sl?void 0:Sl._id);const l=null!==Sl&&void 0!==Sl&&Sl._id?K.SX:u.YE,i=await Ee(l(e)).unwrap();r.oR.success((null===i||void 0===i?void 0:i.message)||"Education added successfully"),Ee((0,K.So)()),zl()}catch(a){console.error("Education submission error:",a),r.oR.error((null===a||void 0===a?void 0:a.message)||"Failed to save education details")}finally{Al(!1)}}else Dl(i)},[Sl,Fe,Dl,Ee,zl]),Gl=(0,s.useCallback)(async()=>{const{isValid:e,errors:l}=Fe(Sl,"profile");if(!e)return Dl(l),void r.oR.error("Please fix the validation errors");Al(!0);try{const{institution_id:e,degree_id:l,profile_views:i,email:t,connection_count:s,frame_status:d,follower_count:o,field_of_studies:n,start_date:m,end_date:v,currently_available:p,duration:g,skills_acquired:h,name:x,description:f,company_id:_,industries_id:y,profile_role_id:b,media_url:j,is_verified:w,issuing_organization:N,issue_date:C,credential_id:A,credential_url:k,profile_picture_url:S,projects:E,topSkills:F,userConnection:D,educations:q}=Sl,I=(0,a.A)(Sl,le),R={birth_date:(0,c.TG)(I.birth_date),first_name:null===Sl||void 0===Sl?void 0:Sl.first_name,last_name:null===Sl||void 0===Sl?void 0:Sl.last_name,gender:null===Sl||void 0===Sl?void 0:Sl.gender,summary:null===Sl||void 0===Sl?void 0:Sl.summary,address:null===Sl||void 0===Sl?void 0:Sl.address,headline:null===Sl||void 0===Sl?void 0:Sl.headline,username:null===Sl||void 0===Sl?void 0:Sl.username},L=await Ee((0,u.gM)(R)).unwrap();r.oR.success((null===L||void 0===L?void 0:L.message)||"Profile updated successfully"),Me(!1),Ee((0,u.E$)())}catch(i){console.error("Profile update error:",i),r.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to update profile")}finally{Al(!1)}},[Sl,Fe,Dl,Ee,cl]),Wl=(0,s.useCallback)(async()=>{const{isValid:e,errors:l}=Fe(Sl,"project");if(e){Al(!0);try{const e={name:Sl.name,description:Sl.description,institution_id:Sl.institution_id,start_date:(0,c.TG)(Sl.start_date),end_date:(0,c.TG)(Sl.end_date),media_url:Sl.media_url,company_id:null===Sl||void 0===Sl?void 0:Sl.company_id,file_url:null===Sl||void 0===Sl?void 0:Sl.file_url};null!==Sl&&void 0!==Sl&&Sl._id&&(e._id=null===Sl||void 0===Sl?void 0:Sl._id);const l=null!==Sl&&void 0!==Sl&&Sl._id?K.FW:u.By,i=await Ee(l(e)).unwrap();r.oR.success((null===i||void 0===i?void 0:i.message)||"Project added successfully"),zl(),Ee((0,K.n2)())}catch(i){console.error("Project submission error:",i),r.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to add project")}finally{Al(!1)}}else Dl(l)},[Sl,Fe,Dl,Ee,zl]),Vl=(0,s.useCallback)(async()=>{const{isValid:e,errors:l}=Fe(Sl,"certification");if(e){Al(!0);try{const e={name:Sl.name,issuing_organization:Sl.issuing_organization,issue_date:(0,c.TG)(Sl.issue_date),credential_id:Sl.credential_id,credential_url:Sl.credential_url,media_url:Sl.media_url,skills_acquired:Sl.skills_acquired};null!==Sl&&void 0!==Sl&&Sl._id&&(e._id=null===Sl||void 0===Sl?void 0:Sl._id);const l=null!==Sl&&void 0!==Sl&&Sl._id?K.J9:u.m7,i=await Ee(l(e)).unwrap();r.oR.success((null===i||void 0===i?void 0:i.message)||"Certification added successfully"),zl(),Ee((0,K.Jm)())}catch(i){console.error("Certification submission error:",i),r.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to add certification")}finally{Al(!1)}}else Dl(l)},[Sl,Fe,Dl,Ee,zl]),Jl=(0,s.useCallback)(async e=>{if(!e)return void r.oR.error("Please select a file");if(e.size>5242880)return void r.oR.error("File size must be less than 5MB");const l=["image/jpeg","image/jpg","image/png"],i=["application/pdf"];if([...l,...i].includes(e.type)){Al(!0);try{if(l.includes(e.type)){var a;const l=await(0,c.pv)(e,"ADDITIONAL_CERTIFICATIONS_MEDIA");if(null===l||void 0===l||null===(a=l.data)||void 0===a||!a.imageURL)throw new Error("Image upload failed");kl(e=>(0,t.A)((0,t.A)({},e),{},{media_url:l.data.imageURL})),null!==Fl&&void 0!==Fl&&Fl.media_url&&Dl(e=>(0,t.A)((0,t.A)({},e),{},{media_url:""})),r.oR.success((null===l||void 0===l?void 0:l.message)||"Image uploaded successfully")}else if(i.includes(e.type)){var s;const l=await(0,c.It)(e,"ADDITIONAL_CERTIFICATIONS_MEDIA");if(null===l||void 0===l||null===(s=l.data)||void 0===s||!s.imageURL)throw new Error("PDF upload failed");kl(e=>(0,t.A)((0,t.A)({},e),{},{media_url:l.data.imageURL})),null!==Fl&&void 0!==Fl&&Fl.file_url&&Dl(e=>(0,t.A)((0,t.A)({},e),{},{media_url:""})),r.oR.success((null===l||void 0===l?void 0:l.message)||"PDF uploaded successfully")}}catch(d){console.error("File upload error:",d),r.oR.error((null===d||void 0===d?void 0:d.message)||"Failed to upload image")}finally{Al(!1)}}else r.oR.error("Only image (JPEG, PNG) or PDF files are allowed")},[kl,null===Fl||void 0===Fl?void 0:Fl.media_url,null===Fl||void 0===Fl?void 0:Fl.file_url,Dl]),Kl=(0,s.useCallback)((e,l)=>{if(!l)return null;const i=l._id?l._id:l;return e.find(e=>e.value===i)||null},[]),Xl=()=>{kl(e=>(0,t.A)((0,t.A)({},e),{},{media_url:""}))},Hl=async e=>{try{const l=await Ee((0,K.LX)({_id:null===e||void 0===e?void 0:e._id})).unwrap();r.oR.success((null===l||void 0===l?void 0:l.message)||"Certificate share successfully")}catch(l){r.oR.error(l||"Failed to share certificate")}};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{children:"\n          @media (max-width: 1400px) {\n            .top-skills { grid-column: span 3; }\n          }\n          @media (min-width: 1400px) {\n            .top-skills { grid-column: span 1; }\n          }\n          @media (max-width: 1000px) {\n            .exp-edu-card { flex-direction: column; }\n          }\n          @media (min-width: 1000px) {\n            .exp-edu-card { flex-direction: row; }\n          }\n        "}),(0,p.jsx)("div",{className:"  bg-[##F4F2EE] space-y-3 p-4",children:(0,p.jsxs)("div",{className:"flex flex-col md:flex-row w-full mx-auto gap-4",children:[(0,p.jsxs)("div",{className:"xl:w-[75%] lg:w-[70%] md:w-[60%] w-full space-y-6 overflow-hidden h-screen  overflow-y-auto   hide-scrollbar",children:[(0,p.jsxs)("nav",{className:"flex justify-start items-center gap-2 mb-2 text-sm",children:[(0,p.jsx)("span",{className:"text-gray-600",children:"Home"}),(0,p.jsx)("span",{className:"text-gray-400",children:"\u203a"}),(0,p.jsx)("span",{className:"font-medium text-blue-600",children:"Profile"})]}),(0,p.jsx)("div",{className:"flex flex-col gap-6 lg:flex-row mx-auto",children:(0,p.jsxs)("div",{className:"w-full mx-auto space-y-4 overflow-y-auto",children:[(0,p.jsxs)("div",{className:"overflow-hidden bg-white border border-gray-200 rounded-lg",children:[(0,p.jsx)("div",{className:"p-4",children:(0,p.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[(0,p.jsx)(j,{data:cl,setFrameStatus:Be,frameStatus:Oe,handleSelection:async e=>{try{const l=await Ee((0,u.LE)({frame_status:e})).unwrap();r.oR.success(null===l||void 0===l?void 0:l.message),Be(e),Ee((0,u.E$)())}catch(l){r.oR.error(l)}}}),(0,p.jsxs)("div",{className:"lg:text-right border border-[#dddddda8] p-2 rounded-lg relative group",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,p.jsx)("h3",{className:"xl:text-lg lg:text-base font-semibold text-[#000000E6]",children:"Badges Earned"}),(0,p.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"How it works?"})]}),(0,p.jsx)("div",{className:"flex flex-wrap justify-end gap-2",children:Pl.map((e,l)=>(0,p.jsx)(w,{src:e.src,alt:e.alt},l))}),(0,p.jsxs)("div",{className:"fixed md:right-[20%] right-[6%] z-10 mt-2 w-96 rounded-md bg-[#2563EB] p-4 shadow-lg border border-[#D3D3D3] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[(0,p.jsx)("h4",{className:"text-start text-[#FFFFFF] font-semibold mb-2",children:"How it works?"}),(0,p.jsxs)("ul",{className:"text-[#FFFFFF] text-start font-normal text-sm",children:[(0,p.jsx)("li",{children:"\ud83d\ude80 Complete Deliveries: Get 1 badge for every 10 on-time deliveries"}),(0,p.jsx)("li",{children:"\ud83e\udde0 Training Sessions: Earn a badge for attending training events"}),(0,p.jsx)("li",{children:"\ud83e\udd47 Top Performer: Get a gold badge for consistent high ratings"}),(0,p.jsx)("li",{children:"\ud83d\udd04 Stay Active: Receive badges for weekly logins or daily check-ins"})]})]})]})]})}),(0,p.jsx)("div",{className:"px-6 pb-6",children:(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3 md:grid-cols-2",children:[(0,p.jsxs)("div",{className:"exp-edu-card ","data-aos":"fade-right","data-aos-duration":"1500",children:[(0,p.jsx)("h2",{className:"md:mb-1 lg:mb-2 xl:text-base lg:text-[14px] md:text-[12px]  font-semibold text-[#000000E6]",children:"LATEST WORK EXPERIENCE"}),(0,p.jsx)(N.Ay,{logo:(null===cl||void 0===cl||null===(ve=cl.latestCompany)||void 0===ve?void 0:ve.logo_url)||"/Img/Profile/Frame (1).png",title:(null===cl||void 0===cl||null===(pe=cl.latestCompany)||void 0===pe?void 0:pe.profileName)||"Add your latest work experience",company:(null===cl||void 0===cl||null===(ge=cl.latestCompany)||void 0===ge?void 0:ge.companyName)||"Click the + button to add details about your job role and company",duration:null!==cl&&void 0!==cl&&null!==(he=cl.latestCompany)&&void 0!==he&&he.start_date&&null!==cl&&void 0!==cl&&null!==(xe=cl.latestCompany)&&void 0!==xe&&xe.end_date?(0,c.tX)(cl.latestCompany.start_date,cl.latestCompany.end_date):"Start and end date not added",location:(null===cl||void 0===cl||null===(fe=cl.latestCompany)||void 0===fe||null===(_e=fe.headquarters)||void 0===_e?void 0:_e.address_line_1)||"Location not specified"})]}),(0,p.jsxs)("div",{className:"exp-edu-card ","data-aos":"fade-up","data-aos-duration":"1500",children:[(0,p.jsx)("h2",{className:"md:mb-1 lg:mb-2 xl:text-base lg:text-[14px] md:text-[12px] font-semibold text-[#000000E6]",children:"LATEST EDUCATION"}),(0,p.jsx)(N.Ay,{logo:(null===cl||void 0===cl||null===(ye=cl.latestEducation)||void 0===ye?void 0:ye.logo_url)||"/Img/Profile/Frame.png",title:(null===cl||void 0===cl||null===(be=cl.latestEducation)||void 0===be?void 0:be.institution)||"Add your latest education details",company:(null===cl||void 0===cl||null===(je=cl.latestEducation)||void 0===je?void 0:je.field_of_studies)||"Click the + button to include your course and department",duration:null!==cl&&void 0!==cl&&null!==(we=cl.latestEducation)&&void 0!==we&&we.start_date&&null!==cl&&void 0!==cl&&null!==(Ne=cl.latestEducation)&&void 0!==Ne&&Ne.end_date?(0,c.tX)(cl.latestEducation.start_date,cl.latestEducation.end_date):"Start and end date not added"})]}),(0,p.jsxs)("div",{className:"lg:col-span-1 md:col-span-2 mt-6 lg:mt-0","data-aos":"fade-left","data-aos-duration":"1500",children:[(0,p.jsx)("h2",{className:"md:mb-1 lg:mb-2 lg:text-lg md:text-[14px] font-semibold text-[#000000E6]",children:"Top Skills"}),(0,p.jsx)("div",{className:"flex flex-wrap gap-2",children:(null===cl||void 0===cl||null===(Ce=cl.topSkills)||void 0===Ce?void 0:Ce.data.length)>0?(0,p.jsx)(C.A,{skills:null===cl||void 0===cl||null===(Ae=cl.topSkills)||void 0===Ae?void 0:Ae.data,limit:3}):(0,p.jsx)("p",{className:"w-full bg-yellow-50 text-yellow-800 text-sm p-2 rounded-md border border-yellow-200 shadow-sm",children:"\ud83d\ude80 No skills added yet. Verify your education and update your skills to showcase your expertise!"})})]})]})})]}),(0,p.jsx)("div",{children:(0,p.jsx)(D,{formData:Sl,handleChange:El,countryList:nl.countryList,handleSelectChange:Il,stateList:nl.stateList,citiesList:nl.citiesList,setFormData:kl,handleSubmit:Gl,loading:Cl,error:Fl,setErrors:Dl,isExtended:ze,setIsExtended:Me})}),(0,p.jsxs)("div",{className:"space-y-4 bg-gray-50",children:[(0,p.jsx)(O,{title:"EDUCATION",buttonText:"Add Education",emptyStateTitle:"No Education Records",emptyStateDescription:"Add your education history to enhance your profile",logo:"/Img/Profile/Frame.png",handleOpenModal:()=>Bl("education"),type:"education",onEdit:Ul,onDelete:Tl,data:ul,loadingStates:bl}),(0,p.jsx)(O,{title:"EXPERIENCE",buttonText:"Add Experience",emptyStateTitle:"No Experience Added",emptyStateDescription:"Add your Experience history to enhance your profile",logo:"/Img/Profile/Frame (1).png",handleOpenModal:()=>Bl("experience"),type:"experience",onEdit:Ul,onDelete:Tl,data:ml,loadingStates:bl}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"bg-white p-2",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6 ",children:[(0,p.jsx)("h2",{className:"md:text-sm text-xs font-semibold tracking-wide text-gray-800 uppercase",children:"PROJECTS"}),(0,p.jsx)(h.A,{onClick:()=>Bl("projects"),icon:(0,p.jsx)(q.BlJ,{}),className:"hover:scale-105 transition-transform duration-200",children:" Add Projects "})]}),(0,p.jsx)("div",{children:(null===vl||void 0===vl?void 0:vl.length)>0?(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(Z.RC,{modules:[ee.Vx],onBeforeInit:e=>{e.params.navigation.prevEl=Ge.current,e.params.navigation.nextEl=We.current},navigation:{prevEl:Ge.current,nextEl:We.current},pagination:{clickable:!0},spaceBetween:20,slidesPerView:rl,className:"mySwiper md:w-full w-96",children:null===vl||void 0===vl?void 0:vl.map((e,l)=>{var i,a;return(0,p.jsx)(Z.qr,{children:(0,p.jsx)(Q.A,{certificateName:null===e||void 0===e?void 0:e.name,companyName:null===e||void 0===e||null===(i=e.company_id)||void 0===i?void 0:i.name,instituteName:null===e||void 0===e||null===(a=e.institution_id)||void 0===a?void 0:a.name,description:null===e||void 0===e?void 0:e.description,date:(0,c.D3)(null===e||void 0===e?void 0:e.issue_date),certificateUrlOrNumber:null===e||void 0===e?void 0:e.file_url,imageUrl:null!==e&&void 0!==e&&e.media_url?null===e||void 0===e?void 0:e.media_url:"/Img/Profile/fi_1336494.png",record:e,isAction:!0,onEdit:Ul,type:"projects",isLoading:Cl,onDelete:Tl})},l)})}),(0,p.jsx)("button",{ref:Ge,className:"custom-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow hover:bg-gray-100",children:(0,p.jsx)(x.MQY,{className:"w-6 h-6 text-gray-700"})}),(0,p.jsx)("button",{ref:We,className:"custom-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow hover:bg-gray-100",children:(0,p.jsx)(x.XWt,{className:"w-6 h-6 text-gray-700"})})]}):(0,p.jsxs)("div",{className:"px-6 py-5 text-center border-2 border-gray-300 border-dashed rounded-lg bg-[#FBFBFB] hover:border-blue-300 transition-colors duration-300",children:[(0,p.jsx)("div",{className:"flex items-center justify-center mx-auto mb-4",children:(0,p.jsx)("img",{src:"/Img/Profile/Frame (2).png",alt:"",className:"hover:scale-110 transition-transform duration-300"})}),(0,p.jsx)("h3",{className:"mb-2 text-[20px]  font-semibold text-[#000000E6]",children:"No Projects added"}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Add your projects to build a comprehensive profile"})]})})]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"bg-white p-2",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6 ",children:[(0,p.jsx)("h2",{className:"md:text-sm text-xs font-semibold tracking-wide text-gray-800 uppercase",children:"Certificate"}),(0,p.jsx)(h.A,{onClick:()=>Bl("certifications"),icon:(0,p.jsx)(q.BlJ,{}),className:"hover:scale-105 transition-transform duration-200",children:" Add Certificate"})]}),(0,p.jsx)("div",{children:(null===pl||void 0===pl?void 0:pl.length)>0?(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(Z.RC,{modules:[ee.Vx],onBeforeInit:e=>{e.params.navigation.prevEl=Ve.current,e.params.navigation.nextEl=Je.current},navigation:{prevEl:Ve.current,nextEl:Je.current},pagination:{clickable:!0},spaceBetween:20,slidesPerView:sl,className:"mySwiper md:w-full w-96",children:null===pl||void 0===pl?void 0:pl.map((e,l)=>(0,p.jsx)(Z.qr,{children:(0,p.jsx)(Q.A,{certificateName:null===e||void 0===e?void 0:e.name,issueBy:null===e||void 0===e?void 0:e.issuing_organization,description:null===e||void 0===e?void 0:e.description,date:(0,c.D3)(null===e||void 0===e?void 0:e.issue_date),certificateUrlOrNumber:null===e||void 0===e?void 0:e.credential_url,imageUrl:null!==e&&void 0!==e&&e.media_url?null===e||void 0===e?void 0:e.media_url:"/Img/Profile/Frame (2).png",record:e,isAction:!0,onEdit:Ul,type:"certifications",isLoading:Cl,onDelete:Tl,profileInfo:cl,sharePost:Hl})},l))}),(0,p.jsx)("button",{ref:Ve,className:"custom-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow hover:bg-gray-100",children:(0,p.jsx)(x.MQY,{className:"w-6 h-6 text-gray-700"})}),(0,p.jsx)("button",{ref:Je,className:"custom-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow hover:bg-gray-100",children:(0,p.jsx)(x.XWt,{className:"w-6 h-6 text-gray-700"})})]}):(0,p.jsxs)("div",{className:"px-6 py-5 text-center border-2 border-gray-300 border-dashed rounded-lg bg-[#FBFBFB] hover:border-blue-300 transition-colors duration-300",children:[(0,p.jsx)("div",{className:"flex items-center justify-center mx-auto mb-4",children:(0,p.jsx)("img",{src:"/Img/Profile/Frame (2).png",alt:"",className:"hover:scale-110 transition-transform duration-300"})}),(0,p.jsx)("h3",{className:"mb-2 text-[20px]  font-semibold text-[#000000E6]",children:"No Certifications added"}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Add your certifications to build a comprehensive profile"})]})})]})})]})]})})]}),(0,p.jsx)("div",{className:"xl:w-[25%] lg:w-[30%] md:w-[40%] md:block hidden mt-1 ",children:(0,p.jsx)("div",{className:"sticky top-4 h-fit max-h-[calc(100vh-2rem)] overflow-y-auto hide-scrollbar",children:(0,p.jsx)(B.A,{data:(null===Pe||void 0===Pe||null===(ke=Pe.data)||void 0===ke?void 0:ke.list)||[],handleConnect:e=>{},setFormData:kl,activeTab:Ke,setActiveTab:Xe})})})]})}),(0,p.jsx)(z,{modalState:wl,handleClose:zl,formData:Sl,loading:Cl,skillsList:nl.skillsList,collegeList:nl.collegeList,errors:Fl,handleChange:El,handleSelectChange:Rl,degreeList:nl.degreeList,fieldsOfStudyList:nl.fieldsOfStudyList,onSubmit:Ml,setFormData:kl,allSkills:_l||[],setAddModalState:fl,setInputFields:Te,isCreatedByUser:He,isCreatedByUserForFields:Qe,isCreatedByUserForIndustry:Ze}),(0,p.jsx)(M,{modalState:wl,handleClose:zl,getSelectedOption:Kl,formData:Sl,handleSelectChange:Rl,allCompanies:nl.allCompanies,allIndustry:nl.allIndustry,allProfile:nl.allProfile,allWorkSkill:nl.allWorkSkill,error:Fl,handleSubmit:async()=>{const{isValid:e,errors:l}=Fe(Sl,"experience");if(e){Al(!0);try{const e={company_id:Sl.company_id,industries_id:Sl.industries_id,profile_role_id:Sl.profile_role_id,start_date:(0,c.TG)(null===Sl||void 0===Sl?void 0:Sl.start_date),end_date:(0,c.TG)(null===Sl||void 0===Sl?void 0:Sl.end_date),currently_available:null===Sl||void 0===Sl?void 0:Sl.currently_available,duration:(0,c.Ds)(null===Sl||void 0===Sl?void 0:Sl.start_date,null===Sl||void 0===Sl?void 0:Sl.end_date),skills_acquired:null===Sl||void 0===Sl?void 0:Sl.skills_acquired,description:null===Sl||void 0===Sl?void 0:Sl.description};null!==Sl&&void 0!==Sl&&Sl._id&&(e._id=null===Sl||void 0===Sl?void 0:Sl._id);const l=null!==Sl&&void 0!==Sl&&Sl._id?K.CU:u.YF,i=await Ee(l(e)).unwrap();r.oR.success((null===i||void 0===i?void 0:i.message)||"Work experience added successfully!"),zl(),Ee((0,K.wo)())}catch(i){r.oR.error(i||"Failed to save work experience")}finally{Al(!1)}}else Dl(l)},handleChange:El,setFormData:kl,allSkills:yl||[],setAddModalState:fl,setInputFields:Te,isCreatedByUserForIndustry:Ze,isCreatedByUserFor:ll,skillForProfileRoleId:al,loading:Cl}),(0,p.jsx)(W,{modalState:wl,handleClose:zl,collegeList:nl.collegeList,formData:Sl,handleChange:El,handleSelectChange:Rl,handleSubmit:Wl,error:Fl,companyList:null===nl||void 0===nl?void 0:nl.allCompanies,setFormData:kl,handleFileUpload:Jl,setAddModalState:fl,loading:Cl,handleFileDelete:Xl,setInputFields:Te}),(0,p.jsx)(V,{modalState:wl,handleClose:zl,formData:Sl,handleChange:El,error:Fl,masterSkillsList:nl.masterSkillsList,handleSubmit:Vl,handleFileUpload:Jl,setFormData:kl,setError:Dl,handleFileDelete:Xl,setAddModalState:fl,loading:Cl,setInputFields:Te}),(0,p.jsx)(U.A,{isOpen:xl.isOpen,title:"Add ".concat(xl.type),onClose:()=>{fl({isOpen:!1,type:"",field:""}),Te({name:"",logo_url:""})},handleSubmit:async()=>{try{var e;let l="",i=null,a=xl.field;switch(xl.type){case"college":l="institutions",i=K.d5;break;case"degree":l="degrees",i=K.Sq;break;case"field":l="fields-of-studies",i=K.Ns;break;case"skill":l="skills",i=K.KP;break;case"companies":l="companies",i=X.Nl;break;case"industries":l="industries",i=X.IQ;break;case"profile-roles":l="profile-roles",i=X.fJ;break;case"masterSkill":l="skills",i=Y.bG;break;default:return}Al(!0);const s=await Ee((0,f.A5)((0,t.A)({type:l},Ue))).unwrap();if(Al(!1),Ee(i({_id:s.data._id,name:s.data.name,created_by_users:null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.created_by_users})),a)if("skills_acquired"!==a){kl(e=>(0,t.A)((0,t.A)({},e),{},{[a]:s.data._id}));const e=s.data.created_by_users;Ll(a,s.data._id,e)}else kl(e=>(0,t.A)((0,t.A)({},e),{},{skills_acquired:[...e.skills_acquired||[],s.data._id]}));fl({isOpen:!1,type:"",field:""}),Te({name:"",logo_url:""})}catch(l){r.oR.error(l)}finally{Al(!1)}},loading:Cl,children:(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsx)(A.A,{className:"w-full h-10",label:"Enter Name",required:!0,placeholder:"Enter name",value:null===Ue||void 0===Ue?void 0:Ue.name,onChange:e=>Te(l=>(0,t.A)((0,t.A)({},l),{},{name:e.target.value}))}),("Add company"===xl.type||"Add companies"===xl.type)&&(0,p.jsx)($.A,{value:null===Ue||void 0===Ue?void 0:Ue.logo_url,required:!0,label:"Logo",onChange:e=>(async e=>{if(!e)return void r.oR.error("Please select a file");if(e.size>5242880)return void r.oR.error("File size must be less than 5MB");if(["image/jpeg","image/jpg","image/png"].includes(e.type)){Al(!0);try{var l;const i=await(0,c.pv)(e,"ADDITIONAL_CERTIFICATIONS_MEDIA");null!==i&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.imageURL&&(Te(e=>(0,t.A)((0,t.A)({},e),{},{logo_url:i.data.imageURL})),r.oR.success((null===i||void 0===i?void 0:i.message)||"Image uploaded successfully"))}catch(i){r.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to upload image")}finally{Al(!1)}}else r.oR.error("Only image files (JPEG, PNG) are allowed")})(e)})]})})]})}},693:(e,l,i)=>{i.d(l,{I:()=>r});var a=i(9379),t=i(3003),s=i(6328),d=i(152);const r=(e,l,i,r)=>{const o=(0,t.wA)();return{handleLocationSelectChange:async(l,t)=>{if("country"===l){if(e(e=>(0,a.A)((0,a.A)({},e),{},{address:(0,a.A)((0,a.A)({},e.address),{},{country:{name:null===t||void 0===t?void 0:t.label,dial_code:null===t||void 0===t?void 0:t.dial_code,short_name:null===t||void 0===t?void 0:t.short_name,emoji:null===t||void 0===t?void 0:t.emoji},state:null,city:null})})),null!==t&&void 0!==t&&t.short_name)try{i(!0),await o((0,d.wk)({country_code:t.short_name}))}catch(r){s.oR.error("Failed to fetch states")}finally{i(!1)}}else if("state"===l){e(e=>(0,a.A)((0,a.A)({},e),{},{address:(0,a.A)((0,a.A)({},e.address),{},{state:{name:null===t||void 0===t?void 0:t.label,code:null===t||void 0===t?void 0:t.code},city:null})}));try{i(!0),await o((0,d.E8)({country_code:t.country_code,state_code:t.state_code}))}catch(r){s.oR.error("Failed to fetch cities")}finally{i(!1)}}else"city"===l&&e(e=>(0,a.A)((0,a.A)({},e),{},{address:(0,a.A)((0,a.A)({},e.address),{},{city:{name:null===t||void 0===t?void 0:t.label}})}))}}}},2397:(e,l,i)=>{i.d(l,{A:()=>c});var a=i(5043),t=i(9804),s=i(184),d=i(7196),r=i(6328),o=i(8322),n=i(579);const c=e=>{var l,i;let{imageUrl:c,certificateName:u,issueBy:m,description:v,date:p,certificateUrlOrNumber:g,isAction:h=!1,isDeleting:x,record:f,onEdit:_,onDelete:y,type:b,companyName:j,profileInfo:w,sharePost:N,instituteName:C}=e;const[A,k]=(0,a.useState)(!1),S=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(S.current){const e=1*parseInt(getComputedStyle(S.current).lineHeight);S.current.scrollHeight}},[1]);return(0,n.jsxs)("div",{className:"max-w-full w-full bg-white rounded-lg shadow-md border p-4 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-full rounded-lg overflow-hidden bg-gray-50",children:"Verifide"!==(null===f||void 0===f?void 0:f.issuing_organization)&&"Verifide"!==m||null===f||void 0===f||!f.is_verified?(0,n.jsx)(n.Fragment,{children:(E=c,[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"].some(e=>E.toLowerCase().endsWith(e))?(0,n.jsx)("img",{src:c,alt:"preview",className:"w-full md:max-w-full md:min-h-80 min-h-80 max-h-80 object-contain"}):(0,n.jsx)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(c),"&embedded=true"),title:"file-preview",className:"w-full h-80 border rounded"}))}):(0,n.jsx)("div",{className:"md:max-w-full md:min-h-80 min-h-80 max-h-80 overflow-hidden overflow-y-auto custom-scrollbar",children:(0,n.jsx)(o.A,{certificateName:u,issueBy:m,date:p,skills:null===f||void 0===f?void 0:f.skills_acquired,certificateUrlOrNumber:null===f||void 0===f?void 0:f.credential_id,username:"".concat((null===w||void 0===w||null===(l=w.personalInfo)||void 0===l?void 0:l.first_name)||"User"," ").concat((null===w||void 0===w||null===(i=w.personalInfo)||void 0===i?void 0:i.last_name)||"")})})}),(0,n.jsxs)("div",{className:"w-full mt-3",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsx)("h2",{className:"md:text-base text-sm font-semibold text-[#000000]",children:u?u.split(" ").slice(0,5).join(" "):""}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:p})]}),m&&(0,n.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Issue By :"})," ",m]}),(0,n.jsxs)("div",{className:"space-y-2",children:[j&&(0,n.jsxs)("div",{className:"flex justify-start gap-2 items-center  ",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Company"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:j})]}),C&&(0,n.jsxs)("div",{className:"flex justify-start gap-2 items-center ",children:[(0,n.jsx)("p",{className:" text-sm font-semibold text-gray-900",children:"Institute"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:C})]})]}),v&&(0,n.jsxs)("div",{className:"text-xs mt-2 min-h-10",children:[(0,n.jsxs)("p",{ref:S,className:"text-gray-700 transition-all ".concat(A?"line-clamp-none":"line-clamp-1"),children:[(0,n.jsx)("span",{className:"font-medium",children:"Disc Optional :"})," ",v]}),v.split(" ").length>10&&(0,n.jsx)("button",{className:"text-blue-600 hover:underline text-xs",onClick:()=>k(!A),children:A?"Show less":"Show more"})]}),g&&(0,n.jsxs)("button",{className:"mt-3 w-full md:text-sm text-xs flex justify-between place-items-center border border-gray-300 rounded-lg py-2  px-4 hover:bg-gray-50 transition",onClick:()=>{navigator.clipboard&&window.isSecureContext&&navigator.clipboard.writeText(g).then(()=>r.oR.info("Copied !!")).catch(()=>r.oR.error("Failed to copy"))},children:[g?g.split("-").slice(0,2):"",(0,n.jsx)(t.Xpf,{})]}),h&&(0,n.jsx)("div",{className:"h-12 overflow-hidden",children:!["requested","approved"].includes(null===f||void 0===f?void 0:f.status)&&(0,n.jsx)(n.Fragment,{children:null!==f&&void 0!==f&&f.is_verified?(0,n.jsx)("div",{className:"pt-2 flex justify-end",children:(0,n.jsx)("span",{className:"inline-block text-blue-700 font-semibold px-3 py-1 rounded-md border border-transparent  hover:border-blue-500 hover:bg-blue-50 hover:text-blue-800 cursor-pointer  transition-all duration-300 ease-in-out  hover:shadow-md",onClick:()=>N(f),children:"\u2728 Share your achievement"})}):(0,n.jsxs)("div",{className:"flex justify-end items-center gap-2 py-2",children:[(0,n.jsxs)("button",{onClick:()=>_(b,f),disabled:x,className:"flex items-center gap-1 ".concat(x?"text-blue-400 cursor-not-allowed":"text-blue-600 hover:text-blue-800 hover:scale-105"," transition-all duration-200"),children:[(0,n.jsx)("span",{className:"bg-[#E6EEFF] w-10 h-10 rounded-full flex justify-center items-center ".concat(x?"bg-blue-100":"hover:bg-blue-100"),children:(0,n.jsx)(s.wwX,{})}),"Edit"]}),(0,n.jsxs)("button",{onClick:()=>y(b,f._id),disabled:x,className:"flex items-center gap-1 ".concat(x?"text-red-400 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:scale-105"," ml-2"),children:[(0,n.jsx)("span",{className:"bg-[#E6EEFF] w-10 h-10 rounded-full flex justify-center items-center ".concat(x?"bg-red-100":"hover:bg-red-100"),children:(0,n.jsx)(d.Ku6,{})}),x?"Deleting...":"Delete"]})]})})})]})]});var E}},8155:(e,l,i)=>{i.d(l,{A:()=>c});var a=i(9379),t=i(5043),s=i(8139),d=i.n(s),r=i(2364),o=i(579);const n=e=>{let{label:l="Filter By",name:i,options:s=[],selectedOption:n,onChange:c,isMulti:u=!1,containerClassName:m="",selectClassName:v="",labelClassName:p="",placeholder:g="Select...",error:h=!1,isLoading:x=!1,required:f=!1,isCreatable:_=!1,onCreateOption:y}=e;const[b,j]=(0,t.useState)(!1),w=d()("opacity-100 rounded-[10px] w-full max-h-[100px] overflow-hidden overflow-y-auto",{"border-gray-300":!h,"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":h},v),N={multiValue:e=>(0,a.A)((0,a.A)({},e),{},{backgroundColor:"#F9F9F9",borderRadius:"30px",padding:"2px 6px",border:"1px solid #E5E5E5",display:"flex",alignItems:"center"}),multiValueLabel:e=>(0,a.A)((0,a.A)({},e),{},{color:"#1F2937",fontWeight:500,fontSize:"10px",padding:"0 8px"}),multiValueRemove:e=>(0,a.A)((0,a.A)({},e),{},{color:"#EF4444",backgroundColor:"#FEE2E2",borderRadius:"50%",width:"18px",height:"18px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"12px",cursor:"pointer","&:hover":{backgroundColor:"#FCA5A5",color:"#FFF"}}),control:e=>(0,a.A)((0,a.A)({},e),{},{backgroundColor:"#FFFFFF",borderRadius:"10px",borderColor:h?"#f87171":"#0000001A",minHeight:"40px",boxShadow:"none",paddingLeft:"10px","&:hover":{borderColor:h?"#f87171":"#d4d4d8"}}),valueContainer:e=>(0,a.A)((0,a.A)({},e),{},{padding:"0 8px",color:"#000000"}),placeholder:e=>(0,a.A)((0,a.A)({},e),{},{color:"#000000",opacity:.7,fontWeight:400}),singleValue:e=>(0,a.A)((0,a.A)({},e),{},{color:"#000000",fontWeight:400}),dropdownIndicator:e=>(0,a.A)((0,a.A)({},e),{},{color:"#000000",paddingRight:"10px"}),indicatorSeparator:()=>({display:"none"}),loadingIndicator:e=>(0,a.A)((0,a.A)({},e),{},{color:"#000000"})},C=_?"":r.Ay;return(0,o.jsxs)("div",{className:"w-full space-y-2 ".concat(m),children:[(0,o.jsxs)("label",{className:"text-base text-[#282828] font-medium flex items-center gap-1 ".concat(p),children:[l,f&&(0,o.jsx)("span",{className:"text-red-500 text-sm",children:"*"})]}),(0,o.jsx)(C,{isMulti:u,options:Array.isArray(s)?s:[],value:n,onChange:async(e,l)=>{j(!0);try{await c(e,l)}finally{j(!1)}},className:w,classNamePrefix:"react-select",placeholder:g,isSearchable:!0,styles:(0,a.A)((0,a.A)({},N),{},{menuPortal:e=>(0,a.A)((0,a.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body,menuPosition:"absolute",isLoading:x||b,loadingMessage:()=>"Loading...",closeMenuOnSelect:!u}),h&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h})]})},c=t.memo(n)}}]);
//# sourceMappingURL=226.1d516422.chunk.js.map