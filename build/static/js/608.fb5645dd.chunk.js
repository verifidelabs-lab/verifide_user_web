"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[608],{9608:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var n=t(5043),l=t(9981),i=t(3003),a=t(9461),o=t(9804),r=t(9698),c=t(5051),d=t(6328),u=t(579);const m=()=>{var e,s,t,m,x,h,b;const{id:g}=(0,l.g)(),p=(0,i.wA)(),v=(0,i.d4)(e=>e.user),f=(0,l.Zp)(),j=(null===v||void 0===v||null===(e=v.jobScreeningQuestionData)||void 0===e||null===(s=e.data)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.screening_questions)||[],y=null===v||void 0===v||null===(m=v.jobScreeningQuestionData)||void 0===m||null===(x=m.data)||void 0===x?void 0:x.data,[N,_]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g&&p((0,a.eO)({job_id:g}))},[p,g]);const[w,k]=(0,n.useState)(0),[q,S]=(0,n.useState)([]),[C,T]=(0,n.useState)(!1),[Y,I]=(0,n.useState)(0),[Q,D]=(0,n.useState)(!0),[E,O]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(j.length>0){var e;S(j.map(e=>({question:e.question,question_type:e.question_type,options:e.options||[],selected_options:[]})));const s=60*((null===(e=j[0])||void 0===e?void 0:e.time_limit)||0);I(s),D(!0)}},[j]),(0,n.useEffect)(()=>{if(!Q||Y<=0)return;const e=setInterval(()=>{I(s=>s<=1?(clearInterval(e),G(),0):s-1)},1e3);return()=>clearInterval(e)},[Y,Q,w,j]);const G=()=>{w<j.length-1?setTimeout(()=>{var e;k(e=>e+1);const s=60*((null===(e=j[w+1])||void 0===e?void 0:e.time_limit)||0);I(s),D(!0)},1e3):(O(!0),K(!0))},K=async function(){const e={job_id:y._id,answers:q.map(e=>({question:e.question,question_type:e.question_type,options:e.options,selected_options:e.selected_options}))};try{_(!0);const s=await p((0,a.cf)(e)).unwrap();d.oR.success((null===s||void 0===s?void 0:s.message)||"Your answers have been submitted successfully!"),f("/user/opportunitiess")}catch(s){d.oR.error(s)}finally{_(!1)}};if(0===j.length)return(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[(0,u.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-lg text-gray-600",children:"Loading screening questions..."})]})});if(C)return(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[(0,u.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,u.jsx)(o.qGT,{className:"w-12 h-12 text-green-600"})}),(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:E?"Time Completed!":"Thank You!"}),(0,u.jsx)("p",{className:"text-gray-600 mb-6",children:E?"Your screening answers have been automatically submitted due to time completion.":"Your screening answers have been successfully submitted."}),(0,u.jsx)("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",onClick:()=>f("/user/opportunitiess/"),children:"Back to Your Opportunities"})]})});const L=j[w],M=q[w]||{};return(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:(0,u.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,u.jsx)("div",{className:"bg-white rounded-2xl shadow-lg mb-6 p-6",children:(0,u.jsxs)("div",{className:"flex items-start gap-4",children:[(0,u.jsx)("img",{src:y.company_id.logo_url,alt:"Company Logo",className:"w-16 h-16 rounded-lg object-cover border"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,u.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:y.job_title.name}),(0,u.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:y.job_type})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[(0,u.jsx)(r.MbK,{className:"w-4 h-4"}),(0,u.jsx)("span",{className:"font-medium",children:y.company_id.name}),(0,u.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,u.jsx)("span",{children:y.industry_id.name})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,u.jsx)(o.$D5,{className:"w-4 h-4"}),(0,u.jsxs)("span",{children:[y.work_location.city.name,", ",y.work_location.state.name]})]}),(0,u.jsx)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:(0,u.jsx)("span",{children:(R=y.salary_range,"\u20b9".concat(R.split("-").join(" - ")))})})]})]})]})}),(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Screening Questions"}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["Question ",w+1," of ",j.length]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg ".concat(Y<=30?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:[(0,u.jsx)(c.IeK,{className:"w-4 h-4"}),(0,u.jsx)("span",{className:"font-mono font-semibold",children:(e=>{const s=Math.floor(e/60),t=e%60;return"".concat(s.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))})(Y)})]})]}),(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:L.question}),"single_choice"===L.question_type&&(0,u.jsx)("div",{className:"space-y-3",children:L.options.map((e,s)=>{var t,n;return(0,u.jsx)("div",{className:"p-4 rounded-lg border-2 cursor-pointer transition-all hover:border-blue-300 hover:bg-blue-50 ".concat(null!==(t=M.selected_options)&&void 0!==t&&t.includes(e)?"border-blue-500 bg-blue-50":"border-gray-200"),onClick:()=>(e=>{const s=[...q];s[w]&&(s[w].selected_options=[e],S(s))})(e),children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{type:"radio",className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500",checked:(null===(n=M.selected_options)||void 0===n?void 0:n.includes(e))||!1,onChange:()=>{}}),(0,u.jsx)("label",{className:"ml-3 text-gray-700 cursor-pointer",children:e})]})},s)})}),"multi_choice"===L.question_type&&(0,u.jsx)("div",{className:"space-y-3",children:L.options.map((e,s)=>{var t,n;return(0,u.jsx)("div",{className:"p-4 rounded-lg border-2 cursor-pointer transition-all hover:border-blue-300 hover:bg-blue-50 ".concat(null!==(t=M.selected_options)&&void 0!==t&&t.includes(e)?"border-blue-500 bg-blue-50":"border-gray-200"),onClick:()=>(e=>{const s=[...q];if(s[w]){const t=s[w].selected_options;t.includes(e)?s[w].selected_options=t.filter(s=>s!==e):s[w].selected_options=[...t,e],S(s)}})(e),children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:(null===(n=M.selected_options)||void 0===n?void 0:n.includes(e))||!1,onChange:()=>{}}),(0,u.jsx)("label",{className:"ml-3 text-gray-700 cursor-pointer",children:e})]})},s)})}),"theoretical"===L.question_type&&(0,u.jsxs)("div",{children:[(0,u.jsx)("textarea",{className:"w-full h-40 p-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none resize-none",placeholder:"Type your detailed answer here...",value:(null===(h=M.selected_options)||void 0===h?void 0:h[0])||"",onChange:e=>{const s=[...q],t=e.target.value;s[w]&&(s[w].selected_options=[t],S(s))}}),(0,u.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Character count: ",((null===(b=M.selected_options)||void 0===b?void 0:b[0])||"").length]})]})]}),(0,u.jsx)("div",{className:"flex justify-end",children:w<j.length-1?(0,u.jsxs)("button",{onClick:()=>{if(w<j.length-1){var e;D(!1),k(w+1);const s=60*((null===(e=j[w+1])||void 0===e?void 0:e.time_limit)||0);I(s),D(!0)}},className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all",children:["Next",(0,u.jsx)(o.trk,{className:"w-4 h-4"})]}):(0,u.jsxs)("button",{onClick:()=>K(!1),disabled:N,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-all",children:[(0,u.jsx)(o.qGT,{className:"w-4 h-4"}),N?"Submitting...":"Submit"]})}),Y<=30&&Y>0&&(0,u.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,u.jsxs)("p",{className:"text-red-700 text-sm font-medium",children:["\u26a0\ufe0f Warning: Only ",Y," seconds remaining for this question!"]})})]})]})});var R}}}]);
//# sourceMappingURL=608.fb5645dd.chunk.js.map