"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[307],{693:(e,t,i)=>{i.d(t,{I:()=>n});var o=i(9379),s=i(3003),l=i(6328),a=i(152);const n=(e,t,i,n)=>{const r=(0,s.wA)();return{handleLocationSelectChange:async(t,s)=>{if("country"===t){if(e(e=>(0,o.A)((0,o.A)({},e),{},{address:(0,o.A)((0,o.A)({},e.address),{},{country:{name:null===s||void 0===s?void 0:s.label,dial_code:null===s||void 0===s?void 0:s.dial_code,short_name:null===s||void 0===s?void 0:s.short_name,emoji:null===s||void 0===s?void 0:s.emoji},state:null,city:null})})),null!==s&&void 0!==s&&s.short_name)try{i(!0),await r((0,a.wk)({country_code:s.short_name}))}catch(n){l.oR.error("Failed to fetch states")}finally{i(!1)}}else if("state"===t){e(e=>(0,o.A)((0,o.A)({},e),{},{address:(0,o.A)((0,o.A)({},e.address),{},{state:{name:null===s||void 0===s?void 0:s.label,code:null===s||void 0===s?void 0:s.code},city:null})}));try{i(!0),await r((0,a.E8)({country_code:s.country_code,state_code:s.state_code}))}catch(n){l.oR.error("Failed to fetch cities")}finally{i(!1)}}else"city"===t&&e(e=>(0,o.A)((0,o.A)({},e),{},{address:(0,o.A)((0,o.A)({},e.address),{},{city:{name:null===s||void 0===s?void 0:s.label}})}))}}}},1307:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N});var o=i(9379),s=i(5043),l=i(9804),a=i(8214),n=i(3974),r=i(3003),d=i(4272),c=i(152),u=i(6328),p=i(5413),_=i(9981),v=i(10),m=i(8059),y=i(8454),b=i(9461),h=i(693),g=i(8155),x=i(9442),j=i(3537),f=i(130),A=i(579);const q=e=>{var t;let{allCompanies:i,allIndustry:s,formData:l,setFormData:n,handleInputChange:r,handleSelectChange:d,errors:c,setAddModalState:u,countryList:p,handleLocationSelectChange:_,getNestedValue:v,stateList:m,citiesList:y,setInputField:b,isCreatableIndustry:h}=e;return console.log(null===l||void 0===l?void 0:l.start_date),(0,A.jsxs)("div",{className:"space-y-8",children:[(0,A.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 space-y-4",children:[(0,A.jsx)("h2",{className:"text-lg font-semibold text-gray-800 capitalize border-b pb-2",children:"Company & Industry"}),(0,A.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,A.jsx)("div",{className:"col-span-2",children:(0,A.jsx)(j.A,{options:i||[],label:"Company Name",className:"w-full",placeholder:"Select Company",onChange:e=>d("company_id",e),selectedOption:i.find(e=>e.value===l.company_id),required:!0,error:null===c||void 0===c?void 0:c.company_id,onCreateOption:(e,t)=>{u({isOpen:!0,type:"companies",field:t}),b(t=>(0,o.A)((0,o.A)({},t),{},{name:e}))},isClearable:!0,isCreatedByUser:!0})}),(0,A.jsxs)("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[(0,A.jsx)(j.A,{options:s||[],label:"Industry Name",className:"w-full",placeholder:"Select Industry",onChange:e=>d("industry_id",e),selectedOption:s.find(e=>e.value===l.industry_id),required:!0,error:null===c||void 0===c?void 0:c.industry_id,onCreateOption:(e,t)=>{u({isOpen:!0,type:"industries",field:t}),b(t=>(0,o.A)((0,o.A)({},t),{},{name:e}))},isClearable:!0,isCreatedByUser:h,isDisabled:!l.company_id,disabledTooltip:"first select Company name"}),(0,A.jsx)(a.A,{type:"number",value:null===l||void 0===l?void 0:l.current_openings,label:"Available Opening",onChange:e=>r("current_openings",e.target.value),name:"current_openings",className:"w-full h-10 border rounded-lg px-4",placeholder:"Enter number of available posts ",required:!0,error:null===c||void 0===c?void 0:c.current_openings})]})]})]}),(0,A.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 space-y-4",children:[(0,A.jsx)("h2",{className:"text-lg font-semibold text-gray-800 capitalize border-b pb-2",children:"Job Details"}),(0,A.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,A.jsx)(j.A,{label:"Job Type",options:(null===f||void 0===f?void 0:f.Job_Type_List)||[],placeholder:"Select Job Type",onChange:e=>d("job_type",e),selectedOption:null===f||void 0===f?void 0:f.Job_Type_List.find(e=>e.value===l.job_type),required:!0,error:null===c||void 0===c?void 0:c.job_type}),(0,A.jsx)(j.A,{label:"Location Type",options:(null===f||void 0===f?void 0:f.Job_Location_List)||[],placeholder:"Select Location",onChange:e=>d("job_location",e),selectedOption:null===f||void 0===f?void 0:f.Job_Location_List.find(e=>e.value===l.job_location),required:!0,error:null===c||void 0===c?void 0:c.job_location}),(0,A.jsx)(j.A,{label:"Pay Type",options:(null===f||void 0===f?void 0:f.Job_Pay_Type_List)||[],placeholder:"Select Pay Type",onChange:e=>d("pay_type",e),selectedOption:null===f||void 0===f?void 0:f.Job_Pay_Type_List.find(e=>e.value===l.pay_type),required:!0,error:null===c||void 0===c?void 0:c.pay_type})]}),(0,A.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,A.jsx)(a.A,{label:"Salary Range",placeholder:"e.g. \u20b930,000 - \u20b950,000",value:l.salary_range,onChange:e=>r("salary_range",e.target.value),required:!0,error:null===c||void 0===c?void 0:c.salary_range,className:"h-10 w-full"}),(0,A.jsx)(x.A,{label:"Start Date",value:null===l||void 0===l?void 0:l.start_date,onChange:e=>r("start_date",e.target.value),required:!0,error:null===c||void 0===c?void 0:c.start_date}),(0,A.jsx)(x.A,{label:"End Date",value:null===l||void 0===l?void 0:l.end_date,onChange:e=>r("end_date",e.target.value),required:!0,error:null===c||void 0===c?void 0:c.end_date})]})]}),(0,A.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 space-y-4",children:[(0,A.jsx)("h2",{className:"text-lg font-semibold text-gray-800 capitalize border-b pb-2",children:"Location"}),(0,A.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,A.jsx)(g.A,{label:"Country",selectedOption:(null===p||void 0===p?void 0:p.find(e=>e.label===v(l,"address.country.name")))||null,onChange:e=>_("country",e),options:p||[],required:!0,isClearable:!1,error:null===c||void 0===c?void 0:c.country}),(0,A.jsx)(g.A,{label:"State",selectedOption:(null===m||void 0===m?void 0:m.find(e=>e.label===v(l,"address.state.name")))||null,onChange:e=>_("state",e),options:m||[],required:!0,isClearable:!1,error:null===c||void 0===c?void 0:c.state}),(0,A.jsx)(g.A,{label:"City",selectedOption:(null===y||void 0===y?void 0:y.find(e=>(null===e||void 0===e?void 0:e.label)===v(l,"address.city.name")))||null,onChange:e=>_("city",e),options:y||[],required:!0,isClearable:!1,error:null===c||void 0===c?void 0:c.city}),(0,A.jsx)(a.A,{label:"Pin Code",placeholder:"e.g. 696969",value:null===l||void 0===l||null===(t=l.address)||void 0===t?void 0:t.pin_code,className:"w-full h-10",onChange:e=>n(t=>(0,o.A)((0,o.A)({},t),{},{address:(0,o.A)((0,o.A)({},t.address),{},{pin_code:e.target.value})})),required:!0,error:null===c||void 0===c?void 0:c.pin_code})]})]})]})},C=e=>{let{handleSelectChange:t,allProfileRoles:i,allSkills:s,formData:a,errors:n,setAddModalState:r,handleInputChange:d,selectedSkills:c,removeSkill:u,handleSkillSelect:p,isCreatableIndustry:_,setInputField:v}=e;return(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsx)(j.A,{label:"Job Title",className:"w-full h-10",placeholder:"e.g. Frontend Developer (React.js)",onChange:e=>t("job_title",e),selectedOption:i.find(e=>e.value===(null===a||void 0===a?void 0:a.job_title)),options:i||[],required:!0,error:null===n||void 0===n?void 0:n.job_title,onCreateOption:(e,t)=>{r({isOpen:!0,type:"Profile Role",field:t}),v(t=>(0,o.A)((0,o.A)({},t),{},{name:e}))},isClearable:!0,isCreatedByUser:!!_}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Job Description ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("textarea",{value:a.job_description,onChange:e=>d("job_description",e.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe the job role and what you're looking for in a candidate..."}),(0,A.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tell people about this position and what you're looking for. For example, what they'll be doing on a typical day, why they should be interested, and requirements you may have."}),(0,A.jsx)("p",{className:"text-xs text-red-600",children:null===n||void 0===n?void 0:n.job_description})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(j.A,{label:"Skills Required ",options:s||[],className:"w-full h-10",placeholder:"Select skills",onChange:p,required:!0,error:null===n||void 0===n?void 0:n.required_skills,onCreateOption:(e,t)=>{r({isOpen:!0,type:"skill",field:t}),v(t=>(0,o.A)((0,o.A)({},t),{},{name:e}))},isClearable:!0,isCreatedByUser:!!_}),(0,A.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:c.map((e,t)=>(0,A.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e.label,(0,A.jsx)("button",{onClick:()=>u(e.value),className:"ml-2 hover:text-blue-600",children:(0,A.jsx)(l.Gsv,{className:"h-4 w-4"})})]},t))})]})]})})},N=()=>{var e,t,i,g,x,j,f,N,k,w,S,O,E,D,L,F,I,P,J;const{id:R}=(0,_.g)(),T=(0,r.wA)(),M=(0,_.Zp)(),z=(0,r.d4)(e=>e.work),B=(0,r.d4)(e=>e.global),V=(0,r.d4)(e=>e.global),K=(0,d.eu)((null===z||void 0===z||null===(e=z.getAllCompaniesData)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)||[]),W=(0,d.Kj)((null===z||void 0===z||null===(i=z.getAllIndustryData)||void 0===i||null===(g=i.data)||void 0===g?void 0:g.data)||[]),G=(0,d.Kj)((null===B||void 0===B||null===(x=B.masterSkillsData)||void 0===x||null===(j=x.data)||void 0===j||null===(f=j.data)||void 0===f?void 0:f.list)||[]),Q=(0,d.Kj)((null===z||void 0===z||null===(N=z.getAllProfileRoleData)||void 0===N||null===(k=N.data)||void 0===k?void 0:k.data)||[]),U=(0,d.Kj)((null===V||void 0===V||null===(w=V.countriesData)||void 0===w||null===(S=w.data)||void 0===S?void 0:S.data)||[]),H=(0,d.Kj)((null===V||void 0===V||null===(O=V.stateData)||void 0===O||null===(E=O.data)||void 0===E?void 0:E.data)||[]),X=(0,d.Kj)((null===V||void 0===V||null===(D=V.citiesData)||void 0===D||null===(L=D.data)||void 0===L?void 0:L.data)||[]),[Z,$]=(0,s.useState)(1),[Y,ee]=(0,s.useState)(!1),[te,ie]=(0,s.useState)((0,v.Ri)("ACCESS_MODE")),[oe,se]=(0,s.useState)([]),[le,ae]=(0,s.useState)([{question:"",question_type:"single_choice",options:[],option_format:"alphabetically",correct_options:[],verification_type:"auto",time_limit:2}]),[ne,re]=(0,s.useState)({}),[de,ce]=(0,s.useState)({name:"",logo_url:""}),[ue,pe]=(0,s.useState)({isOpen:!1,type:"",field:""}),[_e,ve]=(0,s.useState)({company_id:"",industry_id:"",job_type:"",job_location:"",pay_type:"",salary_range:"",job_title:"",job_description:"",start_date:"",end_date:"",current_openings:"",required_skills:[],address:{country:{name:"",dial_code:"",short_name:"",emoji:"\ud83c\uddee"},state:{name:"",code:""},city:{name:""},pin_code:""},screening_questions:[],isDisable:!1,isShareAsPost:!1}),[me,ye]=(0,s.useState)(!1),{handleLocationSelectChange:be,fetchDependentData:he}=(0,h.I)(ve,_e,re);(0,s.useEffect)(()=>{const e=()=>{const e=(0,v.Ri)("ACCESS_MODE");ie(e),5==e&&M("/user/opportunitiess")};return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[M]),(0,s.useEffect)(()=>{T((0,n.f$)()),T((0,c.Xr)())},[T]);const ge=(0,s.useCallback)(e=>{if(G.length>0&&e.length>0){const t=G.filter(t=>e.includes(t.value));se(t)}},[G]),xe=null===_e||void 0===_e||null===(F=_e.address)||void 0===F||null===(I=F.country)||void 0===I?void 0:I.short_name,je=null===_e||void 0===_e||null===(P=_e.address)||void 0===P||null===(J=P.state)||void 0===J?void 0:J.name,fe=(0,s.useCallback)(async()=>{if(R)try{var e,t,i,s,l,a,r,d;const u=await T((0,c.Sk)({_id:R,populate:"company_id:created_by_users|industry_id:created_by_users"})).unwrap(),f=null===u||void 0===u?void 0:u.data,A=f.work_location||f.address||{country:{name:"",dial_code:"",short_name:"",emoji:"\ud83c\uddee"},state:{name:"",code:""},city:{name:""},pin_code:""};var p,_,v,m,y,b,h,g,x,j;if(ve((0,o.A)((0,o.A)({},f),{},{address:A,company_id:null===u||void 0===u||null===(e=u.data)||void 0===e||null===(t=e.company_id)||void 0===t?void 0:t._id,industry_id:null===u||void 0===u||null===(i=u.data)||void 0===i||null===(s=i.industry_id)||void 0===s?void 0:s._id,start_date:null!==u&&void 0!==u&&null!==(l=u.data)&&void 0!==l&&l.start_date?new Date(u.data.start_date).toISOString().split("T")[0]:"",end_date:null!==u&&void 0!==u&&null!==(a=u.data)&&void 0!==a&&a.end_date?new Date(u.data.end_date).toISOString().split("T")[0]:""})),null!==u&&void 0!==u&&null!==(r=u.data)&&void 0!==r&&r.company_id)T((0,n.a_)({company_id:null===u||void 0===u||null===(p=u.data)||void 0===p||null===(_=p.company_id)||void 0===_?void 0:_._id,created_by_users:null===u||void 0===u||null===(v=u.data)||void 0===v||null===(m=v.company_id)||void 0===m?void 0:m.created_by_users})),ye(null===u||void 0===u||null===(y=u.data)||void 0===y||null===(b=y.company_id)||void 0===b?void 0:b.created_by_users);if(null!==u&&void 0!==u&&null!==(d=u.data)&&void 0!==d&&d.industry_id)T((0,n.JL)({industry_id:null===u||void 0===u||null===(h=u.data)||void 0===h||null===(g=h.industry_id)||void 0===g?void 0:g._id,created_by_users:null===u||void 0===u||null===(x=u.data)||void 0===x||null===(j=x.industry_id)||void 0===j?void 0:j.created_by_users}));f.screening_questions&&f.screening_questions.length>0&&ae(f.screening_questions),f.required_skills&&f.required_skills.length>0&&ge(f.required_skills)}catch(f){console.error("Error fetching job data:",f),u.oR.error((null===f||void 0===f?void 0:f.message)||"Failed to fetch job data")}},[R,T]);(0,s.useEffect)(()=>{xe&&T((0,c.wk)({country_code:xe})),je&&T((0,c.E8)({state_name:je}))},[T,xe,je]),(0,s.useEffect)(()=>{R&&fe()},[R,fe]),(0,s.useEffect)(()=>{R&&G.length>0&&_e.required_skills.length>0&&0===oe.length&&ge(_e.required_skills)},[G,_e.required_skills,R,ge,oe.length]);const Ae=e=>{const t={};var i,o,s,l,a,n,r;1===e&&(_e.company_id||(t.company_id="Company is required"),_e.industry_id||(t.industry_id="Industry is required"),_e.job_type||(t.job_type="Job type is required"),_e.job_location||(t.job_location="Job location is required"),_e.pay_type||(t.pay_type="Pay type is required"),_e.salary_range||"internship"===_e.job_type||"unpaid"===_e.pay_type||(t.salary_range="Salary range is required"),_e.start_date||(t.start_date="Start date is required"),_e.end_date||(t.end_date="End date is required"),_e.current_openings||(t.current_openings="current opening is required"),null!==(i=_e.address)&&void 0!==i&&null!==(o=i.country)&&void 0!==o&&o.name||(t.country="Country is required"),null!==(s=_e.address)&&void 0!==s&&null!==(l=s.state)&&void 0!==l&&l.name||(t.state="State is required"),null!==(a=_e.address)&&void 0!==a&&null!==(n=a.city)&&void 0!==n&&n.name||(t.city="City is required"),null!==(r=_e.address)&&void 0!==r&&r.pin_code||(t.pin_code="Pin No is required"));return 2===e&&(_e.job_title||(t.job_title="Job title is required"),_e.job_description||(t.job_description="Job description is required"),_e.job_description&&_e.job_description.length<50&&(t.job_description="Description should be at least 50 characters"),0===_e.required_skills.length&&(t.required_skills="At least one skill is required")),3===e&&(0===le.length?t.screening_questions="At least one screening question is required":le.forEach((e,i)=>{e.question&&""!==e.question.trim()||(t["screening_question_".concat(i)]="Question is required"),"theoretical"!==e.question_type&&(e.options.length<2&&(t["screening_options_".concat(i)]="At least two options are required"),e.options.forEach((e,o)=>{e&&""!==e.trim()||(t["screening_option_".concat(i,"_").concat(o)]="Option cannot be empty")}),0===e.correct_options.length&&(t["screening_correct_".concat(i)]="At least one correct option is required"))})),re(t),0===Object.keys(t).length},qe=(e,t)=>{ve(i=>{const s=(0,o.A)((0,o.A)({},i),{},{[e]:t});let l=(0,o.A)({},ne);if(s.start_date&&s.end_date){const e=new Date(s.start_date);new Date(s.end_date)<e?l.end_date="End date cannot be before Start date":(delete l.start_date,delete l.end_date)}return re(l),s}),ne[e]&&re(t=>{const i=(0,o.A)({},t);return delete i[e],i})},Ce=async(e,t)=>{ve(i=>(0,o.A)((0,o.A)({},i),{},{[e]:t.value})),console.log("field, selectedOption",e,t),"company_id"===e&&ye(null===t||void 0===t?void 0:t.created_by_users);const i=null===t||void 0===t?void 0:t.value;switch(e){case"institution_id":await T((0,y.Q_)({institution_id:i,created_by_users:null===t||void 0===t?void 0:t.created_by_users}));break;case"degree_id":await T((0,y.BB)({degree_id:i,created_by_users:null===t||void 0===t?void 0:t.created_by_users}));break;case"field_of_studies":await T((0,y.P8)({study_id:i,created_by_users:null===t||void 0===t?void 0:t.created_by_users}));break;case"company_id":await T((0,n.a_)({company_id:i,created_by_users:null===t||void 0===t?void 0:t.created_by_users}));break;case"industry_id":await T((0,n.JL)({industry_id:i,created_by_users:null===t||void 0===t?void 0:t.created_by_users}));break;case"profile_role_id":await T((0,n.O_)({profile_role_id:i,created_by_users:null===t||void 0===t?void 0:t.created_by_users}))}ne[e]&&re(t=>{const i=(0,o.A)({},t);return delete i[e],i})},Ne=e=>{e&&!_e.required_skills.includes(e.value)&&(ve(t=>(0,o.A)((0,o.A)({},t),{},{required_skills:[...t.required_skills,e.value]})),se(t=>[...t,e]),ne.required_skills&&re(e=>{const t=(0,o.A)({},e);return delete t.required_skills,t}))},ke=e=>{ve(t=>(0,o.A)((0,o.A)({},t),{},{required_skills:t.required_skills.filter(t=>t!==e)})),se(t=>t.filter(t=>t.value!==e))},we=(e,t,i)=>{const s=[...le];s[e][t]=i,ae(s),"question"===t&&ne["screening_question_".concat(e)]&&re(t=>{const i=(0,o.A)({},t);return delete i["screening_question_".concat(e)],i})},Se=()=>{ae([...le,{question:"",question_type:"single_choice",options:[],option_format:"alphabetically",correct_options:[],verification_type:"auto",time_limit:2}])},Oe=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o=t.split(".");let s=e;for(const a of o){var l;if(s=null===(l=s)||void 0===l?void 0:l[a],void 0===s)return i}return s||i};return(0,A.jsxs)("div",{className:"p-4",children:[(0,A.jsx)("div",{className:"min-h-screen",children:(0,A.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,A.jsx)("button",{onClick:()=>M(-1),className:"p-1 rounded hover:bg-gray-100",children:(0,A.jsx)(l.OLK,{size:32})}),(0,A.jsx)("h1",{className:"text-2xl font-semibold text-[#000000E6]",children:R?"Edit Job":"Post a Job"}),(0,A.jsxs)("span",{className:"text-sm text-gray-500",children:[Z,"/3"]})]}),(0,A.jsxs)("div",{className:"mb-8",children:[1===Z&&(0,A.jsx)("div",{className:"space-y-3",children:(0,A.jsx)(q,{allCompanies:K,allIndustry:W,formData:_e,setFormData:ve,handleInputChange:qe,handleSelectChange:Ce,errors:ne,setAddModalState:pe,countryList:U,handleLocationSelectChange:be,getNestedValue:Oe,stateList:H,citiesList:X,setInputField:ce,isCreatableIndustry:me})}),2===Z&&(0,A.jsx)(C,{handleSelectChange:Ce,allProfileRoles:Q,allSkills:G,formData:_e,errors:ne,setAddModalState:pe,handleInputChange:qe,selectedSkills:oe,removeSkill:ke,handleSkillSelect:Ne,isCreatableIndustry:me}),3===Z&&(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Screening Questions ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Add screening questions to filter candidates. All questions are required."}),ne.screening_questions&&(0,A.jsx)("p",{className:"text-sm text-red-500 mb-4 bg-red-50 p-2 rounded-md",children:ne.screening_questions}),le.map((e,t)=>{const i=ne["screening_question_".concat(t)],s=ne["screening_options_".concat(t)],n=ne["screening_correct_".concat(t)];return(0,A.jsxs)("div",{className:"mb-6 p-4 border rounded-lg ".concat(i||s||n?"border-red-300 bg-red-50":"border-gray-200"),children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,A.jsxs)("h3",{className:"font-medium",children:["Question ",t+1," ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("button",{onClick:()=>(e=>{const t=[...le];t.splice(e,1),ae(t);const i=(0,o.A)({},ne);Object.keys(i).forEach(t=>{(t.startsWith("screening_question_".concat(e))||t.startsWith("screening_options_".concat(e))||t.startsWith("screening_correct_".concat(e))||t.startsWith("screening_option_".concat(e,"_")))&&delete i[t]}),re(i)})(t),className:"text-red-500 hover:text-red-700",children:(0,A.jsx)(l.Gsv,{className:"h-5 w-5"})})]}),(0,A.jsx)("div",{className:"mb-3",children:(0,A.jsx)(a.A,{value:e.question,onChange:e=>we(t,"question",e.target.value),placeholder:"Enter your question",className:"w-full h-10",error:i,required:!0})}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Type"}),(0,A.jsxs)("select",{value:e.question_type,onChange:e=>we(t,"question_type",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,A.jsx)("option",{value:"single_choice",children:"Single Choice"}),(0,A.jsx)("option",{value:"multi_choice",children:"Multiple Choice"}),(0,A.jsx)("option",{value:"theoretical",children:"Theoretical"})]})]}),"theoretical"===e.question_type?(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Answer (Optional)"}),(0,A.jsx)("textarea",{value:e.expected_answer||"",onChange:e=>we(t,"expected_answer",e.target.value),rows:3,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Describe what you're looking for in an answer (optional)"})]}):(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center",children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Options ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),s&&(0,A.jsx)("span",{className:"text-sm text-red-500",children:s})]}),e.options.map((i,s)=>{const n=ne["screening_option_".concat(t,"_").concat(s)];return(0,A.jsxs)("div",{className:"flex items-center",children:[(0,A.jsx)("input",{type:"single_choice"===e.question_type?"radio":"checkbox",checked:e.correct_options.includes(i),onChange:()=>((e,t)=>{const i=[...le],s=i[e];if("single_choice"===s.question_type)s.correct_options=[t];else{const e=s.correct_options.indexOf(t);-1===e?s.correct_options.push(t):s.correct_options.splice(e,1)}ae(i),ne["screening_correct_".concat(e)]&&re(t=>{const i=(0,o.A)({},t);return delete i["screening_correct_".concat(e)],i})})(t,i),className:"mr-2 ",name:"question-".concat(t)}),(0,A.jsx)("div",{className:"flex-1",children:(0,A.jsx)(a.A,{value:i,onChange:e=>{const o=e.target.value,l=[...le];if(l[t].correct_options.includes(i)){const e=l[t].correct_options.indexOf(i);l[t].correct_options[e]=o}l[t].options[s]=o,ae(l)},placeholder:"Option ".concat(s+1),error:n,required:!0})}),(0,A.jsx)("button",{onClick:()=>((e,t)=>{const i=[...le];i[e].options.splice(t,1);const s=i[e].options[t],l=i[e].correct_options.indexOf(s);-1!==l&&i[e].correct_options.splice(l,1),ae(i),ne["screening_option_".concat(e,"_").concat(t)]&&re(i=>{const s=(0,o.A)({},i);return delete s["screening_option_".concat(e,"_").concat(t)],s})})(t,s),className:"ml-2 text-red-500 hover:text-red-700",children:(0,A.jsx)(l.Gsv,{className:"h-5 w-5"})})]},s)}),(0,A.jsx)("button",{onClick:()=>(e=>{const t=[...le];t[e].options.push(""),ae(t)})(t),className:"mt-2 text-blue-500 hover:text-blue-700 text-sm",children:"+ Add Option"}),n&&(0,A.jsx)("p",{className:"text-sm text-red-500 mt-2",children:n})]}),(0,A.jsxs)("div",{className:"mt-3",children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Time Limit (minutes) ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("input",{type:"number",value:e.time_limit,onChange:e=>we(t,"time_limit",parseInt(e.target.value)||0),min:"1",className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]})]},t)}),(0,A.jsxs)("button",{onClick:Se,className:"mt-2 text-blue-500 hover:text-blue-700 flex items-center",children:[(0,A.jsx)("span",{className:"text-lg mr-1",children:"+"})," Add Another Question"]})]}),!R&&(0,A.jsx)(a.A,{type:"checkbox",label:"Share As a post",checked:null===_e||void 0===_e?void 0:_e.isShareAsPost,onChange:e=>ve(t=>(0,o.A)((0,o.A)({},t),{},{isShareAsPost:e.target.checked}))})]})]}),(0,A.jsxs)("div",{className:"flex justify-between mt-8 gap-3",children:[Z>1&&(0,A.jsx)("button",{onClick:()=>{Z>1&&$(Z-1)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Back"}),Z<3?(0,A.jsx)("button",{onClick:()=>{if(Ae(Z))Z<3&&$(Z+1);else{const e=Object.keys(ne)[0];if(e){const t=document.querySelector('[data-error="'.concat(e,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}}},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 ml-auto",children:"Next"}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(p.A,{onClick:async()=>{if(!Ae(3)){const e=Object.keys(ne)[0];if(e){const t=document.querySelector('[data-error="'.concat(e,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}return}ee(!0);const e={company_id:(null===_e||void 0===_e?void 0:_e.company_id)||"",industry_id:(null===_e||void 0===_e?void 0:_e.industry_id)||"",job_type:(null===_e||void 0===_e?void 0:_e.job_type)||"",job_location:(null===_e||void 0===_e?void 0:_e.job_location)||"",pay_type:(null===_e||void 0===_e?void 0:_e.pay_type)||"",salary_range:(null===_e||void 0===_e?void 0:_e.salary_range)||"",job_title:(null===_e||void 0===_e?void 0:_e.job_title)||"",job_description:(null===_e||void 0===_e?void 0:_e.job_description)||"",required_skills:(null===_e||void 0===_e?void 0:_e.required_skills)||[],work_location:(null===_e||void 0===_e?void 0:_e.address)||"",isDisable:!1,screening_questions:le,start_date:(0,d.TG)(null===_e||void 0===_e?void 0:_e.start_date)||"",end_date:(0,d.TG)(null===_e||void 0===_e?void 0:_e.end_date)||"",isShareAsPost:null===_e||void 0===_e?void 0:_e.isShareAsPost,current_openings:null===_e||void 0===_e?void 0:_e.current_openings};R&&(e._id=R);const t=R?c.m8:c.ts;try{const i=await T(t(e)).unwrap();u.oR.success((null===i||void 0===i?void 0:i.message)||(null===i||void 0===i?void 0:i.success)||(R?"Job updated successfully!":"Job posted successfully!")),$(1),M("/user/opportunitiess"),ve({company_id:"",industry_id:"",job_type:"",job_location:"",pay_type:"",salary_range:"",job_title:"",job_description:"",required_skills:[],address:{country:{name:"",dial_code:"",short_name:"",emoji:"\ud83c\uddee"},state:{name:"",code:""},city:{name:""},pin_code:""},screening_questions:[],isDisable:!1,start_date:"",end_date:""}),se([]),ae([{question:"",question_type:"single_choice",options:[],option_format:"alphabetically",correct_options:[],verification_type:"auto",time_limit:2}]),re({})}catch(i){console.error("Error submitting job:",i),u.oR.error((null===i||void 0===i?void 0:i.message)||(R?"Failed to update job. Please try again.":"Failed to post job. Please try again."))}finally{ee(!1)}},loading:Y,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 ml-auto",children:R?"Update Job":"Post Job"})})]})]})})}),(0,A.jsx)(m.A,{isOpen:ue.isOpen,title:"Add ".concat(ue.type),onClose:()=>{pe({isOpen:!1,type:"",field:""}),ce({name:"",logo_url:""})},handleSubmit:async()=>{try{var e;let t="",i=null,s=ue.field;switch(ue.type){case"degree":t="degrees",i=y.Sq;break;case"field":t="fields-of-studies",i=y.Ns;break;case"skill":t="skills",i=c.bG;break;case"companies":t="companies",i=n.Nl;break;case"industries":t="industries",i=c.u8;break;case"profile-roles":t="profile-roles",i=c.fJ;break;default:return}const l=await T((0,b.A5)((0,o.A)({type:t},de))).unwrap();if(T(i({_id:l.data._id,name:l.data.name,created_by_users:null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.created_by_users})),s)if("skills_acquired"!==s){ve(e=>(0,o.A)((0,o.A)({},e),{},{[s]:l.data._id}));const e=l.data.created_by_users;he(s,l.data._id,e)}else ve(e=>(0,o.A)((0,o.A)({},e),{},{skills_acquired:[...e.skills_acquired||[],l.data._id]}));pe({isOpen:!1,type:"",field:""}),ce({name:"",logo_url:""})}catch(t){u.oR.error(t)}},children:(0,A.jsx)("div",{className:"space-y-3",children:(0,A.jsx)(a.A,{className:"w-full h-10",label:"Enter Name",required:!0,placeholder:"Enter name",value:null===de||void 0===de?void 0:de.name,onChange:e=>ce(t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value}))})})})]})}},8155:(e,t,i)=>{i.d(t,{A:()=>c});var o=i(9379),s=i(5043),l=i(8139),a=i.n(l),n=i(2364),r=i(579);const d=e=>{let{label:t="Filter By",name:i,options:l=[],selectedOption:d,onChange:c,isMulti:u=!1,containerClassName:p="",selectClassName:_="",labelClassName:v="",placeholder:m="Select...",error:y=!1,isLoading:b=!1,required:h=!1,isCreatable:g=!1,onCreateOption:x}=e;const[j,f]=(0,s.useState)(!1),A=a()("opacity-100 rounded-[10px] w-full max-h-[100px] overflow-hidden overflow-y-auto",{"border-gray-300":!y,"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":y},_),q={multiValue:e=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:"#F9F9F9",borderRadius:"30px",padding:"2px 6px",border:"1px solid #E5E5E5",display:"flex",alignItems:"center"}),multiValueLabel:e=>(0,o.A)((0,o.A)({},e),{},{color:"#1F2937",fontWeight:500,fontSize:"10px",padding:"0 8px"}),multiValueRemove:e=>(0,o.A)((0,o.A)({},e),{},{color:"#EF4444",backgroundColor:"#FEE2E2",borderRadius:"50%",width:"18px",height:"18px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"12px",cursor:"pointer","&:hover":{backgroundColor:"#FCA5A5",color:"#FFF"}}),control:e=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:"#FFFFFF",borderRadius:"10px",borderColor:y?"#f87171":"#0000001A",minHeight:"40px",boxShadow:"none",paddingLeft:"10px","&:hover":{borderColor:y?"#f87171":"#d4d4d8"}}),valueContainer:e=>(0,o.A)((0,o.A)({},e),{},{padding:"0 8px",color:"#000000"}),placeholder:e=>(0,o.A)((0,o.A)({},e),{},{color:"#000000",opacity:.7,fontWeight:400}),singleValue:e=>(0,o.A)((0,o.A)({},e),{},{color:"#000000",fontWeight:400}),dropdownIndicator:e=>(0,o.A)((0,o.A)({},e),{},{color:"#000000",paddingRight:"10px"}),indicatorSeparator:()=>({display:"none"}),loadingIndicator:e=>(0,o.A)((0,o.A)({},e),{},{color:"#000000"})},C=g?"":n.Ay;return(0,r.jsxs)("div",{className:"w-full space-y-2 ".concat(p),children:[(0,r.jsxs)("label",{className:"text-base text-[#282828] font-medium flex items-center gap-1 ".concat(v),children:[t,h&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:"*"})]}),(0,r.jsx)(C,{isMulti:u,options:Array.isArray(l)?l:[],value:d,onChange:async(e,t)=>{f(!0);try{await c(e,t)}finally{f(!1)}},className:A,classNamePrefix:"react-select",placeholder:m,isSearchable:!0,styles:(0,o.A)((0,o.A)({},q),{},{menuPortal:e=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body,menuPosition:"absolute",isLoading:b||j,loadingMessage:()=>"Loading...",closeMenuOnSelect:!u}),y&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:y})]})},c=s.memo(d)}}]);
//# sourceMappingURL=307.7267cc38.chunk.js.map