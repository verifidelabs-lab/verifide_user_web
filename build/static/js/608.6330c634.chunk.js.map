{"version":3,"file":"static/js/608.6330c634.chunk.js","mappings":"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","sources":["pages/CareerGoal/CareerGoal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  applyJobApplication,\n  jobScreeningQuestion,\n} from \"../../redux/Users/userSlice\";\nimport { BiCheckCircle, BiChevronRightCircle, BiMapPin } from \"react-icons/bi\";\nimport { LuBuilding2 } from \"react-icons/lu\";\n// import { FaUserSecret } from 'react-icons/fa';\nimport { CiLock } from \"react-icons/ci\";\nimport { toast } from \"sonner\";\n\nconst CareerGoal = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const selector = useSelector((state) => state.user);\n  const navigate = useNavigate();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const screeningQuestions =\n    selector?.jobScreeningQuestionData?.data?.data?.screening_questions || [];\n  const jobData = selector?.jobScreeningQuestionData?.data?.data;\n  console.log(\"üß© Job Data fetched from backend:\", jobData);\n\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (id) {\n      dispatch(jobScreeningQuestion({ job_id: id }));\n    }\n  }, [dispatch, id]);\n  useEffect(() => {\n    console.log(\"this is the jobdata\", jobData?.isApplied);\n    if (jobData?.isApplied === true) {\n      toast.warning(\"You have already applied for this job.\");\n      navigate(\"/user/opportunitiess\");\n    }\n  }, [jobData?.isApplied, navigate]);\n\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [timerActive, setTimerActive] = useState(true);\n  const [autoSubmitted, setAutoSubmitted] = useState(false);\n\n  // Fixed useEffect with proper dependency\n  useEffect(() => {\n    if (screeningQuestions.length > 0) {\n      setAnswers(\n        screeningQuestions.map((q) => ({\n          question: q.question,\n          question_type: q.question_type,\n          options: q.options || [],\n          selected_options: [],\n        }))\n      );\n\n      const initialTime = (screeningQuestions[0]?.time_limit || 0) * 60;\n      setTimeLeft(initialTime);\n      setTimerActive(true);\n    }\n  }, [screeningQuestions]); // Added screeningQuestions as dependency\n\n  useEffect(() => {\n    if (!timerActive || timeLeft <= 0) return;\n\n    const timerId = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 1) {\n          clearInterval(timerId);\n          handleTimeExpired();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timerId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timeLeft, timerActive, currentQuestion, screeningQuestions]); // Added screeningQuestions\n\n  const handleTimeExpired = () => {\n    if (currentQuestion < screeningQuestions.length - 1) {\n      // Auto-move to next question\n      setTimeout(() => {\n        setCurrentQuestion((prev) => prev + 1);\n        const nextQuestionTime =\n          (screeningQuestions[currentQuestion + 1]?.time_limit || 0) * 60;\n        setTimeLeft(nextQuestionTime);\n        setTimerActive(true);\n      }, 1000);\n    } else {\n      // Auto-submit when last question time expires\n      setAutoSubmitted(true);\n      handleSubmit(true);\n    }\n  };\n\n  const handleSingleChoiceSelect = (option) => {\n    const newAnswers = [...answers];\n    // Added safety check to prevent undefined error\n    if (newAnswers[currentQuestion]) {\n      newAnswers[currentQuestion].selected_options = [option];\n      setAnswers(newAnswers);\n    }\n  };\n\n  const handleMultiChoiceSelect = (option) => {\n    const newAnswers = [...answers];\n    // Added safety check to prevent undefined error\n    if (newAnswers[currentQuestion]) {\n      const currentSelections = newAnswers[currentQuestion].selected_options;\n\n      if (currentSelections.includes(option)) {\n        newAnswers[currentQuestion].selected_options = currentSelections.filter(\n          (item) => item !== option\n        );\n      } else {\n        newAnswers[currentQuestion].selected_options = [\n          ...currentSelections,\n          option,\n        ];\n      }\n\n      setAnswers(newAnswers);\n    }\n  };\n\n  const handleTextAnswerChange = (e) => {\n    const newAnswers = [...answers];\n    const value = e.target.value;\n    // Added safety check to prevent undefined error\n    if (newAnswers[currentQuestion]) {\n      newAnswers[currentQuestion].selected_options = [value];\n      setAnswers(newAnswers);\n    }\n  };\n\n  const handleNext = () => {\n    if (currentQuestion < screeningQuestions.length - 1) {\n      setTimerActive(false);\n      setCurrentQuestion(currentQuestion + 1);\n      const nextQuestionTime =\n        (screeningQuestions[currentQuestion + 1]?.time_limit || 0) * 60;\n      setTimeLeft(nextQuestionTime);\n      setTimerActive(true);\n    }\n  };\n\n  const handleSubmit = async (isAutoSubmit = false) => {\n    // Validation: ensure all questions have at least one answer\n    for (let i = 0; i < answers.length; i++) {\n      const ans = answers[i];\n      if (\n        ans.selected_options.length === 0 ||\n        (ans.question_type === \"theoretical\" &&\n          !ans.selected_options[0]?.trim())\n      ) {\n        toast.error(`Please answer question ${i + 1} before submitting.`);\n        setCurrentQuestion(i);\n        return; // stop submission\n      }\n    }\n\n    const payload = {\n      job_id: jobData._id,\n      answers: answers.map((answer) => ({\n        question: answer.question,\n        question_type: answer.question_type,\n        options: answer.options,\n        selected_options: answer.selected_options,\n      })),\n      // auto_submitted: isAutoSubmit\n    };\n\n    try {\n      setLoading(true);\n      const res = await dispatch(applyJobApplication(payload)).unwrap();\n      toast.success(\n        res?.message || \"Your answers have been submitted successfully!\"\n      );\n      navigate(`/user/opportunitiess`);\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs\n      .toString()\n      .padStart(2, \"0\")}`;\n  };\n\n  const formatSalary = (range) => {\n    return `‚Çπ${range.split(\"-\").join(\" - \")}`;\n  };\n\n  if (screeningQuestions.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center\">\n          <div className=\"animate-spin w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full mx-auto mb-4\"></div>\n          <p className=\"text-lg text-gray-600\">\n            Loading screening questions...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (showSuccess) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center\">\n          <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <BiCheckCircle className=\"w-12 h-12 text-green-600\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">\n            {autoSubmitted ? \"Time Completed!\" : \"Thank You!\"}\n          </h1>\n          <p className=\"text-gray-600 mb-6\">\n            {autoSubmitted\n              ? \"Your screening answers have been automatically submitted due to time completion.\"\n              : \"Your screening answers have been successfully submitted.\"}\n          </p>\n          <button\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors\"\n            onClick={() => navigate(`/user/opportunitiess/`)}\n          >\n            Back to Your Opportunities\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const currentQ = screeningQuestions[currentQuestion];\n  const currentAnswer = answers[currentQuestion] || {};\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Job Information Card */}\n        <div className=\"bg-white rounded-2xl shadow-lg mb-6 p-6\">\n          <div className=\"flex items-start gap-4\">\n            <img\n              src={jobData?.company_id?.logo_url}\n              alt=\"Company Logo\"\n              className=\"w-16 h-16 rounded-lg object-cover border\"\n              onError={(e) => {\n                e.currentTarget.onerror = null;\n                e.currentTarget.src = \"/companylogo.png\"; // fallback image\n              }}\n            />\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <h1 className=\"text-xl font-bold text-gray-900\">\n                  {jobData.job_title.name}\n                </h1>\n                <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                  {jobData.job_type}\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2 text-gray-600 mb-3\">\n                <LuBuilding2 className=\"w-4 h-4\" />\n                <span className=\"font-medium\">{jobData.company_id.name}</span>\n                <span className=\"text-gray-400\">‚Ä¢</span>\n                <span>{jobData.industry_id.name}</span>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                  <BiMapPin className=\"w-4 h-4\" />\n                  <span>\n                    {jobData.work_location.city.name},{\" \"}\n                    {jobData.work_location.state.name}\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                  <span>{formatSalary(jobData.salary_range)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Question Card */}\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n          {/* Header */}\n          <div className=\"flex justify-between items-center mb-6\">\n            <div>\n              <h2 className=\"text-lg font-semibold text-gray-900\">\n                Screening Questions\n              </h2>\n              <p className=\"text-sm text-gray-500\">\n                Question {currentQuestion + 1} of {screeningQuestions.length}\n              </p>\n            </div>\n\n            {/* Timer */}\n            <div\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg ${\n                timeLeft <= 30\n                  ? \"bg-red-100 text-red-700\"\n                  : \"bg-blue-100 text-blue-700\"\n              }`}\n            >\n              <CiLock className=\"w-4 h-4\" />\n              <span className=\"font-mono font-semibold\">\n                {formatTime(timeLeft)}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-6\">\n              {currentQ.question}\n            </h3>\n\n            {currentQ.question_type === \"single_choice\" && (\n              <div className=\"space-y-3\">\n                {currentQ.options.map((option, index) => (\n                  <div\n                    key={index}\n                    className={`p-4 rounded-lg border-2 cursor-pointer transition-all hover:border-blue-300 hover:bg-blue-50 ${\n                      currentAnswer.selected_options?.includes(option)\n                        ? \"border-blue-500 bg-blue-50\"\n                        : \"border-gray-200\"\n                    }`}\n                    onClick={() => handleSingleChoiceSelect(option)}\n                  >\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        className=\"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500\"\n                        checked={\n                          currentAnswer.selected_options?.includes(option) ||\n                          false\n                        }\n                        onChange={() => {}}\n                      />\n                      <label className=\"ml-3 text-gray-700 cursor-pointer\">\n                        {option}\n                      </label>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {currentQ.question_type === \"multi_choice\" && (\n              <div className=\"space-y-3\">\n                {currentQ.options.map((option, index) => (\n                  <div\n                    key={index}\n                    className={`p-4 rounded-lg border-2 cursor-pointer transition-all hover:border-blue-300 hover:bg-blue-50 ${\n                      currentAnswer.selected_options?.includes(option)\n                        ? \"border-blue-500 bg-blue-50\"\n                        : \"border-gray-200\"\n                    }`}\n                    onClick={() => handleMultiChoiceSelect(option)}\n                  >\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                        checked={\n                          currentAnswer.selected_options?.includes(option) ||\n                          false\n                        }\n                        onChange={() => {}}\n                      />\n                      <label className=\"ml-3 text-gray-700 cursor-pointer\">\n                        {option}\n                      </label>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {currentQ.question_type === \"theoretical\" && (\n              <div>\n                <textarea\n                  className=\"w-full h-40 p-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none resize-none\"\n                  placeholder=\"Type your detailed answer here...\"\n                  value={currentAnswer.selected_options?.[0] || \"\"}\n                  onChange={handleTextAnswerChange}\n                />\n                <div className=\"mt-2 text-sm text-gray-500\">\n                  Character count:{\" \"}\n                  {(currentAnswer.selected_options?.[0] || \"\").length}\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex justify-end\">\n            {currentQuestion < screeningQuestions.length - 1 ? (\n              <button\n                onClick={handleNext}\n                className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all\"\n              >\n                Next\n                <BiChevronRightCircle className=\"w-4 h-4\" />\n              </button>\n            ) : (\n              <button\n                onClick={() => handleSubmit(false)}\n                disabled={loading}\n                className=\"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-all\"\n              >\n                <BiCheckCircle className=\"w-4 h-4\" />\n                {loading ? \"Submitting...\" : \"Submit\"}\n              </button>\n            )}\n          </div>\n\n          {/* Warning for time */}\n          {timeLeft <= 30 && timeLeft > 0 && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-red-700 text-sm font-medium\">\n                ‚ö†Ô∏è Warning: Only {timeLeft} seconds remaining for this question!\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CareerGoal;\n"],"names":["CareerGoal","_selector$jobScreenin","_selector$jobScreenin2","_selector$jobScreenin3","_selector$jobScreenin4","_selector$jobScreenin5","_jobData$company_id","_currentAnswer$select5","_currentAnswer$select6","id","useParams","dispatch","useDispatch","selector","useSelector","state","user","navigate","useNavigate","screeningQuestions","jobScreeningQuestionData","data","screening_questions","jobData","console","log","loading","setLoading","useState","useEffect","jobScreeningQuestion","job_id","isApplied","toast","warning","currentQuestion","setCurrentQuestion","answers","setAnswers","showSuccess","setShowSuccess","timeLeft","setTimeLeft","timerActive","setTimerActive","autoSubmitted","setAutoSubmitted","length","_screeningQuestions$","map","q","question","question_type","options","selected_options","initialTime","time_limit","timerId","setInterval","prev","clearInterval","handleTimeExpired","setTimeout","_screeningQuestions","nextQuestionTime","handleSubmit","async","i","_ans$selected_options","ans","trim","error","concat","payload","_id","answer","res","applyJobApplication","unwrap","success","message","_jsx","className","children","_jsxs","BiCheckCircle","onClick","currentQ","currentAnswer","src","company_id","logo_url","alt","onError","e","currentTarget","onerror","job_title","name","job_type","LuBuilding2","industry_id","BiMapPin","work_location","city","range","salary_range","split","join","CiLock","seconds","mins","Math","floor","secs","toString","padStart","formatTime","option","index","_currentAnswer$select","_currentAnswer$select2","includes","newAnswers","handleSingleChoiceSelect","type","checked","onChange","_currentAnswer$select3","_currentAnswer$select4","currentSelections","filter","item","handleMultiChoiceSelect","placeholder","value","target","handleNext","_screeningQuestions2","BiChevronRightCircle","disabled"],"sourceRoot":""}