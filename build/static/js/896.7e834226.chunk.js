"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[896],{8896:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var l=t(9379),a=t(5043),r=t(9804),n=t(3156),i=t(2021),c=t(579);const d=e=>{let{isOpen:s,setIsOpen:t}=e;const[n,d]=(0,a.useState)(""),[o,m]=(0,a.useState)({creditCards:!0,upi:!0}),[u,x]=(0,a.useState)([{id:"axis",name:"Axis Bank",number:"**** **** **** 8395",logo:"mastercard.png"},{id:"hdfc",name:"HDFC Bank",number:"**** **** **** 6246",logo:"visa.png"}]),[p,h]=(0,a.useState)([{id:"googlepay",name:"Google Pay",logo:"goolepay.png"},{id:"phonepe",name:"PhonePe",logo:"phonepay.png"}]),[y,g]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[b,f]=(0,a.useState)({name:"",number:"",expiry:"",cvv:""}),[N,w]=(0,a.useState)({id:"",name:"",upiId:""}),A=e=>{m(s=>(0,l.A)((0,l.A)({},s),{},{[e]:!s[e]}))};return s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"fixed inset-0 glassy-card/50 backdrop-blur-sm bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,c.jsxs)("div",{className:"glassy-card rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto custom-scrollbar",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,c.jsx)("h2",{className:"text-xl font-bold",children:"Buy Course"}),(0,c.jsx)("button",{onClick:()=>t(!1),className:"glassy-text-secondary hover:glassy-text-secondary glassy-card rounded-full cursor-pointer p-1",children:(0,c.jsx)(i.j55,{className:"w-6 h-6"})})]}),(0,c.jsx)("div",{className:"flex items-start gap-4 p-4 glassy-card",children:(0,c.jsxs)("div",{className:"border border-[#918e8e34] flex p-3 gap-4 rounded-lg shadow",children:[(0,c.jsx)("div",{className:"flex-shrink-0 overflow-hidden",children:(0,c.jsx)("img",{src:"/Placeholder 4.png",alt:"Course Thumbnail",className:"object-contain"})}),(0,c.jsxs)("div",{className:"flex flex-col flex-1 justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("span",{className:"text-sm font-medium glassy-text-primary",children:"4.6"}),(0,c.jsx)("div",{className:"flex",children:[...Array(5)].map((e,s)=>(0,c.jsx)(r.kpv,{className:"w-4 h-4 text-yellow-500 fill-current"},s))}),(0,c.jsx)("span",{className:"text-sm glassy-text-secondary",children:"(1.2K)"})]}),(0,c.jsx)("h3",{className:"font-semibold text-base glassy-text-primary mb-2",children:"Certified Life Coach Training (Beginner to Advanced)"}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,c.jsx)("span",{className:"glassy-card glassy-text-primary px-2 py-1 rounded text-xs",children:"Communication"}),(0,c.jsx)("span",{className:"glassy-card glassy-text-primary px-2 py-1 rounded text-xs",children:"Negotiation"}),(0,c.jsx)("span",{className:"glassy-card glassy-text-primary px-2 py-1 rounded text-xs",children:"10+"})]}),(0,c.jsx)("div",{className:"text-blue-600  text-lg font-semibold border border-blue-500 p-2 rounded-md w-28 flex items-center justify-center",children:"\u20b91149.00"})]})]})}),(0,c.jsxs)("div",{className:"p-6 space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("button",{onClick:()=>A("creditCards"),className:"flex items-center justify-between w-full text-left font-medium mb-3",children:[(0,c.jsx)("span",{children:"Credit & Debit Cards"}),(0,c.jsx)(r.Ca6,{className:"w-4 h-4 transition-transform ".concat(o.creditCards?"rotate-45":"")})]}),o.creditCards&&(0,c.jsxs)("div",{className:"space-y-3 border border-[#918e8e34] flex flex-col p-3 gap-4 rounded-lg",children:[u.map(e=>(0,c.jsxs)("div",{className:"flex items-center justify-between mx-4",children:[(0,c.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,c.jsx)("img",{src:"/Img/".concat(e.logo),alt:e.name,className:"w-8 h-8 object-contain",onError:e=>{e.target.src="/Img/default-card.png"}}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,c.jsx)("div",{className:"text-xs glassy-text-secondary",children:e.number})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{onClick:s=>((e,s)=>{s.stopPropagation(),x(u.filter(s=>s.id!==e)),n===e&&d("")})(e.id,s),className:"glassy-text-secondary hover:text-red-500",children:(0,c.jsx)(r.id1,{className:"w-4 h-4"})}),(0,c.jsx)("input",{type:"radio",name:"payment",value:e.id,checked:n===e.id,onChange:e=>d(e.target.value),className:"w-4 h-4 text-blue-600"})]})]},e.id)),(0,c.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center justify-center gap-2 glassy-text-secondary text-sm mt-3",children:[(0,c.jsx)(r.Ca6,{className:"w-4 h-4 bg-[#715EFE1A] text-blue-600 rounded-full"}),"Add New Card"]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("button",{onClick:()=>A("upi"),className:"flex items-center justify-between w-full text-left font-medium mb-3",children:[(0,c.jsx)("span",{children:"UPI"}),(0,c.jsx)(r.Ca6,{className:"w-4 h-4 transition-transform ".concat(o.upi?"rotate-45":"")})]}),o.upi&&(0,c.jsxs)("div",{className:"space-y-3 border border-[#918e8e34] flex flex-col p-3 gap-4 rounded-lg shadow'",children:[p.map(e=>(0,c.jsxs)("div",{className:"flex items-center justify-between mx-4",children:[(0,c.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,c.jsx)("img",{src:"/Img/".concat(e.logo),alt:e.name,className:"w-8 h-8 object-contain",onError:e=>{e.target.src="/Img/default-upi.png"}}),(0,c.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{onClick:s=>((e,s)=>{s.stopPropagation(),h(p.filter(s=>s.id!==e)),n===e&&d("")})(e.id,s),className:"glassy-text-secondary hover:text-red-500",children:(0,c.jsx)(r.id1,{className:"w-4 h-4"})}),(0,c.jsx)("input",{type:"radio",name:"payment",value:e.id,checked:n===e.id,onChange:e=>d(e.target.value),className:"w-4 h-4 text-blue-600"})]})]},e.id)),(0,c.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center justify-center gap-2 glassy-text-secondary text-sm mt-3",children:[(0,c.jsx)(r.Ca6,{className:"w-4 h-4 bg-[#715EFE1A] text-blue-600 rounded-full"}),"Add New UPI"]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium mb-3",children:"More Payment Options"}),(0,c.jsxs)("button",{className:"flex items-center justify-between w-full p-3 border rounded-lg hover:glassy-card",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("img",{src:"/Img/bank.png",alt:"Net Banking",className:"w-6 h-6"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:"Net Banking"})]}),(0,c.jsx)(r.XWt,{className:"w-6 h-6 glassy-text-primary"})]})]})]}),(0,c.jsxs)("div",{className:"px-6 py-4 space-y-3",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{children:"Subtotal"}),(0,c.jsx)("span",{className:"font-medium",children:"\u20b9999.00"})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{children:"Tax & Fees"}),(0,c.jsx)("span",{className:"font-medium",children:"\u20b9150.00"})]}),(0,c.jsxs)("div",{className:"flex justify-between pt-3",children:[(0,c.jsx)("span",{className:"font-medium",children:"Subtotal"}),(0,c.jsx)("span",{className:"font-bold",children:"\u20b91149.00"})]})]}),(0,c.jsx)("div",{className:"p-6 border-t glassy-card",children:(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-bold text-lg",children:"\u20b91149.00"}),(0,c.jsx)("div",{className:"text-sm glassy-text-secondary",children:"Bill will be Send on email"})]}),(0,c.jsx)("button",{className:"bg-blue-600 glassy-text-primary px-8 py-3 rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50",disabled:!n,children:"Proceed to Pay"})]})})]})}),y&&(0,c.jsx)("div",{className:"fixed inset-0 glassy-card bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,c.jsxs)("div",{className:"glassy-card rounded-lg w-full max-w-md",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold",children:"Add New Card"}),(0,c.jsx)("button",{onClick:()=>g(!1),className:"glassy-text-secondary",children:(0,c.jsx)(i.j55,{className:"w-5 h-5"})})]}),(0,c.jsxs)("div",{className:"p-6 space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium glassy-text-primary mb-1",children:"Cardholder Name"}),(0,c.jsx)("input",{type:"text",value:b.name,onChange:e=>f((0,l.A)((0,l.A)({},b),{},{name:e.target.value})),className:"w-full p-2 border rounded",placeholder:"John Doe"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium glassy-text-primary mb-1",children:"Card Number"}),(0,c.jsx)("input",{type:"text",value:b.number,onChange:e=>f((0,l.A)((0,l.A)({},b),{},{number:e.target.value})),className:"w-full p-2 border rounded",placeholder:"1234 5678 9012 3456"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium glassy-text-primary mb-1",children:"Expiry Date"}),(0,c.jsx)("input",{type:"text",value:b.expiry,onChange:e=>f((0,l.A)((0,l.A)({},b),{},{expiry:e.target.value})),className:"w-full p-2 border rounded",placeholder:"MM/YY"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium glassy-text-primary mb-1",children:"CVV"}),(0,c.jsx)("input",{type:"text",value:b.cvv,onChange:e=>f((0,l.A)((0,l.A)({},b),{},{cvv:e.target.value})),className:"w-full p-2 border rounded",placeholder:"123"})]})]})]}),(0,c.jsxs)("div",{className:"p-4 border-t flex justify-end gap-3",children:[(0,c.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 border rounded hover:glassy-card",children:"Cancel"}),(0,c.jsx)("button",{onClick:()=>{const e="card-".concat(Date.now());x([...u,{id:e,name:b.name,number:"**** **** **** ".concat(b.number.slice(-4)),logo:"default-card.png"}]),f({name:"",number:"",expiry:"",cvv:""}),g(!1)},disabled:!b.name||!b.number||!b.expiry||!b.cvv,className:"px-4 py-2 bg-blue-600 glassy-text-primary rounded hover:bg-blue-700 disabled:opacity-50",children:"Add Card"})]})]})}),j&&(0,c.jsx)("div",{className:"fixed inset-0 glassy-card bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,c.jsxs)("div",{className:"glassy-card rounded-lg w-full max-w-md",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold",children:"Add New UPI"}),(0,c.jsx)("button",{onClick:()=>v(!1),className:"glassy-text-secondary",children:(0,c.jsx)(i.j55,{className:"w-5 h-5"})})]}),(0,c.jsxs)("div",{className:"p-6 space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium glassy-text-primary mb-1",children:"UPI App Name"}),(0,c.jsx)("input",{type:"text",value:N.name,onChange:e=>w((0,l.A)((0,l.A)({},N),{},{name:e.target.value})),className:"w-full p-2 border rounded",placeholder:"e.g. Google Pay, PhonePe"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium glassy-text-primary mb-1",children:"UPI ID"}),(0,c.jsx)("input",{type:"text",value:N.upiId,onChange:e=>w((0,l.A)((0,l.A)({},N),{},{upiId:e.target.value})),className:"w-full p-2 border rounded",placeholder:"yourname@upi"})]})]}),(0,c.jsxs)("div",{className:"p-4 border-t flex justify-end gap-3",children:[(0,c.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded hover:glassy-card",children:"Cancel"}),(0,c.jsx)("button",{onClick:()=>{const e="upi-".concat(Date.now());h([...p,{id:e,name:N.name,logo:"default-upi.png"}]),w({id:"",name:"",upiId:""}),v(!1)},disabled:!N.name||!N.upiId,className:"px-4 py-2 bg-blue-600 glassy-text-primary rounded hover:bg-blue-700 disabled:opacity-50",children:"Add UPI"})]})]})})]}):null};var o=t(9981),m=t(3003),u=t(3174),x=t(6328),p=t(5413),h=t(4272),y=t(8059);const g=e=>{if(!e||"string"!==typeof e)return null;if(console.log("url:------",e),e.includes("youtube.com")||e.includes("youtu.be"))return(e=>{if(!e)return null;let s=null;console.log(e);try{var t;if(null!==e&&void 0!==e&&e.includes("youtube.com/watch?v="))s=null===(t=e.split("v=")[1])||void 0===t?void 0:t.split("&")[0];else if(e.includes("youtu.be/")){var l;s=null===(l=e.split("youtu.be/")[1])||void 0===l?void 0:l.split("?")[0]}else{if(e.includes("youtube.com/embed/"))return e.includes("?")?e:"".concat(e,"?enablejsapi=1&origin=").concat(window.location.origin);var a;e.includes("youtube.com/v/")&&(s=null===(a=e.split("v/")[1])||void 0===a?void 0:a.split("?")[0])}if(s)return"https://www.youtube.com/embed/".concat(s,"?enablejsapi=1&origin=").concat(window.location.origin,"&rel=0&modestbranding=1")}catch(r){console.error("Error parsing YouTube URL:",r)}return null})(e);if(e.includes("vimeo.com")){var s;const t=null===(s=e.split("/").pop())||void 0===s?void 0:s.split("?")[0];if(t&&!isNaN(t))return"https://player.vimeo.com/video/".concat(t,"?title=0&byline=0&portrait=0")}return e.match(/\.(mp4|webm|ogg|mov)(\?.*)?$/i)||e.includes("/embed/")?e:null},j=()=>{var e,s,t,i,j,v,b;const{id:f}=(0,o.g)(),N=(0,m.wA)(),[w,A]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),[_,I]=(0,a.useState)(null),[S,R]=(0,a.useState)(!0),[O,E]=(0,a.useState)(null),[L,P]=(0,a.useState)(!1),[T,M]=(0,a.useState)(null===_||void 0===_||null===(e=_.modules[0])||void 0===e?void 0:e.video_url),[q]=(0,a.useState)(!1),[B]=(0,a.useState)(0),[F,Q]=(0,a.useState)(60),[D,Y]=(0,a.useState)(!1),[U,z]=(0,a.useState)({isAssessmentModalOpen:!1,assessments:[],selectedAssessment:null,isAssessmentStarted:!1,currentQuestionIndex:0,selectedOptions:[],questions:[],courseToken:null,timeLeft:60,timerActive:!1,result:null,isResultModalOpen:!1}),W=(0,a.useRef)(null),V=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=null;return U.timerActive&&U.timeLeft>0&&(e=setInterval(()=>{z(e=>e.timeLeft<=1?(X(),(0,l.A)((0,l.A)({},e),{},{timeLeft:0,timerActive:!1})):(0,l.A)((0,l.A)({},e),{},{timeLeft:e.timeLeft-1}))},1e3)),()=>{e&&clearInterval(e)}},[U.timerActive]);const H=(0,a.useCallback)(async()=>{if(!f)return E("Course ID is required"),void R(!1);try{R(!0),E(null);const e=await N((0,u.qW)({course_id:f})).unwrap();I(null===e||void 0===e?void 0:e.data)}catch(O){const s=(null===O||void 0===O?void 0:O.message)||O||"Failed to fetch course details";E(s),x.oR.error(s)}finally{R(!1)}},[N,f]);(0,a.useEffect)(()=>{H()},[H]),(0,a.useEffect)(()=>{const e=()=>{if(!window.YT&&null!==_&&void 0!==_&&_.isResumed){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.async=!0;const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(e,s),window.onYouTubeIframeAPIReady=()=>{const e=V.current;if(e&&e.src.includes("youtube.com/embed")){var s;const t=null===(s=e.src.match(/embed\/([^?]+)/))||void 0===s?void 0:s[1];if(t)try{W.current=new window.YT.Player(e,{videoId:t,events:{onReady:e=>{console.log("YouTube Player is ready")},onStateChange:e=>{A(e.data===window.YT.PlayerState.PLAYING)},onError:e=>{console.error("YouTube Player Error:",e.data),P(!0)}}})}catch(O){console.error("Error initializing YouTube Player:",O),P(!0)}}}}};!S&&null!==_&&void 0!==_&&_.isResumed&&setTimeout(e,100)},[S,_]),(0,a.useEffect)(()=>{q&&te&&(Q(60),Y(!0))},[q,B]),(0,a.useEffect)(()=>{let e=null;return D&&F>0&&(e=setInterval(()=>{Q(e=>e<=1?(Y(!1),X(),0):e-1)},1e3)),()=>{e&&clearInterval(e)}},[D,F]);const $=async e=>{if(null!==e&&void 0!==e&&e.is_paid)k(!0);else try{const s=await N((0,u.Cs)({course_id:null===e||void 0===e?void 0:e._id}));console.log(s),x.oR.success((null===s||void 0===s?void 0:s.message)||"Enrolled successfully!"),H()}catch(O){x.oR.error((null===O||void 0===O?void 0:O.message)||"Enrollment failed")}},G=()=>{P(!0),console.error("Video failed to load")};if(S)return(0,c.jsx)("div",{className:"min-h-screen glassy-card flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,c.jsx)("p",{className:"glassy-text-secondary",children:"Loading course details..."})]})});if(O)return(0,c.jsx)("div",{className:"min-h-screen glassy-card flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,c.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,c.jsx)("h2",{className:"text-2xl font-bold glassy-text-primary mb-4",children:"Error Loading Course"}),(0,c.jsx)("p",{className:"glassy-text-secondary mb-6",children:O}),(0,c.jsx)("button",{onClick:H,className:"bg-blue-600 glassy-text-primary px-6 py-2 rounded font-semibold hover:bg-blue-700 transition-colors",children:"Try Again"})]})});if(!_)return(0,c.jsx)("div",{className:"min-h-screen glassy-card flex items-center justify-center",children:(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)("p",{className:"glassy-text-secondary",children:"No course data available"})})});const J=null!==_&&void 0!==_&&_.skills&&Array.isArray(_.skills)?_.skills.map(e=>e.name||e):[],Z=T||(null===_||void 0===_||null===(s=_.modules)||void 0===s||null===(t=s[0])||void 0===t?void 0:t.video_url),K=g(Z),X=async()=>{const{currentQuestionIndex:e,questions:s,selectedOptions:t,courseToken:a}=U,r=s[e];try{await N((0,u.LA)({question:null===r||void 0===r?void 0:r.question,selected_options:t,courseToken:a})).unwrap(),e<s.length-1?z(e=>(0,l.A)((0,l.A)({},e),{},{currentQuestionIndex:e.currentQuestionIndex+1,selectedOptions:[],timeLeft:60,timerActive:!0})):se()}catch(O){x.oR.error(O||"Failed to submit answer")}},ee=async()=>{const{currentQuestionIndex:e,questions:s,selectedOptions:t,courseToken:a}=U,r=s[e];try{await N((0,u.LA)({question:null===r||void 0===r?void 0:r.question,selected_options:t,courseToken:a})).unwrap(),e<s.length-1?z(e=>(0,l.A)((0,l.A)({},e),{},{currentQuestionIndex:e.currentQuestionIndex+1,selectedOptions:[],timeLeft:60})):se()}catch(O){x.oR.error(O||"Failed to submit answer")}},se=async()=>{try{const e=await N((0,u.Si)({courseToken:U.courseToken})).unwrap();z(s=>(0,l.A)((0,l.A)({},s),{},{isAssessmentStarted:!1,isResultModalOpen:!0,result:e.data,timerActive:!1})),x.oR.success(e.message||"Assessment completed successfully!")}catch(O){x.oR.error(O||"Failed to get assessment results")}},te=U.questions[U.currentQuestionIndex]||{},le=U.questions.length||0;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"min-h-screen   px-4 md:px-8 py-6",children:[(0,c.jsxs)("nav",{className:"flex items-center gap-2 text-sm py-3",children:[(0,c.jsx)("span",{className:"glassy-text-secondary",children:"Course"}),(0,c.jsx)("span",{className:"glassy-text-secondary",children:"\u203a"}),(0,c.jsx)("span",{className:"font-medium glassy-text-secondary",children:(null===(i=_.categories)||void 0===i?void 0:i.name)||"Category"}),(0,c.jsx)("span",{className:"glassy-text-secondary",children:"\u203a"}),(0,c.jsx)("span",{className:"font-medium text-blue-600",children:_.name||"Course"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,c.jsxs)("div",{className:"lg:col-span-2",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("h1",{className:"text-xl font-bold glassy-text-primary",children:_.title||_.name}),(0,c.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(_.is_paid?"bg-zinc-900 glassy-text-primary":"bg-green-100 text-green-800"),children:_.is_paid?"Paid":"Free"})]}),!(null!==_&&void 0!==_&&_.isResumed)&&(0,c.jsx)(p.A,{className:"bg-blue-600 glassy-text-primary px-4 py-2 rounded font-semibold hover:bg-blue-700 transition-colors",onClick:()=>$(_),children:_.is_paid?"Enroll now - $".concat(_.amount):"Enroll now"})]}),(0,c.jsx)("div",{className:"relative bg-slate-800 rounded-lg overflow-hidden mb-6",children:(0,c.jsx)("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:(0,c.jsxs)("div",{className:"absolute inset-0",children:[null!==_&&void 0!==_&&_.isResumed&&K&&!L?(0,c.jsx)(c.Fragment,{children:null!==Z&&void 0!==Z&&Z.match(/\.(mp4|webm|ogg|mov)(\?.*)?$/i)?(0,c.jsxs)("video",{ref:V,width:"100%",height:"100%",controls:!0,className:"absolute inset-0 w-full h-full",onError:G,children:[(0,c.jsx)("source",{src:Z,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,c.jsx)("iframe",{ref:V,width:"100%",height:"100%",src:K,title:"Course Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,className:"absolute inset-0 w-full h-full",onError:G,onLoad:()=>P(!1)})}):(0,c.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800 to-slate-700",children:[null!==_&&void 0!==_&&_.thumbnail_url?(0,c.jsx)("img",{src:_.thumbnail_url,className:"w-full h-full object-cover",alt:"Course thumbnail",onError:e=>{e.target.src="/placeholder-thumbnail.jpg"}}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-slate-700",children:(0,c.jsxs)("div",{className:"text-center glassy-text-primary",children:[(0,c.jsx)(r.UIR,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),(0,c.jsx)("p",{className:"text-sm opacity-75",children:"Video Preview"})]})}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("button",{onClick:()=>{if(null!==_&&void 0!==_&&_.isResumed&&W.current)try{w?W.current.pauseVideo():W.current.playVideo(),A(!w)}catch(O){console.error("Error controlling video playback:",O)}else null!==_&&void 0!==_&&_.isResumed||(null!==_&&void 0!==_&&_.is_paid?k(!0):$(_))},className:"glassy-card bg-opacity-90 hover:bg-opacity-100 rounded-full p-6 transition-all shadow-lg transform hover:scale-105","aria-label":"Play video",children:(0,c.jsx)(r.UIR,{className:"w-12 h-12 glassy-text-primary ml-1"})})}),(0,c.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold glassy-text-primary mb-3",children:(null===(j=_.name)||void 0===j?void 0:j.toUpperCase())||"COURSE PREVIEW"}),!(null!==_&&void 0!==_&&_.isResumed)&&(0,c.jsx)("p",{className:"glassy-text-primary/80 text-sm",children:_.is_paid?"Enroll to watch full course":"Click to enroll and start learning"})]})]}),L&&(null===_||void 0===_?void 0:_.isResumed)&&(0,c.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center glassy-text-primary",children:[(0,c.jsx)("div",{className:"text-red-400 text-4xl mb-4",children:"\u26a0\ufe0f"}),(0,c.jsx)("p",{className:"text-lg font-medium mb-2",children:"Video Unavailable"}),(0,c.jsx)("p",{className:"text-sm opacity-75",children:"Unable to load video content"}),(0,c.jsx)("button",{onClick:()=>{P(!1),window.location.reload()},className:"mt-4 bg-blue-600 glassy-text-primary px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Retry"})]})})]})})}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-sm mb-6 glassy-card p-4 rounded-lg shadow-sm",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("img",{src:(null===_||void 0===_?void 0:_.organization_logo_url)||"/Frame 1000004906.png",alt:"Organization logo",className:"w-5 h-5 rounded-full border",onError:e=>{e.target.src="/Frame 1000004906.png"}}),(0,c.jsx)("span",{className:"glassy-text-secondary font-medium",children:(null===_||void 0===_?void 0:_.organization_name)||""})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(r.PY8,{className:"glassy-text-secondary w-5 h-5"}),(0,c.jsx)("span",{className:"font-semibold glassy-text-primary",children:(null===_||void 0===_?void 0:_.enrolledEntities)||0})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(r.JQZ,{className:"glassy-text-secondary w-5 h-5"}),(0,c.jsx)("span",{className:"font-semibold glassy-text-primary",children:(null===_||void 0===_?void 0:_.duration)||"N/A"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(r.u$_,{className:"glassy-text-secondary w-5 h-5"}),(0,c.jsx)("span",{className:"font-semibold glassy-text-primary",children:null!==_&&void 0!==_&&_.updatedAt?(0,h.Ds)(_.updatedAt,Date.now()):"Recently updated"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(r.By1,{className:"glassy-text-secondary w-5 h-5"}),(0,c.jsx)("span",{className:"font-semibold glassy-text-primary",children:(null===_||void 0===_?void 0:_.language)||"English"})]})]}),(0,c.jsxs)("div",{className:"glassy-card rounded-lg p-6 mb-4 shadow-sm",children:[J.length>0&&(0,c.jsx)("div",{className:"mb-6",children:(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:null===_||void 0===_?void 0:_.skills.map((e,s)=>(0,c.jsx)("span",{className:"glassy-card glassy-text-primary px-3 py-2 rounded-full text-sm hover:glassy-card transition-colors cursor-pointer",children:null===e||void 0===e?void 0:e.name},s))})}),(0,c.jsx)("h3",{className:"font-bold text-lg mb-3 glassy-text-primary",children:"About this course"}),(0,c.jsx)("p",{className:"glassy-text-secondary mb-4 leading-relaxed",children:_.description||"Course description not available."}),_.what_you_will_learn&&_.what_you_will_learn.length>0&&(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("h4",{className:"font-semibold mb-3 glassy-text-primary",children:"What you'll learn:"}),(0,c.jsx)("ul",{className:"space-y-2",children:_.what_you_will_learn.map((e,s)=>(0,c.jsxs)("li",{className:"flex items-start gap-3",children:[(0,c.jsx)(n.CMH,{className:"text-green-500 mt-1 flex-shrink-0",size:12}),(0,c.jsx)("span",{className:"glassy-text-secondary text-sm leading-relaxed",children:e})]},s))})]}),_.prerequisites&&_.prerequisites.length>0&&(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("h4",{className:"font-semibold mb-3 glassy-text-primary",children:"Prerequisites:"}),(0,c.jsx)("ul",{className:"space-y-2",children:_.prerequisites.map((e,s)=>(0,c.jsxs)("li",{className:"flex items-start gap-3",children:[(0,c.jsx)("span",{className:"text-blue-500 mt-1 font-bold",children:"\u2022"}),(0,c.jsx)("span",{className:"glassy-text-secondary text-sm leading-relaxed",children:e})]},s))})]}),_.target_audience&&_.target_audience.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold mb-3 glassy-text-primary",children:"Who this course is for:"}),(0,c.jsx)("ul",{className:"space-y-2",children:_.target_audience.map((e,s)=>(0,c.jsxs)("li",{className:"flex items-start gap-3",children:[(0,c.jsx)(r.PY8,{className:"text-blue-500 mt-1 flex-shrink-0",size:14}),(0,c.jsx)("span",{className:"glassy-text-secondary text-sm leading-relaxed",children:e})]},s))})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"glassy-card rounded-lg shadow-sm border",children:[(0,c.jsxs)("div",{className:"p-4 border-b glassy-card",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h3",{className:"font-bold text-sm glassy-text-secondary tracking-wide",children:"COURSE CONTENT"}),(0,c.jsx)("button",{className:"text-blue-600 hover:text-blue-700 transition-colors",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,c.jsx)("div",{className:"text-base font-semibold glassy-text-primary mt-1",children:"Course Intro"}),(0,c.jsx)("span",{className:"text-xs glassy-text-secondary",children:(null===_||void 0===_?void 0:_.duration)||"Duration not specified"})]}),(0,c.jsxs)("div",{className:"max-h-[500px] overflow-y-auto",children:[null===_||void 0===_||null===(v=_.modules)||void 0===v?void 0:v.map(e=>(0,c.jsxs)("div",{className:"p-4 cursor-pointer flex items-center justify-between border-b border-gray-100   transition-colors group ".concat(T===e.id?"  border-l-4 border-l-blue-600":""),onClick:()=>M(e.video_url),children:[(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("h4",{className:"font-medium glassy-text-primary text-sm mb-1 group-hover:text-blue-600 truncate",children:e.title}),e.content&&(0,c.jsx)("p",{className:"text-xs glassy-text-secondary mb-1 line-clamp-2",children:e.content}),e.duration&&(0,c.jsxs)("p",{className:"text-xs glassy-text-secondary",children:["Duration: ",e.duration]})]}),(0,c.jsx)("div",{className:"ml-3 flex-shrink-0",children:e.completed?(0,c.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,c.jsx)(n.CMH,{size:10,className:"glassy-text-primary"})}):(0,c.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full flex items-center justify-center group-hover:border-blue-600 transition-colors",children:(0,c.jsx)("svg",{className:"w-3 h-3 glassy-text-secondary group-hover:text-blue-600 transition-colors",fill:"currentColor",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})})]},e.id)),(!(null!==_&&void 0!==_&&_.modules)||0===_.modules.length)&&(0,c.jsxs)("div",{className:"p-8 text-center glassy-text-secondary",children:[(0,c.jsx)(r.JQZ,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,c.jsx)("p",{className:"text-sm",children:"No course modules available"})]})]})]}),(null===_||void 0===_?void 0:_.is_assessment)&&(null===_||void 0===_?void 0:_.assessment_setup)&&(null===_||void 0===_?void 0:_.isResumed)&&(0,c.jsx)("div",{className:"flex justify-end py-2",children:(0,c.jsx)(p.A,{className:"",variant:"primary",onClick:()=>(async()=>{try{R(!0);const e=await N((0,u.BO)({course_id:f})).unwrap();if(!Array.isArray(e.data))throw new Error("Unexpected response from server");z(s=>(0,l.A)((0,l.A)({},s),{},{isAssessmentModalOpen:!0,assessments:e.data}))}catch(e){x.oR.error(e.message||"Failed to fetch assessments")}finally{R(!1)}})(),children:"Start Assessment"})})]})]})]}),(0,c.jsx)(d,{isOpen:C,setIsOpen:k,courseData:_}),(0,c.jsx)(y.A,{isOpen:U.isAssessmentModalOpen,title:"Select Assessment",onClose:()=>z(e=>(0,l.A)((0,l.A)({},e),{},{isAssessmentModalOpen:!1})),hideFooter:!0,isActionButton:!1,children:(0,c.jsx)("div",{className:"space-y-4",children:U.assessments.map(e=>{var s;return(0,c.jsxs)("div",{className:"border rounded-lg p-4 hover:glassy-card transition cursor-pointer",onClick:()=>(async e=>{try{const s=await N((0,u.rL)({assessment_id:e._id})).unwrap();null!==s&&void 0!==s&&s.data&&z(t=>(0,l.A)((0,l.A)({},t),{},{isAssessmentModalOpen:!1,isAssessmentStarted:!0,selectedAssessment:e,questions:s.data.questions||[],courseToken:s.data.courseToken,currentQuestionIndex:0,selectedOptions:[],timeLeft:60,timerActive:!0}))}catch(O){x.oR.error(O||"Failed to start assessment")}})(e),children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,c.jsx)("p",{className:"glassy-text-secondary text-sm",children:e.description}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,c.jsxs)("span",{className:"text-xs glassy-card text-blue-800 px-2 py-1 rounded",children:["Level: ",null===(s=e.level_id)||void 0===s?void 0:s.name]}),(0,c.jsxs)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:["Questions: ",e.no_of_questions]}),(0,c.jsxs)("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Time: ",e.time_limit," mins"]}),(0,c.jsxs)("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Max Attempt: ",e.max_attempts]})]}),(0,c.jsx)("p",{className:"cursor-pointer text-blue-500 text-base font-semibold text-end\nAdd New Assessment",children:"Click here to start assessment"})]},e._id)})})}),(0,c.jsx)(y.A,{isOpen:U.isAssessmentStarted,onClose:()=>z(e=>(0,l.A)((0,l.A)({},e),{},{isAssessmentStarted:!1})),title:"Assessment (Question ".concat(U.currentQuestionIndex+1," of ").concat(le,")"),hideFooter:!0,handleSubmit:(U.currentQuestionIndex,ee),buttonLabel:U.currentQuestionIndex===le-1?"Submit Assessment":"Next Question",submitButtonDisabled:0===U.selectedOptions.length,isActionButton:!0,children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,c.jsxs)("div",{className:"relative w-16 h-16",children:[(0,c.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,c.jsx)("path",{className:"glassy-text-secondary",strokeWidth:"4",fill:"none",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,c.jsx)("path",{className:"text-blue-500",strokeWidth:"4",strokeDasharray:"".concat((U.currentQuestionIndex+1)/le*100,", 100"),fill:"none",strokeLinecap:"round",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,c.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold glassy-text-primary",children:[U.currentQuestionIndex+1,"/",le]})]}),(0,c.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Progress"})]}),(0,c.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,c.jsxs)("div",{className:"relative w-16 h-16",children:[(0,c.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,c.jsx)("path",{className:"glassy-text-secondary",strokeWidth:"4",fill:"none",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,c.jsx)("path",{className:"".concat(U.timeLeft<=10?"text-red-500":U.timeLeft<=30?"text-orange-400":"text-green-500"),strokeWidth:"4",strokeDasharray:"".concat(U.timeLeft/60*100,", 100"),fill:"none",strokeLinecap:"round",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,c.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold glassy-text-primary",children:[U.timeLeft,"s"]})]}),(0,c.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Timer"})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold glassy-text-primary",children:null===te||void 0===te?void 0:te.question}),(0,c.jsx)("p",{className:"text-sm glassy-text-secondary italic",children:"multi_choice"===(null===te||void 0===te?void 0:te.question_type)?"Select all that apply":"Select one option"}),(0,c.jsx)("div",{className:"space-y-3",children:null===te||void 0===te||null===(b=te.options)||void 0===b?void 0:b.map((e,s)=>{const t=U.selectedOptions.includes(e);return(0,c.jsx)("div",{className:"p-4 border rounded-xl cursor-pointer transition duration-300 ease-in-out \n                      ".concat(t?"border-blue-500 glassy-card shadow-sm":"border-gray-200 hover:glassy-card"),onClick:()=>(e=>{const{questions:s,currentQuestionIndex:t}=U,a=s[t];"multi_choice"===(null===a||void 0===a?void 0:a.question_type)?z(s=>(0,l.A)((0,l.A)({},s),{},{selectedOptions:s.selectedOptions.includes(e)?s.selectedOptions.filter(s=>s!==e):[...s.selectedOptions,e]})):z(s=>(0,l.A)((0,l.A)({},s),{},{selectedOptions:[e]}))})(e),children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("input",{type:"multi_choice"===te.question_type?"checkbox":"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500",checked:t,readOnly:!0}),(0,c.jsxs)("label",{className:"ml-3 block glassy-text-secondary text-sm font-medium",children:[String.fromCharCode(65+s),". ",e]})]})},s)})})]}),U.timeLeft<=10&&U.timeLeft>0&&(0,c.jsxs)("div",{className:"bg-red-100 border border-red-300 text-red-700 p-3 rounded-lg text-sm font-medium",children:["\u26a0\ufe0f Hurry up! Only ",U.timeLeft," seconds left!"]})]})}),(0,c.jsx)(y.A,{isOpen:U.isResultModalOpen,title:"Assessment Results",onClose:()=>z(e=>(0,l.A)((0,l.A)({},e),{},{isResultModalOpen:!1})),hideFooter:!0,isActionButton:!1,children:U.result&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"mx-auto w-24 h-24 rounded-full flex items-center justify-center ".concat(U.result.passed?"bg-green-100":"bg-red-100"),children:U.result.passed?(0,c.jsx)("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,c.jsx)("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,c.jsx)("h3",{className:"text-xl font-bold mt-4 ".concat(U.result.passed?"text-green-600":"text-red-600"),children:U.result.passed?"Congratulations!":"Assessment Failed"}),(0,c.jsx)("p",{className:"glassy-text-secondary mt-2",children:U.result.passed?"You have successfully passed the assessment.":"You did not meet the passing criteria."})]}),(0,c.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:(0,c.jsxs)("div",{className:"glassy-card p-4 rounded-lg",children:[(0,c.jsx)("p",{className:"text-sm glassy-text-secondary",children:"Score"}),(0,c.jsxs)("p",{className:"text-2xl font-bold",children:[U.result.total_score," / ",U.result.total_questions]})]})}),(0,c.jsx)("div",{className:"mt-8 space-y-6",children:U.result.answers.map((e,s)=>(0,c.jsxs)("div",{className:"p-4 border rounded-lg shadow-sm glassy-card",children:[(0,c.jsxs)("p",{className:"font-semibold glassy-text-primary",children:["Q",s+1,": ",e.question]}),(0,c.jsx)("ul",{className:"mt-2 space-y-1",children:e.options.map((s,t)=>{const l=e.selected_options.includes(s);return(0,c.jsx)("li",{className:"px-3 py-1 rounded ".concat(l?e.is_correct?"bg-green-100 text-green-700":"bg-red-100 text-red-700":"glassy-card glassy-text-secondary"),children:s},t)})}),(0,c.jsx)("p",{className:"mt-2 text-sm font-medium ".concat(e.is_correct?"text-green-600":"text-red-600"),children:e.is_correct?"Correct":"Incorrect"})]},s))}),(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)(p.A,{variant:"primary",onClick:()=>z(e=>(0,l.A)((0,l.A)({},e),{},{isResultModalOpen:!1})),className:"w-full",children:"Close"})})]})})]})}}}]);
//# sourceMappingURL=896.7e834226.chunk.js.map