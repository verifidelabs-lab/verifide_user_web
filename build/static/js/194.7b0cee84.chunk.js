"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[194],{138:(e,s,l)=>{l.d(s,{A:()=>d});var t=l(5043),i=l(5200),a=l(9804),n=l(423),o=l(579);const d=e=>{let{onFileUpload:s,allowedTypes:l=["image/png","image/jpeg","image/jpg","application/pdf"],maxSize:d=5,isUploading:r,file:c,setFile:u,inputId:v}=e;const[m,x]=(0,t.useState)(""),[p,h]=(0,t.useState)(!1),[f,g]=(0,t.useState)(null),y=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(c instanceof File){const e=URL.createObjectURL(c);return g(e),()=>URL.revokeObjectURL(e)}g("string"===typeof c?c:null)},[c]);const b=e=>{if(x(""),!e)return;if(!l.includes(e.type))return void x("Invalid file type. Allowed: ".concat(l.join(", ")));const t=1024*d*1024;e.size>t?x("File too large. Max: ".concat(d,"MB")):(u(e),s&&s(e))},j=(0,t.useCallback)(e=>{e.preventDefault(),h(!0)},[]),N=(0,t.useCallback)(()=>h(!1),[]),w=(0,t.useCallback)(e=>{e.preventDefault(),h(!1);const s=e.dataTransfer.files[0];b(s)},[]),k=(0,t.useCallback)(()=>{u(""),x(""),g(null),y.current&&(y.current.value=""),s&&s(null)},[u,s]);return(0,o.jsxs)("div",{className:"w-full mx-auto",children:[(0,o.jsxs)("div",{className:"\n      relative border border-dashed rounded-xl p-5 text-center transition-all duration-300 cursor-pointer\n      ".concat(p?"border-blue-400 bg-[#F6F8FA] scale-105":c?"border-green-300 glassy-card":m?"border-red-300 bg-red-50":"border-gray-300 bg-card  ","\n      ").concat(r?"pointer-events-none opacity-70":"","\n    "),onDragOver:j,onDragLeave:N,onDrop:w,onClick:()=>!c&&y.current.click(),children:[(0,o.jsx)("input",{type:"file",id:v,ref:y,accept:l.join(","),onChange:e=>{const s=e.target.files[0];b(s)},className:"hidden",disabled:r}),r?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,o.jsx)("p",{className:"glassy-text-primary font-medium",children:"Uploading..."})]}):f?(0,o.jsxs)("div",{className:"relative",children:[(_=f,[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"].some(e=>_.toLowerCase().endsWith(e))?(0,o.jsx)("img",{src:f,alt:"preview",className:"w-full md:max-w-full md:min-h-80 min-h-80 max-h-80 object-contain rounded-lg"}):(0,o.jsx)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(f),"&embedded=true"),title:"file-preview",className:"w-full h-80 border rounded glassy-card"})),(0,o.jsx)("button",{onClick:k,className:"absolute -top-2 -right-2 p-1 glassy-card rounded-full shadow-md hover:bg-red-100 transition",children:(0,o.jsx)(n.WQq,{className:"h-4 w-4 text-red-500"})})]}):(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("div",{className:"rounded-full p-4 mx-auto w-16 h-16 flex items-center justify-center ".concat(p?"glassy-card":"bg-card"),children:(0,o.jsx)(a.tAF,{className:"h-8 w-8 ".concat(p?"text-blue-500":"text-secondary")})}),(0,o.jsx)("p",{className:"glassy-text-primary font-semibold ".concat(p?"text-blue-600":""),children:p?"Drop your file here":"Upload your file"}),(0,o.jsx)("p",{className:"glassy-text-secondary",children:"Drag and drop or click to browse"}),(0,o.jsxs)("div",{className:"glassy-card rounded-lg p-3 border border-gray-200 text-xs glassy-text-secondary",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Supported:"})," ",l.map(e=>e.split("/")[1].toUpperCase()).join(", ")]}),(0,o.jsxs)("p",{className:"mt-1",children:[(0,o.jsx)("strong",{children:"Max size:"})," ",d,"MB"]})]})]})]}),m&&(0,o.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[(0,o.jsx)(i.y3G,{className:"h-5 w-5 text-red-500"}),(0,o.jsx)("p",{className:"text-red-700 text-sm",children:m})]})]});var _}},5194:(e,s,l)=>{l.r(s),l.d(s,{default:()=>S});var t=l(9379),i=l(5043),a=l(184),n=l(579);const o=e=>{let{title:s,desc:l}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"glassy-text-primary text-2xl font-semibold",children:s}),(0,n.jsx)("p",{className:"glassy-text-secondary text-base font-normal",children:l})]})},d=e=>{let{title:s,desc:l,icon:t,bg:i}=e;return(0,n.jsx)("div",{className:"mb-4 border border-[var(--border-color)] bg-[var(--bg-card)] p-3 rounded-md transition-all duration-300 hover:shadow-sm",children:(0,n.jsxs)("div",{className:"flex items-center mb-1",children:[t&&(0,n.jsx)("span",{className:"mr-2 w-10 h-10 rounded-md flex justify-center items-center ".concat(i),children:t}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex justify-start items-center",children:(0,n.jsx)("span",{className:"glassy-text-primary font-medium text-lg",children:s})}),(0,n.jsx)("span",{className:"glassy-text-secondary font-normal text-xs",children:l})]})]})})};var r=l(9804),c=l(2639),u=l(3003),v=l(3574),m=l(6328),x=l(423);const p=e=>{let{item:s,getIcon:l,statusInfo:t,onClick:i}=e;return(0,n.jsxs)("div",{className:"flex items-start sm:items-center justify-between p-4 glassy-card border border-[var(--border-color)] shadow-md rounded-lg hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>{"Verified"===t.text&&["email","phone"].includes(null===s||void 0===s?void 0:s.type)?m.oR.info("Already verified!"):i(s)},children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"p-2 rounded-lg bg-[var(--bg-card-light)] flex justify-center items-center",children:l(s.type)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium glassy-text-primary capitalize",children:s.name}),(0,n.jsxs)("p",{className:"text-sm text-[var(--text-secondary)]",children:[s.count," Item",1!==s.count?"s":""]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-end justify-center gap-1 mt-2 sm:mt-0",children:[(0,n.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat(t.color," "),children:t.text}),(0,n.jsx)(x.OQo,{className:"text-lg text-[var(--text-primary)]"})]})]})},h=i.memo(p),f=()=>(0,n.jsxs)("div",{className:"animate-pulse flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 glassy-card border border-[var(--border-color)] rounded-lg shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[(0,n.jsx)("div",{className:"bg-[var(--bg-card)] h-10 w-10 rounded-lg"}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("div",{className:"h-4 bg-[var(--bg-card-light)] rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-[var(--bg-card-light)] rounded w-1/2"})]})]}),(0,n.jsx)("div",{className:"h-6 w-20 bg-[var(--bg-card-light)] rounded-full mt-4 sm:mt-0"})]});var g=l(8059),y=l(8214),b=l(7087),j=l(9981),N=l(3537),w=l(138),k=l(4272),_=l(152),A=l(5937),C=l(5413),R=l(1008);const S=e=>{var s,l,x,p,S,F,I,q,O,T,E,D,L,U,B,M,P,V;let{headline:z}=e;const Q=(0,u.wA)(),Y=(0,j.Zp)(),G=(0,u.d4)(e=>e.verification),W=(0,u.d4)(e=>e.global),{verificationTabCountData:{data:J}}=G||{},[K,H]=(0,i.useState)([]),[Z,$]=(0,i.useState)([]),[X,ee]=(0,i.useState)("categories"),[se,le]=(0,i.useState)(!1),[te,ie]=(0,i.useState)(!1),[ae,ne]=(0,i.useState)(Array(6).fill("")),[oe,de]=(0,i.useState)({isOpen:!1,data:{},tab:"",type:""}),[re,ce]=(0,i.useState)([]),[ue,ve]=(0,i.useState)([]),[me,xe]=(0,j.ok)(),{formData:pe,handleChange:he,errors:fe,setErrors:ge,resetForm:ye,setFormData:be}=(0,b.A)({email:"",otp:"",phone:"",skills:[],id_number:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},token:""}),[je,Ne]=(0,i.useState)(!1),[we,ke]=(0,i.useState)(0),[_e,Ae]=(0,i.useState)([]),[Ce,Re]=(0,i.useState)(null),[Se,Fe]=(0,i.useState)(!1),[Ie,qe]=(0,i.useState)(60),[Oe,Te]=(0,i.useState)(!1),[Ee,De]=(0,i.useState)(""),[Le,Ue]=(0,i.useState)(""),[Be,Me]=(0,i.useState)({}),Pe=(0,k.Kj)((null===W||void 0===W||null===(s=W.countriesData)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.data)||[]),[Ve,ze]=(0,i.useState)(!1),Qe=(0,i.useRef)([]),[Ye,Ge]=(0,i.useState)(!0),[We,Je]=(0,i.useState)(!1),[Ke,He]=(0,i.useState)(null),Ze=()=>{Q((0,v.gn)())},$e=async()=>{le(!0);let e={tab:X};try{var s;const l=await Q((0,v.Jo)(e)).unwrap();H((null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.verifications)||[]),le(!1)}catch(l){m.oR.error(l),le(!1)}};(0,i.useEffect)(()=>{Ze(),$e(),Q((0,_.Xr)()),(async()=>{try{const e=await Q((0,v.rP)()).unwrap();$(null===e||void 0===e?void 0:e.data)}catch(e){m.oR.error(e||" Failed to fetch data !")}})()},[X]),(0,i.useEffect)(()=>{const e=me.get("tab");e&&ee(e)},[]),(0,i.useEffect)(()=>{je&&ds&&(qe(60),Te(!0))},[je,we]),(0,i.useEffect)(()=>{let e=null;return Oe&&Ie>0&&(e=setInterval(()=>{qe(e=>e<=1?(Te(!1),Xe(),0):e-1)},1e3)),()=>{e&&clearInterval(e)}},[Oe,Ie]);const Xe=()=>{we===rs-1?cs():os()},es=e=>{ee(e),xe({tab:e})},ss=e=>{switch(e.toLowerCase()){case"verified":return{text:"Verified",color:"bg-green-100 text-green-600"};case"unverified":return{text:"Unverified",color:"glassy-card glassy-text-secondary"};case"pending":return{text:"Pending",color:"bg-orange-100 text-orange-600"};case"under review":return{text:"Under Review",color:"bg-yellow-100 text-yellow-600"};case"partial verified":return{text:"Partial verified",color:"glassy-card text-blue-600"};case"required":return{text:"Required",color:"bg-red-100 text-red-600"};default:return{text:e,color:"glassy-card glassy-text-secondary"}}},ls=e=>{switch(e.toLowerCase()){case"email":return(0,n.jsx)(r.vJA,{className:"w-6 h-6 text-blue-500"});case"phone":return(0,n.jsx)(r.Elw,{className:"w-6 h-6 text-blue-500"});case"education":return(0,n.jsx)(a.YNd,{className:"w-6 h-6 text-blue-500"});case"skills":return(0,n.jsx)(r.kpv,{className:"w-6 h-6 text-blue-500"});case"identity":return(0,n.jsx)(r.PY8,{className:"w-6 h-6 text-blue-500"});default:return(0,n.jsx)(r.qGT,{className:"w-6 h-6 text-blue-500"})}},ts=[{name:"Categories",key:"categories"},{name:"Needs Verification",count:(null===J||void 0===J||null===(x=J.data)||void 0===x?void 0:x.unverified)||0,key:"needVerification"},{name:"Pending Requests",count:(null===J||void 0===J||null===(p=J.data)||void 0===p?void 0:p.pending)||0,key:"pendingRequest"},{name:"Verified",count:(null===J||void 0===J||null===(S=J.data)||void 0===S?void 0:S.verified)||0,key:"verified"}],is=async e=>{const s=X,l=null===e||void 0===e?void 0:e.type;if(console.log(s,l),"education"===(null===e||void 0===e?void 0:e.type)||"experience"===(null===e||void 0===e?void 0:e.type)||"certificate"===(null===e||void 0===e?void 0:e.type)||"project"===(null===e||void 0===e?void 0:e.type))Y("/user/verification-category?tab=".concat(s,"&type=").concat(l));else{var i,a,n,o,d,r;const N=await Q((0,v.CS)({moduleType:l,tab:X})).unwrap();if("identity"===l&&"requested"===(null===N||void 0===N||null===(i=N.data)||void 0===i||null===(a=i.identity)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.status))m.oR.info("Your document already sent for verification");else if("identity"===l&&"approved"===(null===N||void 0===N||null===(o=N.data)||void 0===o||null===(d=o.identity)||void 0===d||null===(r=d[0])||void 0===r?void 0:r.status)){var c,u,x,p,h,f,g;be(e=>{var s,l;return(0,t.A)((0,t.A)({},e),{},{id_number:null===N||void 0===N||null===(s=N.data)||void 0===s||null===(l=s.identity[0])||void 0===l?void 0:l.id_number})}),De(null===N||void 0===N||null===(c=N.data)||void 0===c||null===(u=c.identity[0])||void 0===u?void 0:u.front_side_file),Ue(null===N||void 0===N||null===(x=N.data)||void 0===x||null===(p=x.identity[0])||void 0===p?void 0:p.back_side_file),de({isOpen:!0,tab:s,data:e,type:l}),Ge(!Array.isArray(null===N||void 0===N||null===(h=N.data)||void 0===h?void 0:h.identity)||null===N||void 0===N||null===(f=N.data)||void 0===f||null===(g=f.identity[0])||void 0===g||!g.id_number)}else if("verified"===s&&"skills"===l){var y;Je(!0),He(null===N||void 0===N||null===(y=N.data)||void 0===y?void 0:y.skills)}else{var b,j;const t=null===N||void 0===N||null===(b=N.data)||void 0===b||null===(j=b.skills)||void 0===j?void 0:j.filter(e=>!(null!==e&&void 0!==e&&e.is_verified)).map(e=>({value:null===e||void 0===e?void 0:e.skill_id,label:null===e||void 0===e?void 0:e.name}));ce(t),de({isOpen:!0,tab:s,data:e,type:l}),Me(null===N||void 0===N?void 0:N.data)}}},as=()=>{de({isOpen:!1,data:{},type:""}),ye(),De(""),Ue(""),ge({}),ze(!1),ne(Array(6).fill("")),ze(!1)},ns=async()=>{var e;const s={};if(null!==pe&&void 0!==pe&&pe.phone?/^\d{10}$/.test(pe.phone)||(s.phone="Enter a valid 10-digit phone number"):s.phone="Phone number is required",null!==pe&&void 0!==pe&&null!==(e=pe.country_code)&&void 0!==e&&e.name||(s.country_code="Country code is required"),Object.keys(s).length>0)return void ge(s);let l={phone_number:null===pe||void 0===pe?void 0:pe.phone,country_code:null===pe||void 0===pe?void 0:pe.country_code};try{var i;const e=await Q((0,v.Uz)(l)).unwrap();m.oR.success(null===e||void 0===e?void 0:e.message),null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.token&&(ze(!0),be(s=>{var l;return(0,t.A)((0,t.A)({},s),{},{token:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.token})}))}catch(a){m.oR.error(a)}},os=async()=>{try{var e,s;const l=null===Ce||void 0===Ce||null===(e=Ce.questions)||void 0===e?void 0:e[we],t={question:null===l||void 0===l?void 0:l.question,selected_options:_e,skillToken:null===Ce||void 0===Ce?void 0:Ce.skillToken};await Q((0,v.Jx)(t)).unwrap(),we<((null===Ce||void 0===Ce||null===(s=Ce.questions)||void 0===s?void 0:s.length)||0)-1?(ke(we+1),Ae([])):(m.oR.success("Assessment completed successfully!"),Ne(!1))}catch(l){m.oR.error(l||"Failed to submit answer")}},ds=(null===Ce||void 0===Ce||null===(F=Ce.questions)||void 0===F?void 0:F[we])||{},rs=(null===Ce||void 0===Ce||null===(I=Ce.questions)||void 0===I?void 0:I.length)||0,cs=async()=>{const e={question:null===ds||void 0===ds?void 0:ds.question,selected_options:_e,skillToken:null===Ce||void 0===Ce?void 0:Ce.skillToken},s=await Q((0,v.Jx)(e)).unwrap();if(m.oR.info(null===s||void 0===s?void 0:s.message),s){const e=await Q((0,v.Si)({skillToken:null===Ce||void 0===Ce?void 0:Ce.skillToken})).unwrap();m.oR.info(null===e||void 0===e?void 0:e.message),de({data:null===e||void 0===e?void 0:e.data}),Q((0,A.E$)()),Fe(!0),Ne(!1),Re(null),qe(0)}},us=async(e,s)=>{if(!s)return void m.oR.error("Please select a file");if(s.size>5242880)return void m.oR.error("File size must be less than 5MB");const l="application/pdf";if(["image/jpeg","image/jpg","image/png",l].includes(s.type)){"FRONT"===e?le(!0):ie(!0);try{var t;let v;var i,a,n,o;if(v=s.type===l?await(0,k.It)(s,"IDENTITY_VERIFICATION_MEDIA"):await(0,k.pv)(s,"IDENTITY_VERIFICATION_MEDIA"),"FRONT"===e)De((null===(i=v)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.fileURL)||(null===(n=v)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.imageURL)),ge({});else if("BACK"===e){var d,r,c,u;Ue((null===(d=v)||void 0===d||null===(r=d.data)||void 0===r?void 0:r.fileURL)||(null===(c=v)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.imageURL)),ge({})}m.oR.success((null===(t=v)||void 0===t?void 0:t.message)||"File uploaded successfully")}catch(v){console.error("File upload error:",v),m.oR.error((null===v||void 0===v?void 0:v.message)||"Failed to upload file")}finally{le(!1),ie(!1)}}else m.oR.error("Only image files (JPEG, PNG) or PDF are allowed")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"p-4   space-y-3",children:[(0,n.jsxs)("nav",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)("span",{className:"glassy-text-secondary",children:"Home"}),(0,n.jsx)("span",{className:"glassy-text-secondary",children:"\u203a"}),(0,n.jsx)("span",{className:"font-medium text-blue-600",children:"All Category"})]}),(0,n.jsxs)("div",{className:"glassy-card border border-[var(--border-color)] p-4 rounded-md transition-all duration-300",children:[(0,n.jsx)(o,{title:"Verification Center",desc:"Manage your Learning Activities for: ".concat(z||"")}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-3 mt-3",children:[(0,n.jsx)(d,{title:"".concat((null===Z||void 0===Z?void 0:Z.verification_percentage)||"N/A"," %"),desc:"Overall Verification",icon:(0,n.jsx)(r.qGT,{className:"glassy-text-primary"}),progress:45,bg:"bg-[#BCCFFA57]/30"}),(0,n.jsx)(d,{title:"".concat((null===Z||void 0===Z?void 0:Z.verification_rating)||"0"," Star"),desc:"Average Rating",icon:(0,n.jsx)(a.wei,{className:"glassy-text-primary"}),progress:45,bg:"bg-[#FEA6131A]/10"}),(0,n.jsx)(d,{title:"".concat((null===Z||void 0===Z?void 0:Z.verification_strength)||"N/A"),desc:"Verification Strength",icon:(0,n.jsx)(c.hZ_,{className:"glassy-text-primary"}),progress:45,bg:"bg-[#00BA001A]/30"})]})]}),(0,n.jsx)("div",{className:"md:hidden block",children:(0,n.jsx)("div",{className:"flex justify-evenly gap-4 overflow-hidden overflow-x-scroll w-full",children:ts.map(e=>(0,n.jsxs)("button",{onClick:()=>es(e.key),className:"relative flex items-center gap-2 text-xs font-medium transition-colors ".concat(X===e.key?"glassy-text-primary border-b border-blue-600":"glassy-text-secondary hover:glassy-text-primary"),children:[e.name,void 0!==e.count&&(0,n.jsx)("span",{className:"w-5 h-5 flex items-center justify-center rounded-full border border-[var(--border-color)] text-xs",children:e.count}),X===e.label&&(0,n.jsx)("span",{className:"absolute left-0 -bottom-[1px] w-full h-[2px] glassy-card rounded"})]},e.label))})}),(0,n.jsxs)("div",{className:"py-2 md:py-4 glassy-card border border-[var(--border-color)] p-4 rounded-md transition-all duration-300",children:[(0,n.jsxs)("div",{className:"md:block hidden",children:[(0,n.jsx)("h2",{className:"glassy-text-primary text-[22px] font-bold",children:"Verification Categories"}),(0,n.jsx)("div",{className:"flex justify-between md:w-fit bg-[var(--bg-card)] rounded-[10px] p-2 w-full flex-wrap",children:ts.map(e=>(0,n.jsxs)("button",{className:"px-4 py-2 text-sm rounded-md transition-all ".concat(X===e.key?"glassy-card text-[#2563EB] border-b-2 border-[#2563EB] font-semibold shadow-sm":"glassy-text-primary font-medium"),onClick:()=>es(e.key),children:[e.name,null!==e.count&&e.count>0&&(0,n.jsx)("span",{className:"ml-1.5 ".concat(X===e.key?"glassy-text-secondary":"glassy-text-secondary/60"),children:e.count})]},e.name))})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-5",children:se?Array.from({length:(null===K||void 0===K?void 0:K.length)||6}).map((e,s)=>(0,n.jsx)(f,{},s)):K&&K.length>0?K.map((e,s)=>(0,n.jsx)(h,{item:e,getIcon:ls,statusInfo:ss(e.status),onClick:is},s)):(0,n.jsx)("div",{className:"col-span-full text-center glassy-text-secondary",children:"No Data Found"})})]})]}),(0,n.jsxs)(g.A,{isOpen:null===oe||void 0===oe?void 0:oe.isOpen,title:oe.type,onClose:()=>{de({isOpen:!1}),ye(),ve([]),ze(!1)},handleSubmit:async()=>{let e={};if("identity"===oe.type){if(null!==pe&&void 0!==pe&&pe.id_number||(e.id_number="ID number is required"),Ee||(e.frontImage="Front image is required"),Le||(e.backImage="Back image is required"),Object.keys(e).length>0)return void ge(e);try{var s,l;let e={id_number:null===pe||void 0===pe?void 0:pe.id_number,front_side_file:Ee,back_side_file:Le};var t;if("rejected"===(null===Be||void 0===Be||null===(s=Be.identity[0])||void 0===s?void 0:s.status))e._id=null===Be||void 0===Be||null===(t=Be.identity[0])||void 0===t?void 0:t._id;const a="rejected"===(null===Be||void 0===Be||null===(l=Be.identity[0])||void 0===l?void 0:l.status)?v.Gj:v.nY,n=await Q(a(e)).unwrap();if(null!==n&&void 0!==n&&n.data){var i;let e={document_id:null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i._id,type:"identity-verifications",attach_file:[]};Q((0,v.zT)(e)),m.oR.success(null===n||void 0===n?void 0:n.message),as(),Ze(),$e()}}catch(a){m.oR.error(a||"An error accrued!")}}else if("phone"===(null===oe||void 0===oe?void 0:oe.type))if(Ve){if(Ve){const e=ae.join("");if(6!==e.length)return void m.oR.error("Please enter a 6-digit OTP");let s={token:null===pe||void 0===pe?void 0:pe.token,otp:e};try{const e=await Q((0,v.MN)(s)).unwrap();m.oR.success(null===e||void 0===e?void 0:e.message),as(),$e()}catch(a){m.oR.error(a)}}}else ns();else{let e={skills:null===pe||void 0===pe?void 0:pe.skills};try{const s=await Q((0,v.Fg)(e)).unwrap();ve((null===s||void 0===s?void 0:s.data)||[]),0===(null===s||void 0===s?void 0:s.data.length)&&m.oR.info("No Assessment Available for this skills !")}catch(a){m.oR.error(a)}}},isActionButton:!(0!==ue.length||!Ye),children:[(0,n.jsx)("div",{className:"",children:"skills"===oe.type?(0,n.jsx)("div",{className:" z-auto",children:(0,n.jsx)(N.A,{options:re,className:"w-full h-10",onChange:e=>{be(s=>(0,t.A)((0,t.A)({},s),{},{skills:null===e||void 0===e?void 0:e.map(e=>null===e||void 0===e?void 0:e.value)}))},selectedOption:null===re||void 0===re?void 0:re.find(e=>e.value===(null===pe||void 0===pe?void 0:pe.skills)),isMulti:!0})}):"identity"===(null===oe||void 0===oe?void 0:oe.type)?(0,n.jsxs)("div",{className:"space-y-2",children:[Array.isArray(null===Be||void 0===Be?void 0:Be.identity)&&"rejected"===(null===Be||void 0===Be||null===(q=Be.identity[0])||void 0===q?void 0:q.status)&&(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"capitalize",children:[(0,n.jsx)("span",{className:"font-semibold text-sm text-amber-900 pr-2",children:"Reject Reason:-"}),Array.isArray(null===Be||void 0===Be?void 0:Be.identity)&&(null===Be||void 0===Be||null===(O=Be.identity[0])||void 0===O?void 0:O.rejection_reason)]})}),(0,n.jsx)(y.A,{label:"Identity No",placeholder:"eg:  acceptable IDs (Aadhaar, Driving License, etc.) ",value:null===pe||void 0===pe?void 0:pe.id_number,onChange:e=>he("id_number",e.target.value),name:"id_number",error:null===fe||void 0===fe?void 0:fe.id_number,className:"h-10 w-full",required:!0}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("label",{className:"text-base text-[#282828] font-medium mb-2",children:"Front Image"}),(0,n.jsx)(w.A,{inputId:"front-upload",onFileUpload:e=>us("FRONT",e),file:Ee,setFile:De,isUploading:se}),(0,n.jsx)("p",{className:"text-red-500 text-xs",children:null===fe||void 0===fe?void 0:fe.frontImage})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("label",{className:"text-base text-[#282828] font-medium mb-2",children:"Back Image"}),(0,n.jsx)(w.A,{inputId:"back-upload",onFileUpload:e=>us("BACK",e),file:Le,setFile:Ue,isUploading:te}),(0,n.jsx)("p",{className:"text-red-500 text-xs",children:null===fe||void 0===fe?void 0:fe.backImage})]})]}):"phone"===(null===oe||void 0===oe?void 0:oe.type)?(0,n.jsx)("div",{children:Ve?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("labe",{className:"text-base text-[#282828] font-medium  flex items-center gap-1 ",children:"Enter 6 digit otp"}),(0,n.jsx)("div",{className:"flex justify-center items-center gap-2 mx-auto",children:Array.from({length:6}).map((e,s)=>(0,n.jsx)("input",{ref:e=>Qe.current[s]=e,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:ae[s],onChange:e=>((e,s)=>{if(s.length>1&&(s=s.slice(-1)),s&&isNaN(s))return;const l=[...ae];var t;l[e]=s,ne(l),s&&e<5&&(null===(t=Qe.current[e+1])||void 0===t||t.focus())})(s,e.target.value),onKeyDown:e=>((e,s)=>{var l;"Backspace"===s.key&&!ae[e]&&e>0&&(null===(l=Qe.current[e-1])||void 0===l||l.focus())})(s,e),className:"w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-blue-300 outline-none transition-all ".concat(ae[s]?"border-blue-500":"border-gray-300")},s))}),(0,n.jsx)("div",{className:"flex justify-center  items-center py-2 ",children:(0,n.jsx)("span",{onClick:()=>ns(),className:"text-blue-500 hover:underline pb-1 cursor-pointer font-semibold text-lg ",children:"Resend Otp"})})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(N.A,{label:"Select Country",options:Pe||[],value:Pe.find(e=>{var s;return e.label===(null===pe||void 0===pe||null===(s=pe.country_code)||void 0===s?void 0:s.name)}),onChange:e=>(e=>{be(s=>(0,t.A)((0,t.A)({},s),{},{country_code:{name:null===e||void 0===e?void 0:e.label,dial_code:null===e||void 0===e?void 0:e.dial_code,short_name:(null===e||void 0===e?void 0:e.short_name)||"IN",emoji:(null===e||void 0===e?void 0:e.emoji)||"\ud83c\uddee\ud83c\uddf3"}}))})(e),error:null===fe||void 0===fe?void 0:fe.country_code}),(null===pe||void 0===pe||null===(T=pe.country_code)||void 0===T?void 0:T.name)&&(0,n.jsx)(y.A,{type:"number",value:null===pe||void 0===pe?void 0:pe.phone,onChange:e=>be(s=>(0,t.A)((0,t.A)({},s),{},{phone:e.target.value})),label:"Enter Phone Number",className:"w-full h-10",placeholder:"Enter mobile no according to country",error:null===fe||void 0===fe?void 0:fe.phone})]})}):(0,n.jsx)(y.A,{label:"Email Address",placeholder:"Enter Email",className:"w-full h-10",value:null===pe||void 0===pe?void 0:pe.email,onChange:e=>he("email",e.target.value)})}),(0,n.jsx)("div",{className:"my-2",children:ue.length>0?ue.map(e=>{var s;return(0,n.jsxs)("div",{className:"border rounded-lg p-2 my-2 cursor-pointer hover:glassy-card transition",children:[(0,n.jsx)("p",{className:"font-semibold",children:null===e||void 0===e?void 0:e.title}),(0,n.jsx)("p",{children:null===e||void 0===e?void 0:e.description}),(0,n.jsxs)("p",{children:["Level: ",null===e||void 0===e||null===(s=e.level_id)||void 0===s?void 0:s.name]}),(0,n.jsxs)("p",{children:["Questions: ",null===e||void 0===e?void 0:e.no_of_questions]}),(0,n.jsxs)("p",{children:["Time Limit: ",null===e||void 0===e?void 0:e.time_limit," mins"]}),(0,n.jsxs)("p",{children:["Max Attempts: ",null===e||void 0===e?void 0:e.max_attempts]}),(0,n.jsx)("p",{className:"text-blue-500 cursor-pointer",onClick:()=>(async e=>{try{const s=await Q((0,v.rL)({skills:null===pe||void 0===pe?void 0:pe.skills,assessment_id:null===e||void 0===e?void 0:e._id})).unwrap();null!==s&&void 0!==s&&s.data&&(Ne(!0),ke(0),Ae([]),de({isOpen:!1}),Re(null===s||void 0===s?void 0:s.data))}catch(s){m.oR.error(s||"Failed to start assessment")}})(e),children:"Click here to start assessment"})]},e._id)}):(0,n.jsx)(n.Fragment,{})})]}),(0,n.jsx)(g.A,{isOpen:je,onClose:()=>{Ne(!1),ve([])},title:"Assessment (Question ".concat(we+1," of ").concat(rs,")"),hideFooter:!0,handleSubmit:we===rs-1?cs:os,buttonLabel:we===rs-1?"Submit Assessment":"Next Question",submitButtonDisabled:0===_e.length,isActionButton:!0,children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,n.jsxs)("div",{className:"relative w-16 h-16",children:[(0,n.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,n.jsx)("path",{className:"glassy-text-secondary",strokeWidth:"4",fill:"none",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,n.jsx)("path",{className:"text-blue-500",strokeWidth:"4",strokeDasharray:"".concat((we+1)/rs*100,", 100"),fill:"none",strokeLinecap:"round",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,n.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold glassy-text-primary",children:[we+1,"/",rs]})]}),(0,n.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Progress"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,n.jsxs)("div",{className:"relative w-16 h-16",children:[(0,n.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,n.jsx)("path",{className:"glassy-text-secondary",strokeWidth:"4",fill:"none",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,n.jsx)("path",{className:"".concat(Ie<=10?"text-red-500":Ie<=30?"text-orange-400":"text-green-500"),strokeWidth:"4",strokeDasharray:"".concat(Ie/60*100,", 100"),fill:"none",strokeLinecap:"round",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,n.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold glassy-text-primary",children:[Ie,"s"]})]}),(0,n.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Timer"})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:null===ds||void 0===ds?void 0:ds.question}),(0,n.jsx)("p",{className:"text-sm glassy-text-secondary italic",children:"multi_choice"===(null===ds||void 0===ds?void 0:ds.question_type)?"Select all that apply":"Select one option"}),(0,n.jsx)("div",{className:"space-y-3",children:null===ds||void 0===ds||null===(E=ds.options)||void 0===E?void 0:E.map((e,s)=>{const l=_e.includes(e);return(0,n.jsx)("div",{className:"p-4 border rounded-xl cursor-pointer transition duration-300 ease-in-out \n                ".concat(l?"border-blue-500 glassy-card shadow-sm":"border-gray-200 hover:glassy-card"),onClick:()=>{"multi_choice"===ds.question_type?Ae(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]):Ae([e])},children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"multi_choice"===ds.question_type?"checkbox":"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500",checked:l,readOnly:!0}),(0,n.jsxs)("label",{className:"ml-3 block glassy-text-primary text-sm font-medium",children:[String.fromCharCode(65+s),". ",e]})]})},s)})})]}),Ie<=10&&Ie>0&&(0,n.jsxs)("div",{className:"bg-red-100 border border-red-300 text-red-700 p-3 rounded-lg text-sm font-medium",children:["\u26a0\ufe0f Hurry up! Only ",Ie," seconds left!"]})]})}),(0,n.jsx)(g.A,{isOpen:Se,title:"Result",onClose:()=>{Fe(!1),ve([])},isActionButton:!1,children:(0,n.jsxs)("div",{className:"space-y-4 max-h-[40vh] overflow-hidden overflow-y-auto",children:[(0,n.jsxs)("div",{className:"text-lg font-semibold",children:["Total Questions: ",null===oe||void 0===oe||null===(D=oe.data)||void 0===D?void 0:D.total_questions]}),(0,n.jsxs)("div",{className:"text-lg font-semibold",children:["Total Score: ",null===oe||void 0===oe||null===(L=oe.data)||void 0===L?void 0:L.total_score]}),(0,n.jsx)("div",{className:"text-lg font-semibold ".concat(null!==oe&&void 0!==oe&&null!==(U=oe.data)&&void 0!==U&&U.passed?"text-green-600":"text-red-600"),children:null!==oe&&void 0!==oe&&null!==(B=oe.data)&&void 0!==B&&B.passed?"Status: Passed":"Status: Failed"}),(null===oe||void 0===oe||null===(M=oe.data)||void 0===M?void 0:M.certificate_id)&&(0,n.jsx)("div",{children:(0,n.jsx)(C.A,{onClick:()=>{var e;return(e=>{Y("/certtificate-view/".concat(e))})(null===oe||void 0===oe||null===(e=oe.data)||void 0===e?void 0:e.certificate_id)},children:"Certificate View"})}),null===oe||void 0===oe||null===(P=oe.data)||void 0===P||null===(V=P.answers)||void 0===V?void 0:V.map((e,s)=>(0,n.jsxs)("div",{className:"border p-3 rounded-md shadow-sm",children:[(0,n.jsxs)("div",{className:"font-medium text-base mb-1",children:["Q",s+1,": ",e.question]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Type:"})," ",e.question_type]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Options:"}),(0,n.jsx)("ul",{className:"list-disc ml-5",children:e.options.map((s,l)=>(0,n.jsx)("li",{className:e.selected_options.includes(s)?"font-semibold text-blue-600":"",children:s},l))})]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Selected:"})," ",e.selected_options.join(", ")||"None"]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Correct:"})," ",e.is_correct?(0,n.jsx)("span",{className:"text-green-600 font-semibold",children:"Yes"}):(0,n.jsx)("span",{className:"text-red-600 font-semibold",children:"No"})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Score:"})," ",e.score]})]},s))]})}),(0,n.jsx)(g.A,{isOpen:We,title:"Verified Skills",onClose:()=>{Je(!1),He(null)},isActionButton:!1,children:(0,n.jsx)("div",{className:"space-y-2",children:(0,n.jsx)(R.fL,{skills:Ke||[]})})})]})}}}]);
//# sourceMappingURL=194.7b0cee84.chunk.js.map