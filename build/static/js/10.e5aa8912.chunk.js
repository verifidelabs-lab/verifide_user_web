"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[10],{5010:(e,s,l)=>{l.r(s),l.d(s,{default:()=>z});var t=l(5043),a=l(3003),r=l(5200),n=l(6328),i=(l(2420),l(9461)),o=l(10),d=l(9981),c=l(2191),u=l(184),x=l(6906),m=l(5413),h=l(3002),p=l(9804),g=(l(4014),l(3874),l(5084),l(4975)),v=l(7072),f=l(579);const j="text",y="image",b="video",N="link",w="poll",_="image-video";function C(e){let{videoUrl:s}=e;const l=(0,t.useRef)(null),[a,r]=(0,t.useState)(!1);return(0,f.jsxs)("div",{className:"relative w-full h-full glassy-card flex items-center justify-center",children:[(0,f.jsx)("video",{ref:l,src:s,className:"w-full h-full object-contain max-h-[400px]",muted:!0,playsInline:!0}),(0,f.jsx)("button",{onClick:()=>{const e=l.current;e&&(e.paused?(e.play(),r(!0)):(e.pause(),r(!1)))},className:"absolute glassy-text-primary glassy-card/50 p-4 rounded-full text-xl hover:glassy-card/70 transition",children:a?(0,f.jsx)(u.kwt,{}):(0,f.jsx)(u.gSK,{})}),(0,f.jsx)("button",{onClick:()=>{const e=l.current;e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen())},className:"absolute bottom-4 right-4 glassy-text-primary glassy-card/50 p-2 rounded-full text-sm hover:glassy-card/70 transition",children:(0,f.jsx)(u._AH,{})})]})}const k=e=>{let{post:s}=e;return(0,f.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 mt-3 cursor-pointer hover:glassy-card transition-colors",onClick:()=>window.open(s.link,"_blank"),children:[(0,f.jsx)("div",{className:"",children:(0,f.jsxs)("div",{className:"flex items-center mt-2",children:[(0,f.jsx)(r.HaR,{className:"text-blue-600 mr-1",size:12}),(0,f.jsx)("p",{className:"text-xs text-blue-600",children:(e=>{try{return new URL(e).hostname.replace("www.","")}catch(s){return e}})(s.link)})]})}),s.thumbnail&&(0,f.jsx)("div",{className:"ml-3  glassy-card max-h-96 rounded overflow-hidden flex-shrink-0",children:(0,f.jsx)("img",{src:s.thumbnail,alt:"Link thumbnail",className:"w-full max-h-[400px] object-contain"})})]})},D=e=>{let{poll:s}=e;const[l,a]=(0,t.useState)(null),r=s.total_votes||s.options.reduce((e,s)=>e+(s.vote_count||0),0);return(0,f.jsxs)("div",{className:"mt-3 border border-gray-200 rounded-lg p-3",children:[(0,f.jsx)("div",{className:"space-y-2",children:s.options.map((e,s)=>{const t=e.vote_count||0,a=r>0?Math.round(t/r*100):0,n=l===s;return(0,f.jsxs)("div",{className:"relative cursor-not-allowed p-2 rounded border ".concat(n?"border-blue-500 glassy-card":"border-gray-200 hover:glassy-card"),children:[(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsx)("span",{className:"text-sm",children:e.text}),(null!==l||r>0)&&(0,f.jsxs)("span",{className:"text-xs font-medium",children:[a,"%"]})]}),(null!==l||r>0)&&(0,f.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-blue-200 rounded",style:{width:"".concat(a,"%")}})]},s)})}),(0,f.jsxs)("p",{className:"text-xs glassy-text-secondary mt-2",children:[r," votes"]})]})},S=e=>{let{post:s,onDelete:l,onToggleStatus:a,onView:n,profileData:i,isViewMode:o=!1,onShare:d,handleComment:c}=e;const u=(e=>e.poll&&e.poll.options&&e.poll.options.length>0?w:e.video_url?b:e.link?N:e.image_urls&&e.image_urls.length>0?y:"image-video"===e.post_type?_:j)(s),x=e=>{var s;let{profileData:l,post:a,onView:n,onDelete:i,isViewMode:o,formatDate:d}=e;const[c,u]=(0,t.useState)(!1);return(0,f.jsxs)("div",{className:"flex items-center justify-between p-4 pb-2",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[null!==l&&void 0!==l&&l.profile_picture_url?(0,f.jsx)("img",{src:l.profile_picture_url,alt:"Profile",className:"w-12 h-12 rounded-full object-cover",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=""}}):(0,f.jsx)("div",{className:"w-12 h-12 rounded-full glassy-card flex items-center justify-center glassy-text-primary text-lg font-semibold",children:(null===l||void 0===l||null===(s=l.first_name)||void 0===s?void 0:s.charAt(0).toUpperCase())||"U"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{className:"font-semibold text-sm",children:[null===l||void 0===l?void 0:l.first_name," ",null===l||void 0===l?void 0:l.last_name,(null===l||void 0===l?void 0:l.is_verified)&&(0,f.jsx)("span",{className:"ml-1 text-blue-500",children:"\u2713"})]}),(0,f.jsx)("p",{className:"text-xs glassy-text-secondary",children:null===l||void 0===l?void 0:l.headline}),(0,f.jsxs)("p",{className:"text-xs glassy-text-secondary",children:[d(a.createdAt)," \u2022 ",(0,f.jsx)("span",{className:"".concat(a.isDisable?"text-red-500":"text-green-500"),children:a.isDisable?"Disabled":"Active"})]})]})]}),!o&&(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("button",{onClick:()=>u(!c),className:"p-2 hover:glassy-card rounded-full transition-colors",children:(0,f.jsx)(r.$Ri,{size:20})}),c&&(0,f.jsxs)("div",{className:"absolute right-0 top-10 glassy-card border border-gray-200 rounded-lg shadow-lg py-2 z-10 min-w-[120px]",children:[(0,f.jsxs)("button",{onClick:()=>{n(a),u(!1)},className:"flex items-center space-x-2 px-4 py-2 text-sm hover:glassy-card w-full text-left",children:[(0,f.jsx)(r.Vap,{size:16}),(0,f.jsx)("span",{children:"View"})]}),(0,f.jsxs)("button",{onClick:()=>{i(a._id),u(!1)},className:"flex items-center space-x-2 px-4 py-2 text-sm hover:glassy-card w-full text-left text-red-600",children:[(0,f.jsx)(r.IXo,{size:16}),(0,f.jsx)("span",{children:"Delete"})]})]})]})]})},m=e=>{let{post:s,type:l}=e;return(0,f.jsxs)("div",{className:"px-4 pb-2",children:[s.title&&(0,f.jsx)("h3",{className:"font-semibold glassy-text-primary text-base mb-2",children:s.title}),s.content&&(0,f.jsx)("p",{className:"text-sm glassy-text-primary mb-2",children:s.content}),s.tags&&s.tags.length>0&&(0,f.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:s.tags.map((e,s)=>(0,f.jsxs)("span",{className:"text-blue-600 text-xs glassy-card px-2 py-1 rounded-full",children:["#",e]},s))}),(()=>{var e;if(l===y&&null!==(e=s.image_urls)&&void 0!==e&&e.length)return(0,f.jsx)("div",{className:"w-full   bg-neutral-100 mt-3 rounded-lg overflow-hidden",children:(0,f.jsx)(g.RC,{modules:[v.dK],pagination:{clickable:!0},className:"h-full w-full",children:s.image_urls.map((e,s)=>(0,f.jsx)(g.qr,{children:(0,f.jsx)("img",{src:e,alt:"Post content ".concat(s),className:"object-contain max-h-[666px] w-full"})},"img-".concat(s)))})});if(l===_){var t,a;const e=[];return null!==(t=s.image_urls)&&void 0!==t&&t.length&&s.image_urls.forEach((s,l)=>e.push({type:"image",url:s,id:"img-".concat(l)})),s.video_url&&e.push({type:"video",url:s.video_url,id:"video-single"}),null!==(a=s.video_urls)&&void 0!==a&&a.length&&s.video_urls.forEach((s,l)=>e.push({type:"video",url:s,id:"vid-".concat(l)})),0===e.length?null:(0,f.jsx)("div",{className:"w-full flex justify-center bg-neutral-100 mt-3 rounded-lg overflow-hidden max-h-[666px]",children:(0,f.jsx)(g.RC,{modules:[v.dK],pagination:{clickable:!0},className:"h-full w-full",children:e.map(e=>(0,f.jsx)(g.qr,{children:(0,f.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"image"===e.type?(0,f.jsx)("img",{src:e.url,alt:"Post content",className:"w-full h-auto max-h-[666px] object-contain"}):(0,f.jsx)("div",{className:"w-full max-h-[480px]",children:/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\//.test(e.url)?(0,f.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center glassy-card glassy-text-primary cursor-pointer rounded",onClick:()=>window.open(e.url,"_blank"),children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"text-4xl mb-2",children:"\u25b6\ufe0f"}),(0,f.jsx)("p",{className:"text-sm underline",children:"Watch on YouTube"})]})}):(0,f.jsx)(C,{videoUrl:e.url,className:"w-full h-auto max-h-[480px] rounded"})})})},e.id))})})}if(l===b&&s.video_url){const e=/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\//.test(s.video_url);return(0,f.jsx)("div",{className:"w-full flex justify-center bg-neutral-100 mt-3 rounded-lg overflow-hidden",children:e?(0,f.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center glassy-card glassy-text-primary cursor-pointer",onClick:()=>window.open(s.video_url,"_blank"),children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"text-4xl mb-2",children:"\u25b6\ufe0f"}),(0,f.jsx)("p",{className:"text-sm underline",children:"Watch on YouTube"})]})}):(0,f.jsx)(C,{videoUrl:s.video_url})})}return l===N&&s.link?(0,f.jsx)(k,{post:s}):l===w&&s.poll?(0,f.jsx)(D,{poll:s.poll}):null})()]})},h=e=>{let{post:s,onLike:l,handleComment:a,onShare:r,onToggleStatus:n}=e;const[i,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(s.like_count||0);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex justify-around border-t border-gray-100 py-2",children:[(0,f.jsx)("button",{onClick:()=>{o(!i),c(i?d-1:d+1),l&&l(s._id,!i)},className:"flex items-center justify-center gap-3 text-sm glassy-text-secondary hover:text-blue-600 transition-colors px-4 py-1 rounded-lg hover:glassy-card",children:(0,f.jsxs)("span",{className:i?"text-blue-600 font-medium":"",children:[null===s||void 0===s?void 0:s.like_count," Like"]})}),(0,f.jsxs)("button",{onClick:()=>a(s),className:"flex items-center justify-center gap-3 text-sm glassy-text-secondary hover:text-blue-600 transition-colors px-4 py-1 rounded-lg hover:glassy-card",children:[(0,f.jsx)(p.HBW,{}),(0,f.jsx)("span",{children:"Comment"})]}),(0,f.jsxs)("button",{className:"flex items-center justify-center gap-3 text-sm glassy-text-secondary hover:text-blue-600 transition-colors px-4 py-1 rounded-lg hover:glassy-card",onClick:()=>r(s),children:[null===s||void 0===s?void 0:s.share_count,(0,f.jsx)("span",{children:"Share"})]})]}),(0,f.jsxs)("div",{className:"px-4 py-2 border-t border-gray-100 flex items-center justify-between glassy-card",children:[(0,f.jsxs)("span",{className:"text-xs glassy-text-secondary",children:["Post Status: ",(0,f.jsx)("span",{className:s.isDisable?"text-red-500 font-medium":"text-green-500 font-medium",children:s.isDisable?"Disabled":"Active"})]}),(0,f.jsx)("button",{onClick:()=>n(s),className:"flex items-center justify-center px-3 py-1.5 rounded-xl border transition-colors ".concat(s.isDisable?"glassy-card border-gray-200 hover:glassy-card glassy-text-primary":"bg-green-100 border-green-200 hover:bg-green-200 text-green-700"," text-xs font-medium"),children:s.isDisable?"Enable":"Disable"})]})]})};return(0,f.jsxs)("div",{className:"glassy-card rounded-lg border border-gray-200 overflow-hidden shadow-sm mb-6",children:[(0,f.jsx)(x,{profileData:i,post:s,onView:n,onDelete:l,isViewMode:o,formatDate:e=>{const s=new Date(e),l=new Date,t=Math.floor((l-s)/36e5);return t<1?"Just now":t<24?"".concat(t,"h ago"):t<168?"".concat(Math.floor(t/24),"d ago"):s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}),(0,f.jsx)(m,{post:s,type:u}),(0,f.jsx)(h,{post:s,onLike:()=>{},onComment:()=>{},onShare:d,onToggleStatus:a,handleComment:c})]})},z=e=>{var s,l,p,g,v,j,y,b,N,w,_,C,k,D,z,A,P,T;let{profileData:L}=e;const R=L.getProfileData.data.data.personalInfo,M=(0,a.wA)(),V=(0,d.Zp)(),{getPostListData:{data:F=[]},loading:E}=(0,a.d4)(e=>e.user),[U,B]=(0,t.useState)(""),[G,H]=(0,t.useState)(!1),[I,K]=(0,t.useState)(null),[q,O]=(0,t.useState)(!1),[W,Y]=(0,t.useState)(!0),[J,Q]=(0,t.useState)(1),[X]=(0,t.useState)(12),[Z,$]=(0,t.useState)(0),[ee,se]=(0,t.useState)(null),[le,te]=(0,t.useState)(!1),[ae,re]=(0,t.useState)([]),[ne,ie]=(0,t.useState)(null),oe=null===L||void 0===L||null===(s=L.getProfileData)||void 0===s||null===(l=s.data)||void 0===l||null===(p=l.data)||void 0===p?void 0:p.personalInfo,de=e=>{se(e),te(!0)};(0,t.useEffect)(()=>{const e=setTimeout(()=>{"5"===(0,o.Ri)("ACCESS_MODE")&&V("/user/feed"),Y(!1)},500);return()=>clearTimeout(e)},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=await M((0,i.H1)()).unwrap();re((null===e||void 0===e?void 0:e.data)||[])}catch(e){console.error("Failed to fetch contacts:",e),n.oR.error("Failed to load contacts")}})()},[M]);const ce=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ue=e=>null===e||void 0===e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");(0,t.useEffect)(()=>{M((0,i.F4)({page:J,size:X})).unwrap().then(e=>{var s;$((null===(s=e.data)||void 0===s?void 0:s.total)||0)})},[M,J,X]);const xe=e=>{const s=!e.isDisable;M((0,i.kT)({_id:e._id,isDisable:s})).unwrap().then(()=>{n.oR.success("Post ".concat(s?"disabled":"enabled"," successfully")),M((0,i.F4)({page:J,size:X}))}).catch(e=>{n.oR.error(e.message||"Failed to update post status")})},me=e=>{K(e),H(!0)},he=async e=>{try{const s=await M((0,i.zu)({post:null===e||void 0===e?void 0:e._id,page:1,size:1e3})).unwrap();ie(null===s||void 0===s?void 0:s.data),console.log(null===s||void 0===s?void 0:s.data)}catch(s){n.oR.error(s)}},pe=()=>{const e=Math.ceil(Z/X),s=s=>{s<1||s>e||Q(s)};return(0,f.jsxs)("div",{className:"flex items-center justify-between p-4 glassy-card rounded-lg border border-gray-200 mt-4",children:[(0,f.jsxs)("div",{className:"text-sm glassy-text-secondary",children:["Showing ",(J-1)*X+1," to"," ",Math.min(J*X,Z)," of ",Z," posts"]}),(0,f.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,f.jsx)("button",{onClick:()=>s(J-1),disabled:1===J,className:"p-2 rounded glassy-text-primary hover:glassy-card disabled:text-gray-300 disabled:cursor-not-allowed",children:(0,f.jsx)(r.irw,{size:18})}),(()=>{const s=[];if(e<=7)for(let l=1;l<=e;l++)s.push(l);else{J>3&&(s.push(1),J>4&&s.push("start-ellipsis"));const l=Math.max(2,J-1),t=Math.min(e-1,J+1);for(let e=l;e<=t;e++)s.push(e);J<e-2&&(J<e-3&&s.push("end-ellipsis"),s.push(e))}return s})().map((e,l)=>"start-ellipsis"===e||"end-ellipsis"===e?(0,f.jsx)("span",{className:"px-2 glassy-text-secondary",children:"..."},l):(0,f.jsx)("button",{onClick:()=>s(e),className:"w-8 h-8 rounded flex items-center justify-center transition ".concat(J===e?"bg-blue-600 glassy-text-primary":"glassy-text-primary hover:glassy-card"),children:e},e)),(0,f.jsx)("button",{onClick:()=>s(J+1),disabled:J===e,className:"p-2 rounded glassy-text-primary hover:glassy-card disabled:text-gray-300 disabled:cursor-not-allowed",children:(0,f.jsx)(r.fOo,{size:18})})]})]})},ge=(null===F||void 0===F||null===(g=F.data)||void 0===g||null===(v=g.list)||void 0===v?void 0:v.filter(e=>{if(!U)return!0;const s=U.toLowerCase();return e.title&&e.title.toLowerCase().includes(s)||e.content&&e.content.toLowerCase().includes(s)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(s))||e.link&&e.link.toLowerCase().includes(s)}))||[];return(0,f.jsx)("div",{className:"min-h-screen glassy-card p-4 md:p-8",children:(0,f.jsxs)("div",{className:"w-full mx-auto",children:[(0,f.jsxs)("div",{className:"glassy-card rounded-lg shadow-md p-6",children:[(0,f.jsxs)("div",{className:"hidden md:flex flex-col md:flex-row items-start gap-6 md:gap-8 mb-6",children:[(0,f.jsx)("div",{className:"flex-shrink-0",children:oe.profile_picture_url?(0,f.jsx)("img",{src:oe.profile_picture_url||"/default-avatar.png",alt:"Profile",className:"w-20 h-20 md:w-32 md:h-32 rounded-full object-cover border-2 border-gray-200"}):(0,f.jsx)("img",{src:"/0684456b-aa2b-4631-86f7-93ceaf33303c.png",alt:"Profile",className:"w-20 h-20 md:w-32 md:h-32 rounded-full object-cover border-2 border-gray-200"})}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4 justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsxs)("h1",{className:"text-xl md:text-2xl font-light",children:[oe.first_name," ",oe.last_name]}),oe.is_verified&&(0,f.jsx)("span",{className:"text-blue-500 text-xl",children:"\u2713"})]}),(0,f.jsx)("div",{className:"flex gap-3",children:(0,f.jsx)(m.A,{variant:"outline",size:"sm",icon:(0,f.jsx)(r.GGD,{}),onClick:()=>V("/user/create-post"),children:"Create Post"})})]}),(0,f.jsxs)("div",{className:"flex gap-6 mb-4 text-sm",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"font-semibold",children:ue(oe.connection_count)})," ","connections"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"font-semibold",children:ue(oe.follower_count)})," ","followers"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"font-semibold",children:ue(oe.profile_views)})," ","profile views"]})]}),(0,f.jsxs)("div",{className:"text-sm",children:[(0,f.jsx)("div",{className:"font-semibold mb-1",children:oe.headline}),(0,f.jsxs)("div",{className:"mb-1",children:[(null===(j=oe.address)||void 0===j||null===(y=j.city)||void 0===y?void 0:y.name)&&"".concat(oe.address.city.name,", "),(null===(b=oe.address)||void 0===b||null===(N=b.state)||void 0===N?void 0:N.name)&&"".concat(oe.address.state.name,", "),null===(w=oe.address)||void 0===w||null===(_=w.country)||void 0===_?void 0:_.name]}),(0,f.jsxs)("div",{className:"glassy-text-secondary",children:[oe.gender&&"".concat(oe.gender," \u2022 "),oe.birth_date&&"Born ".concat(ce(oe.birth_date))]})]})]})]}),(0,f.jsxs)("div",{className:"flex flex-col md:hidden items-start gap-4 mb-6",children:[(0,f.jsxs)("div",{className:"flex items-center gap-4",children:[oe.profile_picture_url?(0,f.jsx)("img",{src:oe.profile_picture_url||"/default-avatar.png",alt:"Profile",className:"w-20 h-20 md:w-32 md:h-32 rounded-full object-cover border-2 border-gray-200"}):(0,f.jsx)("img",{src:"/0684456b-aa2b-4631-86f7-93ceaf33303c.png",alt:"Profile",className:"w-20 h-20 md:w-32 md:h-32 rounded-full object-cover border-2 border-gray-200"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsxs)("h1",{className:"text-lg font-medium",children:[oe.first_name," ",oe.last_name]}),oe.is_verified&&(0,f.jsx)("span",{className:"text-blue-500 text-lg",children:"\u2713"})]}),(0,f.jsx)("div",{className:"text-sm glassy-text-secondary",children:oe.headline})]})]}),(0,f.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"font-semibold",children:ue(oe.connection_count)})," connections"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"font-semibold",children:ue(oe.follower_count)})," followers"]})]}),(0,f.jsxs)("div",{className:"text-sm",children:[(0,f.jsxs)("div",{children:[(null===(C=oe.address)||void 0===C||null===(k=C.city)||void 0===k?void 0:k.name)&&"".concat(oe.address.city.name,", "),(null===(D=oe.address)||void 0===D||null===(z=D.state)||void 0===z?void 0:z.name)&&"".concat(oe.address.state.name,", "),null===(A=oe.address)||void 0===A||null===(P=A.country)||void 0===P?void 0:P.name]}),(0,f.jsxs)("div",{className:"glassy-text-secondary",children:[oe.gender&&"".concat(oe.gender," \u2022 "),oe.birth_date&&"Born ".concat(ce(oe.birth_date))]})]}),(0,f.jsx)("div",{className:"mt-3",children:(0,f.jsx)(m.A,{variant:"outline",size:"sm",icon:(0,f.jsx)(r.GGD,{}),onClick:()=>V("/user/create-post"),children:"Create Post"})})]}),(0,f.jsx)("div",{className:"",children:(0,f.jsxs)("div",{className:"relative flex-1 min-w-[250px]",children:[(0,f.jsx)(r.CKj,{className:"absolute left-3 top-3 glassy-text-secondary"}),(0,f.jsx)("input",{type:"text",placeholder:"Search posts or tags...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:U,onChange:e=>B(e.target.value)})]})})]}),E?(0,f.jsx)("div",{className:"space-y-4"}):0===ge.length?(0,f.jsx)("div",{className:"glassy-card rounded-lg shadow p-8 text-center",children:(0,f.jsx)("p",{className:"glassy-text-secondary",children:"No posts found. Create your first post!"})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"grid grid-cols-1 gap-6 mt-4",children:ge.map(e=>(0,f.jsx)(S,{profileData:R,post:e,onDelete:()=>O(e._id),onToggleStatus:xe,onView:me,isViewMode:!1,onShare:de,handleComment:he},e._id))}),ne&&(0,f.jsx)("div",{className:"space-y-4",children:Array.isArray(null===ne||void 0===ne?void 0:ne.list)&&(null===ne||void 0===ne||null===(T=ne.list)||void 0===T?void 0:T.map((e,s)=>(0,f.jsxs)("div",{className:"flex items-start space-x-3 p-2 border-b",children:[(0,f.jsx)("img",{src:e.user.profile_picture_url,alt:e.user.first_name,className:"w-10 h-10 rounded-full object-cover"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsxs)("span",{className:"font-semibold text-sm",children:[e.user.first_name," ",e.user.last_name]}),(0,f.jsx)("span",{className:"text-xs glassy-text-secondary",children:new Date(e.updatedAt).toLocaleString()})]}),(0,f.jsx)("p",{className:"glassy-text-primary text-sm",children:e.text}),(0,f.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-xs glassy-text-secondary",children:[(0,f.jsxs)("button",{className:"hover:text-blue-600",children:["\ud83d\udc4d ",e.likeCount]}),(0,f.jsxs)("button",{className:"hover:text-blue-600",children:["\ud83d\udcac Reply (",e.repliesCount,")"]})]})]})]},s)))}),(0,f.jsx)(pe,{})]}),G&&I&&(0,f.jsx)("div",{className:"fixed inset-0 glassy-card/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,f.jsxs)("div",{className:"glassy-card rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[(0,f.jsx)("button",{onClick:()=>H(!1),className:"absolute top-4 right-4 glassy-text-secondary hover:glassy-text-primary text-2xl z-10 glassy-card rounded-full p-1",children:(0,f.jsx)(u.QCr,{})}),(0,f.jsx)(S,{post:I,profileData:R,onDelete:()=>O(I._id),onToggleStatus:xe,onView:me,isViewMode:!0,onShare:de})]})}),(0,f.jsx)(c.A,{isOpen:!!q,title:(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)(h.e5t,{className:"text-red-500"}),(0,f.jsx)("span",{children:"Delete Post"})]}),message:"Are you sure you want to delete this post? This action cannot be undone.",onCancel:()=>{O(!1)},onConfirm:()=>(async e=>{try{Y(!0);const s=await M((0,i.ys)({_id:e})).unwrap();n.oR.success(null===s||void 0===s?void 0:s.message),await M((0,i.F4)({page:J,size:X}))}catch(s){n.oR.error((null===s||void 0===s?void 0:s.message)||"Failed to delete post")}finally{Y(!1),O(!1)}})(q),confirmText:"Delete",cancelText:"Cancel",type:"danger"}),le&&(0,f.jsx)(x.A,{post:ee,onClose:()=>te(!1),userData:ae})]})})}}}]);
//# sourceMappingURL=10.e5aa8912.chunk.js.map