"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[383],{9383:(e,s,i)=>{i.r(s),i.d(s,{default:()=>f});var a=i(9379),l=i(5043),n=i(3003),r=i(7087),t=i(5167),d=i(6328),o=i(4272),c=i(7115),m=i.n(c),u=(i(6473),i(152)),v=i(5200),N=i(5413),x=i(7567),p=i(6922),h=i(9804),_=i(579);const I=e=>{let{isOpen:s,onClose:i,children:a,title:l,titleClassName:n="",width:r="50px"}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"fixed inset-0 z-40 transition-all duration-300 ease-in-out   ".concat(s?"bg-black bg-opacity-30 backdrop-blur-sm":"bg-transparent pointer-events-none","  "),onClick:i}),(0,_.jsxs)("div",{className:"  fixed inset-y-0 right-0 h-full bg-white shadow-xl z-50  transform transition-transform duration-300 ease-in-out\n                         lg:w-[600px] md:w-[500px] w-md  ".concat(s?"translate-x-0":"translate-x-full"," "),style:s?{}:{pointerEvents:"none"},children:[(0,_.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 ",children:[(0,_.jsx)("h2",{className:"text-lg font-semibold text-gray-800 ".concat(n),children:l}),(0,_.jsx)(N.A,{variant:"zinc",rounded:"full",icon:(0,_.jsx)(h.VKQ,{}),onClick:i,children:"Back"})]}),(0,_.jsx)("div",{className:"h-[calc(100%-64px)] overflow-y-auto p-4",children:a})]})]})};var y=i(3877),g=i(10);const j={SUPER_ADMIN:1,ADMIN:2,COMPANIES:3,COMPANIES_ADMIN:7,INSTITUTIONS:4,INSTITUTIONS_ADMIN:8},f=e=>{var s,i,c;let{adminProfileData:h,companiesProfileData:f,instituteProfileData:w}=e;const A=(0,n.wA)(),b=(0,n.d4)(e=>e.countryStateCity),P=Number((0,g.Ri)("USER_ROLE")),[S,M]=(0,l.useState)(!1),[T,D]=(0,l.useState)(!1),[E,C]=(0,l.useState)(!1),O=(0,o.Kj)((null===b||void 0===b||null===(s=b.countriesData)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.data)||[]),{formData:U,setFormData:R,handleChange:k,resetForm:F,errors:q,setErrors:z}=(0,r.A)([j.SUPER_ADMIN,j.ADMIN].includes(P)?{currentPassword:"",newPassword:"",confirmPassword:"",first_name:"",last_name:"",email:"",profile_picture_url:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_number:""}:[j.COMPANIES,j.COMPANIES_ADMIN].includes(P)?{currentPassword:"",newPassword:"",confirmPassword:"",name:"",display_name:"",email:"",logo_url:"",website_url:"",description:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_no:"",company_size:"",company_type:"",specialties:[],founded_year:""}:[j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?{currentPassword:"",newPassword:"",confirmPassword:"",name:"",display_name:"",email:"",logo_url:"",website_url:"",description:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_no:"",institution_type_id:"",specialties:[],founded_year:""}:{}),[X,L]=(0,l.useState)(!1),$=()=>{[j.SUPER_ADMIN,j.ADMIN].includes(P)&&A((0,t.Tb)()),[j.COMPANIES,j.COMPANIES_ADMIN].includes(P)&&A((0,t.pu)()),[j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)&&A((0,t.qM)())};(0,l.useEffect)(()=>{m().init({duration:1e3,easing:"ease-in-out",once:!0,mirror:!1}),$(),A((0,u.Xr)())},[]),(0,l.useEffect)(()=>{h&&([j.SUPER_ADMIN,j.ADMIN].includes(P)?R(e=>(0,a.A)((0,a.A)({},e),{},{first_name:(null===h||void 0===h?void 0:h.first_name)||"",last_name:(null===h||void 0===h?void 0:h.last_name)||"",email:(null===h||void 0===h?void 0:h.email)||"",profile_picture_url:(null===h||void 0===h?void 0:h.profile_picture_url)||"",country_code:(null===h||void 0===h?void 0:h.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_number:(null===h||void 0===h?void 0:h.phone_number)||""})):[j.COMPANIES,j.COMPANIES_ADMIN].includes(P)?R(e=>(0,a.A)((0,a.A)({},e),{},{name:(null===f||void 0===f?void 0:f.name)||"",display_name:(null===f||void 0===f?void 0:f.display_name)||"",email:(null===f||void 0===f?void 0:f.email)||"",logo_url:(null===f||void 0===f?void 0:f.logo_url)||"",website_url:(null===f||void 0===f?void 0:f.website_url)||"",description:(null===f||void 0===f?void 0:f.description)||"",country_code:(null===f||void 0===f?void 0:f.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_no:(null===f||void 0===f?void 0:f.phone_no)||"",company_size:(null===f||void 0===f?void 0:f.company_size)||"",company_type:(null===f||void 0===f?void 0:f.company_type)||"",specialties:(null===f||void 0===f?void 0:f.specialties)||[],founded_year:(null===f||void 0===f?void 0:f.founded_year)||""})):[j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)&&R(e=>{var s;return(0,a.A)((0,a.A)({},e),{},{name:(null===w||void 0===w?void 0:w.name)||"",display_name:(null===w||void 0===w?void 0:w.display_name)||"",email:(null===w||void 0===w?void 0:w.email)||"",logo_url:(null===w||void 0===w?void 0:w.logo_url)||"",website_url:(null===w||void 0===w?void 0:w.website_url)||"",description:(null===w||void 0===w?void 0:w.description)||"",country_code:(null===w||void 0===w?void 0:w.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_no:(null===w||void 0===w?void 0:w.phone_no)||"",institution_type_id:(null===w||void 0===w||null===(s=w.institution_type_id)||void 0===s?void 0:s._id)||"",specialties:(null===w||void 0===w?void 0:w.specialties)||[],founded_year:(null===w||void 0===w?void 0:w.founded_year)||""})}))},[h,w,f]);const J=()=>{M(!0)},W=()=>{D(!0)},H=()=>{const e=[j.SUPER_ADMIN,j.ADMIN,j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"profile_picture_url":"logo_url",s=U[e]||(null===h||void 0===h?void 0:h[e])||(null===f||void 0===f?void 0:f[e])||(null===w||void 0===w?void 0:w[e])||"";return(0,_.jsxs)("div",{className:"relative group",children:[(0,_.jsxs)("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white/80 shadow-lg bg-white relative overflow-hidden cursor-pointer transition-all duration-300 hover:scale-105",children:[E&&(0,_.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:(0,_.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),(0,_.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,_.jsx)(v.PoE,{className:"w-6 h-6 text-white"})}),(0,_.jsx)("img",{src:s||"https://images.unsplash.com/photo-1567446537708-ac4aa75c9c28?w=500",className:"w-full h-full object-cover",alt:"Profile",onError:e=>{e.target.src="https://images.unsplash.com/photo-1567446537708-ac4aa75c9c28?w=500"}})]}),(0,_.jsx)("input",{type:"file",id:"imageUpload-".concat(e),accept:"image/*",onChange:s=>async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"profile_picture_url";if(!e)return;if(e.size>2097152)return void d.oR.error("File size must be less than 2MB");if(["image/jpg","image/jpeg","image/png"].includes(e.type))try{C(!0);const i=await(0,o.pv)(e,"PROFILES");d.oR.success(null===i||void 0===i?void 0:i.message),R(e=>{var l;return(0,a.A)((0,a.A)({},e),{},{[s]:null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.imageURL})})}catch(i){d.oR.error(i||"Failed to upload image")}finally{C(!1)}else d.oR.error("Only image files (JPEG, PNG) are allowed")}(s.target.files[0],e),className:"hidden"})]})};return(0,_.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,_.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,_.jsxs)("div",{className:"text-center mb-8","data-aos":"fade-down",children:[(0,_.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[(e=>{switch(e){case j.SUPER_ADMIN:return"Super Admin";case j.ADMIN:return"Admin";case j.COMPANIES:case j.COMPANIES_ADMIN:return"Company";case j.INSTITUTIONS:case j.INSTITUTIONS_ADMIN:return"Institute";default:return"User"}})(P)," Profile"]}),(0,_.jsx)("p",{className:"text-gray-600",children:"Manage your account information and security"})]}),(0,_.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,_.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 relative",children:[(0,_.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),(0,_.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center",children:[H(),(0,_.jsx)("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:(()=>{if([j.SUPER_ADMIN,j.ADMIN,j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P))return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[(null===h||void 0===h?void 0:h.first_name)||(null===f||void 0===f?void 0:f.name)||(null===w||void 0===w?void 0:w.name)||"N/A"," ",(null===h||void 0===h?void 0:h.last_name)||""]}),(0,_.jsx)("p",{className:"text-blue-100",children:(null===h||void 0===h?void 0:h.email)||(null===f||void 0===f?void 0:f.email)||(null===w||void 0===w?void 0:w.email)||"N/A"})]})})()})]})]}),(0,_.jsxs)("div",{className:"p-6",children:[(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_.jsxs)("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-100",children:[(0,_.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,_.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,_.jsx)(v.JXP,{className:"mr-2 text-blue-500"}),"Personal Information"]}),(0,_.jsxs)("button",{onClick:W,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,_.jsx)(v.WXf,{className:"mr-1"})," Edit"]})]}),(0,_.jsx)("div",{className:"space-y-3",children:(()=>{var e,s,i,a,l;return[j.SUPER_ADMIN,j.ADMIN].includes(P)?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Full Name"}),(0,_.jsxs)("p",{className:"font-medium",children:[(null===h||void 0===h?void 0:h.first_name)||"N/A"," ",(null===h||void 0===h?void 0:h.last_name)||""]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,_.jsx)("p",{className:"font-medium",children:(null===h||void 0===h?void 0:h.email)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,_.jsxs)("p",{className:"font-medium",children:["+",null===h||void 0===h||null===(e=h.country_code)||void 0===e?void 0:e.dial_code," ",(null===h||void 0===h?void 0:h.phone_number)||"N/A"]})]})]}):[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Company Name"}),(0,_.jsx)("p",{className:"font-medium",children:(null===h||void 0===h?void 0:h.name)||(null===f||void 0===f?void 0:f.name)||(null===w||void 0===w?void 0:w.name)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Display Name"}),(0,_.jsx)("p",{className:"font-medium",children:(null===h||void 0===h?void 0:h.display_name)||(null===f||void 0===f?void 0:f.display_name)||(null===w||void 0===w?void 0:w.display_name)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,_.jsx)("p",{className:"font-medium",children:(null===h||void 0===h?void 0:h.email)||(null===f||void 0===f?void 0:f.email)||(null===w||void 0===w?void 0:w.email)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,_.jsxs)("p",{className:"font-medium",children:["+",(null===h||void 0===h||null===(s=h.country_code)||void 0===s?void 0:s.dial_code)||(null===f||void 0===f||null===(i=f.country_code)||void 0===i?void 0:i.dial_code)||(null===w||void 0===w||null===(a=w.country_code)||void 0===a?void 0:a.dial_code)," ",(null===h||void 0===h?void 0:h.phone_no)||(null===f||void 0===f?void 0:f.phone_no)||(null===w||void 0===w?void 0:w.phone_no)||"N/A"]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Website"}),(0,_.jsx)("p",{className:"font-medium",children:(null===h||void 0===h?void 0:h.website_url)||(null===f||void 0===f?void 0:f.website_url)||(null===w||void 0===w?void 0:w.website_url)||"N/A"})]})]}):[j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Institute Name"}),(0,_.jsx)("p",{className:"font-medium",children:(null===w||void 0===w?void 0:w.name)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Display Name"}),(0,_.jsx)("p",{className:"font-medium",children:(null===w||void 0===w?void 0:w.display_name)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,_.jsx)("p",{className:"font-medium",children:(null===w||void 0===w?void 0:w.email)||"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,_.jsxs)("p",{className:"font-medium",children:["+",null===w||void 0===w||null===(l=w.country_code)||void 0===l?void 0:l.dial_code," ",(null===w||void 0===w?void 0:w.phone_no)||"N/A"]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Website"}),(0,_.jsx)("p",{className:"font-medium",children:(null===w||void 0===w?void 0:w.website_url)||"N/A"})]})]}):void 0})()})]}),(0,_.jsxs)("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-100",children:[(0,_.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,_.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,_.jsx)(v.F5$,{className:"mr-2 text-blue-500"}),"Account Security"]}),(0,_.jsxs)("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,_.jsx)(v.WXf,{className:"mr-1"})," Change"]})]}),(0,_.jsxs)("div",{className:"space-y-3",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Password"}),(0,_.jsx)("p",{className:"font-medium",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Last Updated"}),(0,_.jsx)("p",{className:"font-medium",children:null!==h&&void 0!==h&&h.updatedAt?new Date(h.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"text-xs text-gray-500",children:"Member Since"}),(0,_.jsx)("p",{className:"font-medium",children:null!==h&&void 0!==h&&h.createdAt?new Date(h.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]})]})]})]}),(0,_.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,_.jsxs)("button",{onClick:W,className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("div",{className:"p-2 bg-blue-100 rounded-full mr-3",children:(0,_.jsx)(v.JXP,{className:"text-blue-600"})}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"font-medium text-gray-800",children:"Edit Profile"}),(0,_.jsx)("p",{className:"text-sm text-gray-500",children:"Update your personal information"})]})]}),(0,_.jsx)(v.WXf,{className:"text-gray-400"})]}),(0,_.jsxs)("button",{onClick:J,className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("div",{className:"p-2 bg-purple-100 rounded-full mr-3",children:(0,_.jsx)(v.F5$,{className:"text-purple-600"})}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"font-medium text-gray-800",children:"Change Password"}),(0,_.jsx)("p",{className:"text-sm text-gray-500",children:"Update your security credentials"})]})]}),(0,_.jsx)(v.WXf,{className:"text-gray-400"})]})]})]})]})]}),(0,_.jsx)(I,{isOpen:S,title:"Change Password",onClose:()=>{M(!1),F(),z({})},children:(0,_.jsxs)("div",{className:"space-y-5",children:[(0,_.jsxs)("div",{className:"text-center mb-4",children:[(0,_.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-3",children:(0,_.jsx)(v.F5$,{className:"h-5 w-5 text-blue-600"})}),(0,_.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Update your password"}),(0,_.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Ensure your account is using a long, random password to stay secure."})]}),(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsx)(y.A,{label:"Current Password",value:U.currentPassword,onChange:e=>k("currentPassword",e.target.value),name:"currentPassword",placeholder:"Enter current password",error:null===q||void 0===q?void 0:q.currentPassword,icon:(0,_.jsx)(v.F5$,{className:"text-gray-400"})}),(0,_.jsx)(y.A,{label:"New Password",value:U.newPassword,onChange:e=>k("newPassword",e.target.value),name:"newPassword",placeholder:"Enter new password",error:null===q||void 0===q?void 0:q.newPassword,icon:(0,_.jsx)(v.F5$,{className:"text-gray-400"})}),(0,_.jsx)(y.A,{label:"Confirm New Password",value:U.confirmPassword,onChange:e=>k("confirmPassword",e.target.value),name:"confirmPassword",placeholder:"Confirm new password",error:null===q||void 0===q?void 0:q.confirmPassword,icon:(0,_.jsx)(v.YrT,{className:"text-gray-400"})})]}),(0,_.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,_.jsx)(N.A,{variant:"secondary",onClick:()=>{M(!1),F(),z({})},className:"px-4 py-2",children:"Cancel"}),(0,_.jsx)(N.A,{variant:"primary",onClick:async()=>{if((()=>{const e={};return U.currentPassword||(e.currentPassword="Current password is required"),U.newPassword?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(U.newPassword)||(e.newPassword="Password must be at least 8 characters long, include uppercase, lowercase, number, and special character"):e.newPassword="New password is required",U.confirmPassword?U.newPassword!==U.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Confirm password is required",z(e),0===Object.keys(e).length})())try{var e;let s;L(!0),[j.SUPER_ADMIN,j.ADMIN].includes(P)?s=await A((0,t.ds)({currentPassword:U.currentPassword,newPassword:U.newPassword,confirmPassword:U.confirmPassword})).unwrap():[j.COMPANIES,j.COMPANIES_ADMIN].includes(P)?s=await A((0,t.gX)({currentPassword:U.currentPassword,newPassword:U.newPassword,confirmPassword:U.confirmPassword})).unwrap():[j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)&&(s=await A((0,t.ez)({currentPassword:U.currentPassword,newPassword:U.newPassword,confirmPassword:U.confirmPassword})).unwrap()),d.oR.success((null===(e=s)||void 0===e?void 0:e.message)||"Password updated successfully"),$(),M(!1),F(),L(!1)}catch(s){d.oR.error(s||"Failed to update password"),L(!1)}else d.oR.error("Please fix the validation errors")},loading:X,className:"px-4 py-2",children:"Update Password"})]})]})}),(0,_.jsx)(I,{isOpen:T,title:"Edit Profile",onClose:()=>{D(!1),z({})},size:"lg",children:(0,_.jsxs)("div",{className:"space-y-6",children:[(0,_.jsxs)("div",{className:"flex flex-col items-center",children:[H(),(0,_.jsxs)("button",{onClick:()=>function(){const e="imageUpload-".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile_picture_url");document.getElementById(e).click()}([j.SUPER_ADMIN,j.ADMIN,j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"profile_picture_url":"logo_url"),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,_.jsx)(v.PoE,{className:"mr-1"})," Change photo"]})]}),[j.SUPER_ADMIN,j.ADMIN].includes(P)?(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:"First Name",type:"text",value:U.first_name,onChange:e=>k("first_name",e.target.value),placeholder:"Enter first name",icon:(0,_.jsx)(v.JXP,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.first_name})}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:"Last Name",type:"text",value:U.last_name,onChange:e=>k("last_name",e.target.value),placeholder:"Enter last name",icon:(0,_.jsx)(v.JXP,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.last_name})})]}):(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"Company Name":"Institute Name",type:"text",value:U.name,onChange:e=>k("name",e.target.value),placeholder:[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"Enter company name":"Enter institute name",icon:(0,_.jsx)(v.JXP,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.name})}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"Industry Name":"Institute Name",type:"text",value:U.industry,onChange:e=>k("industry",e.target.value),placeholder:[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"Enter industry":"Enter institute industry",icon:(0,_.jsx)(v.JXP,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.industry})}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"Headquarters Name":"Institute Name",type:"text",value:U.headquarters,onChange:e=>k("headquarters",e.target.value),placeholder:[j.COMPANIES,j.COMPANIES_ADMIN,j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)?"Enter headquarters":"Enter institute headquarters",icon:(0,_.jsx)(v.JXP,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.headquarters})}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:"Display Name",type:"text",value:U.display_name,onChange:e=>k("display_name",e.target.value),placeholder:"Enter display name",icon:(0,_.jsx)(v.JXP,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.display_name})})]}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:"Email",type:"email",value:U.email,onChange:e=>k("email",e.target.value),placeholder:"Enter email address",icon:(0,_.jsx)(v.pHD,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.email})}),(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_.jsx)("div",{children:(0,_.jsx)(p.A,{options:O,label:"Country",selectedOption:null===O||void 0===O?void 0:O.find(e=>{var s;return(null===e||void 0===e?void 0:e.label)===(null===U||void 0===U||null===(s=U.country_code)||void 0===s?void 0:s.name)}),onChange:e=>(e=>{R(s=>(0,a.A)((0,a.A)({},s),{},{country_code:{name:null===e||void 0===e?void 0:e.label,dial_code:null===e||void 0===e?void 0:e.dial_code,short_name:null===e||void 0===e?void 0:e.short_name,emoji:null===e||void 0===e?void 0:e.emoji}}))})(e),error:null===q||void 0===q?void 0:q.country_code,icon:(0,_.jsx)(v.VeH,{className:"text-gray-400"})})}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:[j.SUPER_ADMIN,j.ADMIN].includes(P)?"Phone Number":"Phone",type:"tel",value:[j.SUPER_ADMIN,j.ADMIN].includes(P)?U.phone_number:U.phone_no,onChange:e=>k([j.SUPER_ADMIN,j.ADMIN].includes(P)?"phone_number":"phone_no",e.target.value),placeholder:[j.SUPER_ADMIN,j.ADMIN].includes(P)?"Enter phone number":"Enter phone",icon:(0,_.jsx)(v.QFc,{className:"text-gray-400"}),error:[j.SUPER_ADMIN,j.ADMIN].includes(P)?null===q||void 0===q?void 0:q.phone_number:null===q||void 0===q?void 0:q.phone_no,prefix:(null===(c=U.country_code)||void 0===c?void 0:c.dial_code)||"+"})})]}),![j.SUPER_ADMIN,j.ADMIN].includes(P)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:"Website URL",type:"url",value:U.website_url,onChange:e=>k("website_url",e.target.value),placeholder:"Enter website URL",icon:(0,_.jsx)(v.VeH,{className:"text-gray-400"}),error:null===q||void 0===q?void 0:q.website_url})}),(0,_.jsx)("div",{children:(0,_.jsx)(x.A,{label:"Description",type:"textarea",value:U.description,onChange:e=>k("description",e.target.value),placeholder:"Enter description",error:null===q||void 0===q?void 0:q.description,rows:3})})]}),(0,_.jsx)("div",{children:(0,_.jsx)(N.A,{variant:"primary",onClick:async()=>{if((()=>{var e,s,i;const a={};var l,n,r,t;[j.SUPER_ADMIN,j.ADMIN].includes(P)?(null!==(l=U.first_name)&&void 0!==l&&l.trim()?U.first_name.trim().length<2&&(a.first_name="First name must be at least 2 characters"):a.first_name="First name is required",null!==(n=U.last_name)&&void 0!==n&&n.trim()?U.last_name.trim().length<2&&(a.last_name="Last name must be at least 2 characters"):a.last_name="Last name is required"):(null!==(r=U.name)&&void 0!==r&&r.trim()?U.name.trim().length<2&&(a.name="Name must be at least 2 characters"):a.name="Name is required",null!==(t=U.display_name)&&void 0!==t&&t.trim()||(a.display_name="Display name is required")),null!==(e=U.email)&&void 0!==e&&e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U.email)||(a.email="Please enter a valid email address"):a.email="Email is required";const d=[j.SUPER_ADMIN,j.ADMIN].includes(P)?"phone_number":"phone_no";return null!==(s=U[d])&&void 0!==s&&s.trim()?/^[0-9]{10,15}$/.test(U[d].replace(/\D/g,""))||(a[d]="Please enter a valid phone number (10-15 digits)"):a[d]="Phone number is required",null!==(i=U.country_code)&&void 0!==i&&i.name||(a.country_code="Country is required"),z(a),0===Object.keys(a).length})())try{var e;let s;if(L(!0),[j.SUPER_ADMIN,j.ADMIN].includes(P)){const e={first_name:U.first_name.trim(),last_name:U.last_name.trim(),email:U.email.trim(),profile_picture_url:U.profile_picture_url,country_code:U.country_code,phone_number:U.phone_number.trim()};s=await A((0,t.r7)(e)).unwrap()}else if([j.COMPANIES,j.COMPANIES_ADMIN].includes(P)){const e={name:U.name.trim(),display_name:U.display_name.trim(),email:U.email.trim(),logo_url:U.logo_url,website_url:U.website_url.trim(),description:U.description.trim(),country_code:U.country_code,phone_no:U.phone_no.trim(),company_size:U.company_size,company_type:U.company_type,specialties:U.specialties,founded_year:U.founded_year,headquarters:U.headquarters,industry:U.industry};s=await A((0,t.sd)(e)).unwrap()}else if([j.INSTITUTIONS,j.INSTITUTIONS_ADMIN].includes(P)){const e={name:U.name.trim(),display_name:U.display_name.trim(),email:U.email.trim(),logo_url:U.logo_url,website_url:U.website_url.trim(),description:U.description.trim(),country_code:U.country_code,phone_no:U.phone_no.trim(),institution_type_id:U.institution_type_id,specialties:U.specialties,founded_year:U.founded_year};s=await A((0,t.I4)(e)).unwrap()}d.oR.success((null===(e=s)||void 0===e?void 0:e.message)||"Profile updated successfully"),$(),D(!1),L(!1)}catch(s){d.oR.error(s||"Failed to update profile"),L(!1)}else d.oR.error("Please fix the validation errors")},loading:X,className:"px-4 py-2",children:"Save Changes"})})]})})]})}}}]);
//# sourceMappingURL=383.15d3e8b8.chunk.js.map