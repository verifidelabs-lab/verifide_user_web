"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[604],{2604:(e,s,i)=>{i.r(s),i.d(s,{default:()=>j});var a=i(9379),l=i(5043),r=i(3003),n=i(7087),d=i(5167),o=i(6328),t=i(4272),c=i(7115),u=i.n(c),m=(i(6473),i(152)),v=i(5200),N=i(5413),x=i(7567),p=i(6922),h=i(8649),_=i(3877),I=i(10),y=i(579);const g={SUPER_ADMIN:1,ADMIN:2,COMPANIES:3,COMPANIES_ADMIN:7,INSTITUTIONS:4,INSTITUTIONS_ADMIN:8},j=e=>{var s,i,c,j,f;let{adminProfileData:A,companiesProfileData:w,instituteProfileData:P}=e;const b=(0,r.wA)(),S=(0,r.d4)(e=>e.global),M=(0,r.d4)(e=>e.work),T=(0,t.Kj)((null===M||void 0===M||null===(s=M.getAllIndustryData)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.data)||[]),D=Number((0,I.Ri)("COMPANY_ROLE")),[E,C]=(0,l.useState)(!1),[O,U]=(0,l.useState)(!1),[R,F]=(0,l.useState)(!1),k=(0,t.Kj)((null===S||void 0===S||null===(c=S.countriesData)||void 0===c||null===(j=c.data)||void 0===j?void 0:j.data)||[]),{formData:q,setFormData:X,handleChange:z,resetForm:L,errors:$,setErrors:J}=(0,n.A)([g.SUPER_ADMIN,g.ADMIN].includes(D)?{currentPassword:"",newPassword:"",confirmPassword:"",first_name:"",last_name:"",email:"",profile_picture_url:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_number:""}:[g.COMPANIES,g.COMPANIES_ADMIN].includes(D)?{currentPassword:"",newPassword:"",confirmPassword:"",name:"",display_name:"",email:"",logo_url:"",website_url:"",description:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_no:"",company_size:"",company_type:"",specialties:[],founded_year:""}:[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?{currentPassword:"",newPassword:"",confirmPassword:"",name:"",display_name:"",email:"",logo_url:"",website_url:"",description:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},phone_no:"",institution_type_id:"",specialties:[],founded_year:""}:{}),[W,H]=(0,l.useState)(!1),V=()=>{[g.SUPER_ADMIN,g.ADMIN].includes(D)&&b((0,d.Tb)()),[g.COMPANIES,g.COMPANIES_ADMIN].includes(D)&&b((0,d.pu)()),[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)&&b((0,d.qM)())};(0,l.useEffect)(()=>{u().init({duration:1e3,easing:"ease-in-out",once:!0,mirror:!1}),V(),b((0,m.Xr)())},[]),(0,l.useEffect)(()=>{A&&([g.SUPER_ADMIN,g.ADMIN].includes(D)?X(e=>(0,a.A)((0,a.A)({},e),{},{first_name:(null===A||void 0===A?void 0:A.first_name)||"",last_name:(null===A||void 0===A?void 0:A.last_name)||"",email:(null===A||void 0===A?void 0:A.email)||"",profile_picture_url:(null===A||void 0===A?void 0:A.profile_picture_url)||"",country_code:(null===A||void 0===A?void 0:A.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_number:(null===A||void 0===A?void 0:A.phone_number)||""})):[g.COMPANIES,g.COMPANIES_ADMIN].includes(D)?X(e=>(0,a.A)((0,a.A)({},e),{},{name:(null===w||void 0===w?void 0:w.name)||"",display_name:(null===w||void 0===w?void 0:w.display_name)||"",email:(null===w||void 0===w?void 0:w.email)||"",logo_url:(null===w||void 0===w?void 0:w.logo_url)||"",website_url:(null===w||void 0===w?void 0:w.website_url)||"",description:(null===w||void 0===w?void 0:w.description)||"",country_code:(null===w||void 0===w?void 0:w.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_no:(null===w||void 0===w?void 0:w.phone_no)||"",company_size:(null===w||void 0===w?void 0:w.company_size)||"",company_type:(null===w||void 0===w?void 0:w.company_type)||"",specialties:(null===w||void 0===w?void 0:w.specialties)||[],founded_year:(null===w||void 0===w?void 0:w.founded_year)||""})):[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)&&X(e=>{var s;return(0,a.A)((0,a.A)({},e),{},{name:(null===P||void 0===P?void 0:P.name)||"",display_name:(null===P||void 0===P?void 0:P.display_name)||"",email:(null===P||void 0===P?void 0:P.email)||"",logo_url:(null===P||void 0===P?void 0:P.logo_url)||"",website_url:(null===P||void 0===P?void 0:P.website_url)||"",description:(null===P||void 0===P?void 0:P.description)||"",country_code:(null===P||void 0===P?void 0:P.country_code)||{name:"",dial_code:"",short_name:"",emoji:""},phone_no:(null===P||void 0===P?void 0:P.phone_no)||"",institution_type_id:(null===P||void 0===P||null===(s=P.institution_type_id)||void 0===s?void 0:s._id)||"",specialties:(null===P||void 0===P?void 0:P.specialties)||[],founded_year:(null===P||void 0===P?void 0:P.founded_year)||""})}))},[A,P,w]);const B=()=>{C(!0)},G=()=>{U(!0)},K=()=>{const e=[g.SUPER_ADMIN,g.ADMIN,g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"profile_picture_url":"logo_url",s=q[e]||(null===A||void 0===A?void 0:A[e])||(null===w||void 0===w?void 0:w[e])||(null===P||void 0===P?void 0:P[e])||"";return(0,y.jsxs)("div",{className:"relative group",children:[(0,y.jsxs)("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white/80 shadow-lg bg-white relative overflow-hidden cursor-pointer transition-all duration-300 hover:scale-105",children:[R&&(0,y.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:(0,y.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,y.jsx)(v.PoE,{className:"w-6 h-6 text-white"})}),(0,y.jsx)("img",{src:s||"https://images.unsplash.com/photo-1567446537708-ac4aa75c9c28?w=500",className:"w-full h-full object-cover",alt:"Profile",onError:e=>{e.target.src="https://images.unsplash.com/photo-1567446537708-ac4aa75c9c28?w=500"}})]}),(0,y.jsx)("input",{type:"file",id:"imageUpload-".concat(e),accept:"image/*",onChange:s=>async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"profile_picture_url";if(!e)return;if(e.size>2097152)return void o.oR.error("File size must be less than 2MB");if(["image/jpg","image/jpeg","image/png"].includes(e.type))try{F(!0);const i=await(0,t.pv)(e,"PROFILES");o.oR.success(null===i||void 0===i?void 0:i.message),X(e=>{var l;return(0,a.A)((0,a.A)({},e),{},{[s]:null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.imageURL})})}catch(i){o.oR.error(i||"Failed to upload image")}finally{F(!1)}else o.oR.error("Only image files (JPEG, PNG) are allowed")}(s.target.files[0],e),className:"hidden"})]})};return(0,y.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,y.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,y.jsxs)("div",{className:"text-center mb-8","data-aos":"fade-down",children:[(0,y.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[(e=>{switch(e){case g.SUPER_ADMIN:return"Super Admin";case g.ADMIN:return"Admin";case g.COMPANIES:case g.COMPANIES_ADMIN:return"Company";case g.INSTITUTIONS:case g.INSTITUTIONS_ADMIN:return"Institute";default:return"User"}})(D)," Profile"]}),(0,y.jsx)("p",{className:"text-gray-600",children:"Manage your account information and security"})]}),(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,y.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 relative",children:[(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),(0,y.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center",children:[K(),(0,y.jsx)("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:(()=>{if([g.SUPER_ADMIN,g.ADMIN,g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D))return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[(null===A||void 0===A?void 0:A.first_name)||(null===w||void 0===w?void 0:w.name)||(null===P||void 0===P?void 0:P.name)||"N/A"," ",(null===A||void 0===A?void 0:A.last_name)||""]}),(0,y.jsx)("p",{className:"text-blue-100",children:(null===A||void 0===A?void 0:A.email)||(null===w||void 0===w?void 0:w.email)||(null===P||void 0===P?void 0:P.email)||"N/A"})]})})()})]})]}),(0,y.jsxs)("div",{className:"p-6",children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-100",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,y.jsx)(v.JXP,{className:"mr-2 text-blue-500"}),"Personal Information"]}),(0,y.jsxs)("button",{onClick:G,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,y.jsx)(v.WXf,{className:"mr-1"})," Edit"]})]}),(0,y.jsx)("div",{className:"space-y-3",children:(()=>{var e,s,i,a,l;return[g.SUPER_ADMIN,g.ADMIN].includes(D)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Full Name"}),(0,y.jsxs)("p",{className:"font-medium",children:[(null===A||void 0===A?void 0:A.first_name)||"N/A"," ",(null===A||void 0===A?void 0:A.last_name)||""]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.email)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,y.jsxs)("p",{className:"font-medium",children:["+",null===A||void 0===A||null===(e=A.country_code)||void 0===e?void 0:e.dial_code," ",(null===A||void 0===A?void 0:A.phone_number)||"N/A"]})]})]}):[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Company Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.name)||(null===w||void 0===w?void 0:w.name)||(null===P||void 0===P?void 0:P.name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Display Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.display_name)||(null===w||void 0===w?void 0:w.display_name)||(null===P||void 0===P?void 0:P.display_name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.email)||(null===w||void 0===w?void 0:w.email)||(null===P||void 0===P?void 0:P.email)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,y.jsxs)("p",{className:"font-medium",children:["+",(null===A||void 0===A||null===(s=A.country_code)||void 0===s?void 0:s.dial_code)||(null===w||void 0===w||null===(i=w.country_code)||void 0===i?void 0:i.dial_code)||(null===P||void 0===P||null===(a=P.country_code)||void 0===a?void 0:a.dial_code)," ",(null===A||void 0===A?void 0:A.phone_no)||(null===w||void 0===w?void 0:w.phone_no)||(null===P||void 0===P?void 0:P.phone_no)||"N/A"]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Website"}),(0,y.jsx)("p",{className:"font-medium",children:(null===A||void 0===A?void 0:A.website_url)||(null===w||void 0===w?void 0:w.website_url)||(null===P||void 0===P?void 0:P.website_url)||"N/A"})]})]}):[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Institute Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===P||void 0===P?void 0:P.name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Display Name"}),(0,y.jsx)("p",{className:"font-medium",children:(null===P||void 0===P?void 0:P.display_name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,y.jsx)("p",{className:"font-medium",children:(null===P||void 0===P?void 0:P.email)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Phone"}),(0,y.jsxs)("p",{className:"font-medium",children:["+",null===P||void 0===P||null===(l=P.country_code)||void 0===l?void 0:l.dial_code," ",(null===P||void 0===P?void 0:P.phone_no)||"N/A"]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Website"}),(0,y.jsx)("p",{className:"font-medium",children:(null===P||void 0===P?void 0:P.website_url)||"N/A"})]})]}):void 0})()})]}),(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-100",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,y.jsx)(v.F5$,{className:"mr-2 text-blue-500"}),"Account Security"]}),(0,y.jsxs)("button",{onClick:B,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,y.jsx)(v.WXf,{className:"mr-1"})," Change"]})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Password"}),(0,y.jsx)("p",{className:"font-medium",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Last Updated"}),(0,y.jsx)("p",{className:"font-medium",children:null!==A&&void 0!==A&&A.updatedAt?new Date(A.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Member Since"}),(0,y.jsx)("p",{className:"font-medium",children:null!==A&&void 0!==A&&A.createdAt?new Date(A.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]})]})]})]}),(0,y.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,y.jsxs)("button",{onClick:G,className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("div",{className:"p-2 bg-blue-100 rounded-full mr-3",children:(0,y.jsx)(v.JXP,{className:"text-blue-600"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-gray-800",children:"Edit Profile"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Update your personal information"})]})]}),(0,y.jsx)(v.WXf,{className:"text-gray-400"})]}),(0,y.jsxs)("button",{onClick:B,className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("div",{className:"p-2 bg-purple-100 rounded-full mr-3",children:(0,y.jsx)(v.F5$,{className:"text-purple-600"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-gray-800",children:"Change Password"}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"Update your security credentials"})]})]}),(0,y.jsx)(v.WXf,{className:"text-gray-400"})]})]})]})]})]}),(0,y.jsx)(h.A,{isOpen:E,title:"Change Password",onClose:()=>{C(!1),L(),J({})},children:(0,y.jsxs)("div",{className:"space-y-5",children:[(0,y.jsxs)("div",{className:"text-center mb-4",children:[(0,y.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-3",children:(0,y.jsx)(v.F5$,{className:"h-5 w-5 text-blue-600"})}),(0,y.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Update your password"}),(0,y.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Ensure your account is using a long, random password to stay secure."})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)(_.A,{label:"Current Password",value:q.currentPassword,onChange:e=>z("currentPassword",e.target.value),name:"currentPassword",placeholder:"Enter current password",error:null===$||void 0===$?void 0:$.currentPassword,icon:(0,y.jsx)(v.F5$,{className:"text-gray-400"})}),(0,y.jsx)(_.A,{label:"New Password",value:q.newPassword,onChange:e=>z("newPassword",e.target.value),name:"newPassword",placeholder:"Enter new password",error:null===$||void 0===$?void 0:$.newPassword,icon:(0,y.jsx)(v.F5$,{className:"text-gray-400"})}),(0,y.jsx)(_.A,{label:"Confirm New Password",value:q.confirmPassword,onChange:e=>z("confirmPassword",e.target.value),name:"confirmPassword",placeholder:"Confirm new password",error:null===$||void 0===$?void 0:$.confirmPassword,icon:(0,y.jsx)(v.YrT,{className:"text-gray-400"})})]}),(0,y.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,y.jsx)(N.A,{variant:"secondary",onClick:()=>{C(!1),L(),J({})},className:"px-4 py-2",children:"Cancel"}),(0,y.jsx)(N.A,{variant:"primary",onClick:async()=>{if((()=>{const e={};return q.currentPassword||(e.currentPassword="Current password is required"),q.newPassword?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(q.newPassword)||(e.newPassword="Password must be at least 8 characters long, include uppercase, lowercase, number, and special character"):e.newPassword="New password is required",q.confirmPassword?q.newPassword!==q.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Confirm password is required",J(e),0===Object.keys(e).length})())try{var e;let s;H(!0),[g.SUPER_ADMIN,g.ADMIN].includes(D)?s=await b((0,d.ds)({currentPassword:q.currentPassword,newPassword:q.newPassword,confirmPassword:q.confirmPassword})).unwrap():[g.COMPANIES,g.COMPANIES_ADMIN].includes(D)?s=await b((0,d.gX)({currentPassword:q.currentPassword,newPassword:q.newPassword,confirmPassword:q.confirmPassword})).unwrap():[g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)&&(s=await b((0,d.ez)({currentPassword:q.currentPassword,newPassword:q.newPassword,confirmPassword:q.confirmPassword})).unwrap()),o.oR.success((null===(e=s)||void 0===e?void 0:e.message)||"Password updated successfully"),V(),C(!1),L(),H(!1)}catch(s){o.oR.error(s||"Failed to update password"),H(!1)}else o.oR.error("Please fix the validation errors")},loading:W,className:"px-4 py-2",children:"Update Password"})]})]})}),(0,y.jsx)(h.A,{isOpen:O,title:"Edit Profile",onClose:()=>{U(!1),J({})},size:"lg",children:(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"flex flex-col items-center",children:[K(),(0,y.jsxs)("button",{onClick:()=>function(){const e="imageUpload-".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile_picture_url");document.getElementById(e).click()}([g.SUPER_ADMIN,g.ADMIN,g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"profile_picture_url":"logo_url"),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,y.jsx)(v.PoE,{className:"mr-1"})," Change photo"]})]}),[g.SUPER_ADMIN,g.ADMIN].includes(D)?(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"First Name",type:"text",value:q.first_name,onChange:e=>z("first_name",e.target.value),placeholder:"Enter first name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.first_name})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Last Name",type:"text",value:q.last_name,onChange:e=>z("last_name",e.target.value),placeholder:"Enter last name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.last_name})})]}):(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"Company Name":"Institute Name",type:"text",value:q.name,onChange:e=>z("name",e.target.value),placeholder:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"Enter company name":"Enter institute name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.name})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"Industry Name":"Institute Name",type:"text",value:q.industry,onChange:e=>z("industry",e.target.value),placeholder:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"Enter industry":"Enter institute industry",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.industry})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"Headquarters Name":"Institute Name",type:"text",value:q.headquarters,onChange:e=>z("headquarters",e.target.value),placeholder:[g.COMPANIES,g.COMPANIES_ADMIN,g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)?"Enter headquarters":"Enter institute headquarters",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.headquarters})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Display Name",type:"text",value:q.display_name,onChange:e=>z("display_name",e.target.value),placeholder:"Enter display name",icon:(0,y.jsx)(v.JXP,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.display_name})})]}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Email",type:"email",value:q.email,onChange:e=>z("email",e.target.value),placeholder:"Enter email address",icon:(0,y.jsx)(v.pHD,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.email})}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsx)("div",{children:(0,y.jsx)(p.A,{options:k,label:"Country",selectedOption:null===k||void 0===k?void 0:k.find(e=>{var s;return(null===e||void 0===e?void 0:e.label)===(null===q||void 0===q||null===(s=q.country_code)||void 0===s?void 0:s.name)}),onChange:e=>(e=>{X(s=>(0,a.A)((0,a.A)({},s),{},{country_code:{name:null===e||void 0===e?void 0:e.label,dial_code:null===e||void 0===e?void 0:e.dial_code,short_name:null===e||void 0===e?void 0:e.short_name,emoji:null===e||void 0===e?void 0:e.emoji}}))})(e),error:null===$||void 0===$?void 0:$.country_code,icon:(0,y.jsx)(v.VeH,{className:"text-gray-400"})})}),(0,y.jsx)("div",{children:(0,y.jsx)(p.A,{options:T,label:"Industry",selectedOption:T.find(e=>e.value===q.industry_id),onChange:e=>z(e),error:null===$||void 0===$?void 0:$.country_code,icon:(0,y.jsx)(v.VeH,{className:"text-gray-400"})})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:[g.SUPER_ADMIN,g.ADMIN].includes(D)?"Phone Number":"Phone",type:"tel",value:[g.SUPER_ADMIN,g.ADMIN].includes(D)?q.phone_number:q.phone_no,onChange:e=>z([g.SUPER_ADMIN,g.ADMIN].includes(D)?"phone_number":"phone_no",e.target.value),placeholder:[g.SUPER_ADMIN,g.ADMIN].includes(D)?"Enter phone number":"Enter phone",icon:(0,y.jsx)(v.QFc,{className:"text-gray-400"}),error:[g.SUPER_ADMIN,g.ADMIN].includes(D)?null===$||void 0===$?void 0:$.phone_number:null===$||void 0===$?void 0:$.phone_no,prefix:(null===(f=q.country_code)||void 0===f?void 0:f.dial_code)||"+"})})]}),![g.SUPER_ADMIN,g.ADMIN].includes(D)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Website URL",type:"url",value:q.website_url,onChange:e=>z("website_url",e.target.value),placeholder:"Enter website URL",icon:(0,y.jsx)(v.VeH,{className:"text-gray-400"}),error:null===$||void 0===$?void 0:$.website_url})}),(0,y.jsx)("div",{children:(0,y.jsx)(x.A,{label:"Description",type:"textarea",value:q.description,onChange:e=>z("description",e.target.value),placeholder:"Enter description",error:null===$||void 0===$?void 0:$.description,rows:3})})]}),(0,y.jsx)("div",{children:(0,y.jsx)(N.A,{variant:"primary",onClick:async()=>{if((()=>{var e,s,i;const a={};var l,r,n,d;[g.SUPER_ADMIN,g.ADMIN].includes(D)?(null!==(l=q.first_name)&&void 0!==l&&l.trim()?q.first_name.trim().length<2&&(a.first_name="First name must be at least 2 characters"):a.first_name="First name is required",null!==(r=q.last_name)&&void 0!==r&&r.trim()?q.last_name.trim().length<2&&(a.last_name="Last name must be at least 2 characters"):a.last_name="Last name is required"):(null!==(n=q.name)&&void 0!==n&&n.trim()?q.name.trim().length<2&&(a.name="Name must be at least 2 characters"):a.name="Name is required",null!==(d=q.display_name)&&void 0!==d&&d.trim()||(a.display_name="Display name is required")),null!==(e=q.email)&&void 0!==e&&e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q.email)||(a.email="Please enter a valid email address"):a.email="Email is required";const o=[g.SUPER_ADMIN,g.ADMIN].includes(D)?"phone_number":"phone_no";return null!==(s=q[o])&&void 0!==s&&s.trim()?/^[0-9]{10,15}$/.test(q[o].replace(/\D/g,""))||(a[o]="Please enter a valid phone number (10-15 digits)"):a[o]="Phone number is required",null!==(i=q.country_code)&&void 0!==i&&i.name||(a.country_code="Country is required"),J(a),0===Object.keys(a).length})())try{var e;let s;if(H(!0),[g.SUPER_ADMIN,g.ADMIN].includes(D)){const e={first_name:q.first_name.trim(),last_name:q.last_name.trim(),email:q.email.trim(),profile_picture_url:q.profile_picture_url,country_code:q.country_code,phone_number:q.phone_number.trim()};s=await b((0,d.r7)(e)).unwrap()}else if([g.COMPANIES,g.COMPANIES_ADMIN].includes(D)){const e={name:q.name.trim(),display_name:q.display_name.trim(),email:q.email.trim(),logo_url:q.logo_url,website_url:q.website_url.trim(),description:q.description.trim(),country_code:q.country_code,phone_no:q.phone_no.trim(),company_size:q.company_size,company_type:q.company_type,specialties:q.specialties,founded_year:q.founded_year,headquarters:q.headquarters,industry:q.industry};s=await b((0,d.sd)(e)).unwrap()}else if([g.INSTITUTIONS,g.INSTITUTIONS_ADMIN].includes(D)){const e={name:q.name.trim(),display_name:q.display_name.trim(),email:q.email.trim(),logo_url:q.logo_url,website_url:q.website_url.trim(),description:q.description.trim(),country_code:q.country_code,phone_no:q.phone_no.trim(),institution_type_id:q.institution_type_id,specialties:q.specialties,founded_year:q.founded_year};s=await b((0,d.I4)(e)).unwrap()}o.oR.success((null===(e=s)||void 0===e?void 0:e.message)||"Profile updated successfully"),V(),U(!1),H(!1)}catch(s){o.oR.error(s||"Failed to update profile"),H(!1)}else o.oR.error("Please fix the validation errors")},loading:W,className:"px-4 py-2",children:"Save Changes"})})]})})]})}}}]);
//# sourceMappingURL=604.47051b9a.chunk.js.map