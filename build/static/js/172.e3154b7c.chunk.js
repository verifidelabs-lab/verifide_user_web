"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[172],{2172:(e,l,t)=>{t.r(l),t.d(l,{default:()=>p});var o=t(5043),i=t(3003),a=t(9461),n=t(7540),s=t(9981),r=t(4272),d=t(579);const c=e=>{let{email:l,summary:t,follow:i,connection:a,profile_views:n,profile_picture_url:s,handleView:c,user:u,activeTab:v,handleFollowUnfollow:m}=e;const[p,x]=(0,o.useState)(!1),g=(()=>{var e;const t={skill:"skills",work:"experiences",education:"educations"};switch(v){case"user":const o=null===u||void 0===u?void 0:u.is_connected;return{title:"".concat((null===u||void 0===u?void 0:u.first_name)||""," ").concat((null===u||void 0===u?void 0:u.last_name)||"").trim()||(null===u||void 0===u?void 0:u.username)||"Unknown User",subtitle:l||(null===u||void 0===u?void 0:u.headline)||(null===u||void 0===u?void 0:u.display_name)||"No headline",description:"none"===(null===u||void 0===u?void 0:u.matchedType)?"No match available.":"".concat(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())}(null===u||void 0===u?void 0:u.matchedFirstValueName)," and ").concat(null===u||void 0===u?void 0:u.matchedCount," more ").concat(null!==(e=t[null===u||void 0===u?void 0:u.matchedType])&&void 0!==e?e:""," matched."),image:s||(null===u||void 0===u?void 0:u.profile_picture_url)||"https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png",stats:{first:{value:a||(null===u||void 0===u?void 0:u.connection_count)||0,label:"Connections"},second:{value:i||(null===u||void 0===u?void 0:u.follower_count)||0,label:"Followers"},third:{value:n||(null===u||void 0===u?void 0:u.profile_views)||0,label:"Views"}},buttons:[o?"Connected":"Connect","Profile"],isConnected:o};case"companies":const d=null===u||void 0===u?void 0:u.is_following;return{title:(null===u||void 0===u?void 0:u.name)||(null===u||void 0===u?void 0:u.display_name)||"Unknown Company",subtitle:(null===u||void 0===u?void 0:u.display_name)||"Company",description:(null===u||void 0===u?void 0:u.description)||"No description available",image:(null===u||void 0===u?void 0:u.logo_url)||"https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png",errorImage:"/Img/Profile/Frame.png",stats:{first:{value:(null===u||void 0===u?void 0:u.employee_count)||0,label:"Employees"},second:{value:(null===u||void 0===u?void 0:u.follower_count)||0,label:"Followers"},third:{value:(0,r.D3)(null===u||void 0===u?void 0:u.founded_year)||"N/A",label:"Founded"}},buttons:[d?"Following":"Follow","Visit"],isConnected:d};case"institutions":const c=null===u||void 0===u?void 0:u.is_following;return{title:(null===u||void 0===u?void 0:u.name)||(null===u||void 0===u?void 0:u.display_name)||"Unknown Institution",subtitle:(null===u||void 0===u?void 0:u.display_name)||"Institution",description:(null===u||void 0===u?void 0:u.description)||"No description available",image:(null===u||void 0===u?void 0:u.logo_url)||"/Img/Profile/Frame.png",errorImage:"/Img/Profile/Frame.png",stats:{first:{value:(null===u||void 0===u?void 0:u.employee_count)||0,label:"Staff"},second:{value:(null===u||void 0===u?void 0:u.follower_count)||0,label:"Followers"},third:{value:(0,r.D3)(null===u||void 0===u?void 0:u.founded_year)||"N/A",label:"Founded"}},buttons:[c?"Following":"Follow","Visit"],isConnected:c};default:return{title:"Unknown",subtitle:"Unknown",description:"No data available",image:"https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png",stats:{first:{value:0,label:"N/A"},second:{value:0,label:"N/A"},third:{value:0,label:"N/A"}},buttons:["Follow","Contact"],isConnected:!1}}})();return(0,d.jsxs)("div",{className:"w-80 bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[(0,d.jsxs)("div",{className:"relative h-[170px]",children:[(0,d.jsx)("img",{src:g.image,alt:g.title,onError:e=>e.currentTarget.src=g.errorImage,className:"w-full h-full object-cover"}),(null===u||void 0===u?void 0:u.is_verified)&&(0,d.jsx)("span",{className:"absolute top-3 right-3 bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:"\u2714 Verified"})]}),(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:g.title}),(0,d.jsx)("p",{className:"text-sm text-gray-500 truncate",children:g.subtitle}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:g.description}),(0,d.jsx)("div",{className:"flex justify-between mt-5",children:Object.values(g.stats).map((e,l)=>(0,d.jsx)("div",{className:"text-center",children:"N/A"===e.value?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-lg font-bold text-blue-600",children:e.value}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:e.label})]})},l))}),(0,d.jsxs)("div",{className:"flex gap-3 mt-5",children:[(0,d.jsx)("button",{className:"flex-1 py-2 px-4 rounded-lg text-sm font-semibold ".concat(g.isConnected?"bg-green-500 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"),onClick:()=>!g.isConnected&&(async e=>{x(!0);try{await m(e)}catch(l){console.error("Error in follow/unfollow:",l)}finally{x(!1)}})(u),disabled:p||g.isConnected,children:p?"Connecting...":g.buttons[0]}),(0,d.jsx)("button",{className:"flex-1 py-2 px-4 rounded-lg text-sm font-semibold border border-gray-300 hover:bg-gray-100",onClick:()=>c(u),children:g.buttons[1]})]})]})]})};var u=t(6328),v=t(9804),m=t(5394);const p=()=>{var e;const l=(0,i.wA)(),t=(0,i.d4)(e=>e.user),{suggestedUserData:{data:r},loading:p,error:x}=t||{},[g,b]=(0,o.useState)(1),f=(0,s.Zp)(),[h,y]=(0,o.useState)(!1),[w,_]=(0,o.useState)(""),[j,N]=(0,s.ok)(),[C,k]=(0,o.useState)(),F=null!==r&&void 0!==r&&r.data?r.data.list?r.data:Array.isArray(r.data)?{list:r.data,total:r.data.length}:{list:[],total:0}:{list:[],total:0},A=(null===F||void 0===F?void 0:F.list)||[];(0,o.useEffect)(()=>{w&&(y(!0),l((0,a.FL)({page:g,size:8,type:w,keyWord:C})).unwrap().finally(()=>y(!1)))},[l,w,g,C]);const I=async e=>{switch(w){case"user":f("/user/profile/".concat((null===e||void 0===e?void 0:e.first_name)||(null===e||void 0===e?void 0:e.username),"/").concat(null===e||void 0===e?void 0:e._id));break;case"companies":null!==e&&void 0!==e&&e._id?f("/user/view-details/companies/".concat(e._id)):(console.warn("Missing ID in data:",e),u.oR.error("Cannot view this company"));break;case"institutions":null!==e&&void 0!==e&&e._id?f("/user/view-details/institutions/".concat(e._id)):(console.warn("Missing ID in data:",e),u.oR.error("Cannot view this institution"))}},P=[{key:"user",label:"Users",icon:"\ud83d\udc64"},{key:"companies",label:"Companies",icon:"\ud83c\udfe2"},{key:"institutions",label:"Institutions",icon:"\ud83c\udf93"}],U=async e=>{switch(w){case"user":try{const t=await l((0,a.Gx)({connection_user_id:null===e||void 0===e?void 0:e._id})).unwrap();u.oR.success(null===t||void 0===t?void 0:t.message),l((0,a.FL)({page:1,size:8,type:w}))}catch(x){u.oR.error(x)}break;case"companies":case"institutions":await l((0,a.gU)({target_id:null===e||void 0===e?void 0:e._id,target_model:null===e||void 0===e?void 0:e.user_path})).unwrap(),l((0,a.FL)({page:1,size:8,type:w}))}};return(0,o.useEffect)(()=>{const e=j.get("tab");e?_(e):(_("user"),N({tab:"user"}))},[]),(0,d.jsxs)("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,d.jsxs)("div",{className:"flex md:flex-row flex-col justify-between place-items-center",children:[(0,d.jsx)("nav",{className:"flex justify-start items-center gap-2 mb-2 text-sm",children:(0,d.jsxs)("form",{className:"relative w-full sm:w-80",children:[(0,d.jsx)(v.iyI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{type:"text",placeholder:"Search connections or followings...",value:C,onChange:e=>k(e.target.value),className:"pl-10 pr-10 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none w-full shadow-sm"}),C&&(0,d.jsx)("button",{type:"button",onClick:()=>k(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,d.jsx)(m.$8F,{size:18})})]})}),(0,d.jsx)("div",{className:" bg-[#F9FAFB] border border-gray-200 rounded-xl p-1 flex",children:P.map(e=>(0,d.jsx)("button",{onClick:()=>{_(e.key),b(1),N({tab:e.key}),k("")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300 flex items-center justify-center gap-2\n        ".concat(w===e.key?"bg-white text-[#2563EB] shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:(0,d.jsx)("span",{children:e.label})},e.key))})]}),(0,d.jsx)("div",{className:"mb-8 flex md:flex-row flex-col justify-between items-center"}),h?(0,d.jsx)("div",{className:"flex justify-center py-8",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-2 justify-items-center",children:A.map(e=>(0,d.jsx)(c,{profile_picture_url:null===e||void 0===e?void 0:e.profile_picture_url,email:(null===e||void 0===e?void 0:e.headline)||(null===e||void 0===e?void 0:e.display_name),user:e,handleView:I,summary:(null===e||void 0===e?void 0:e.summary)||(null===e||void 0===e?void 0:e.description),follow:null===e||void 0===e?void 0:e.follower_count,connection:null===e||void 0===e?void 0:e.connection_count,profile_views:null===e||void 0===e?void 0:e.profile_views,activeTab:w,handleFollowUnfollow:U},e._id))}),!p&&!x&&0===A.length&&(0,d.jsxs)("div",{className:"text-center py-16",children:[(0,d.jsxs)("div",{className:"text-6xl mb-4",children:["user"===w&&"\ud83d\udc65","companies"===w&&"\ud83c\udfe2","institutions"===w&&"\ud83c\udf93"]}),(0,d.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["No ",null===(e=P.find(e=>e.key===w))||void 0===e?void 0:e.label.toLowerCase()," ","found"]}),(0,d.jsxs)("p",{className:"text-gray-500 max-w-md mx-auto",children:["user"===w&&"No user suggestions available right now. Check back later for connection opportunities.","companies"===w&&"No companies to explore at the moment. New companies are added regularly.","institutions"===w&&"No institutions available currently. Educational partners are being added soon."]})]}),!p&&!x&&(null===F||void 0===F?void 0:F.total)>8&&(0,d.jsx)("div",{className:"mt-12 flex justify-center",children:(0,d.jsx)(n.A,{totalPages:Math.ceil(F.total/8),currentPage:g,onPageChange:e=>{b(e)}})})]})}},7540:(e,l,t)=>{t.d(l,{A:()=>s});var o=t(5043),i=t(9698),a=t(579);const n=e=>{let{totalPages:l,currentPage:t,onPageChange:o}=e;const n=e=>{e>=1&&e<=l&&o(e)},s=(()=>{const e=[];e.push(1);let o=Math.max(2,t-1),i=Math.min(l-1,t+1);t>3&&e.push("...");for(let t=o;t<=i;t++)t>1&&t<l&&e.push(t);return t<l-2&&e.push("..."),l>1&&e.push(l),e})();return(0,a.jsxs)("div",{className:"flex items-center justify-between w-full max-w-full mx-auto my-4 px-4",children:[(0,a.jsx)("button",{className:"flex items-center justify-center w-10 h-10 rounded-full border border-gray-300 ".concat(1===t?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"),onClick:()=>n(t-1),disabled:1===t,"aria-label":"Previous page",children:(0,a.jsx)(i.i84,{className:"text-gray-600"})}),(0,a.jsx)("div",{className:"flex items-center space-x-1 mx-4",children:s.map((e,l)=>(0,a.jsx)("button",{className:"flex items-center justify-center w-10 h-10 rounded-full border ".concat("..."===e?"border-transparent cursor-default":t===e?"border-blue-500 bg-blue-500 text-white":"border-gray-300 hover:bg-gray-100"),onClick:()=>n(e),disabled:"..."===e,"aria-label":"..."===e?"More pages":"Page ".concat(e),children:e},l))}),(0,a.jsx)("button",{className:"flex items-center justify-center w-10 h-10 rounded-full border border-gray-300 ".concat(t===l?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"),onClick:()=>n(t+1),disabled:t===l,"aria-label":"Next page",children:(0,a.jsx)(i.xCi,{className:"text-gray-600"})})]})},s=(0,o.memo)(n)}}]);
//# sourceMappingURL=172.e3154b7c.chunk.js.map