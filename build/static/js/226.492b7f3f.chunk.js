"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[226],{616:(e,l,i)=>{i.r(l),i.d(l,{default:()=>te});var a=i(3986),s=i(9379),t=i(5043),r=i(3003),d=i(6328),n=i(2485),o=(i(9686),i(4272)),u=i(5937),c=i(820),m=i(5200),v=i(579);const p=e=>{let{label:l="Open to work",options:i,onSelect:a,value:s}=e;const[r,d]=(0,t.useState)(!1);return(0,v.jsxs)("div",{className:"relative inline-block text-left",children:[(0,v.jsxs)("button",{onClick:()=>d(e=>!e),className:"flex items-center justify-between xl:w-[170px] lg:w-40 w-36 px-3 py-2 md:text-sm text-xs rounded-xl font-medium glassy-card glassy-text-primary border border-[var(--border-color)] shadow-sm hover:glassy-hover transition-all duration-300 ease-out",children:[(0,v.jsx)("span",{className:"truncate",children:s?s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):l}),(0,v.jsx)(m.fK4,{className:"text-[var(--text-secondary)] transition-transform duration-300 ".concat(r?"rotate-180":"")})]}),r&&(0,v.jsx)("div",{className:"absolute right-0 mt-2 md:w-[170px] w-40 glassy-card-header rounded-2xl border-[var(--border-color)] shadow-xl z-50 overflow-hidden animate-fade-in backdrop-blur-md",children:(0,v.jsx)("ul",{className:"py-1 text-sm",children:i.length>0?i.map(e=>(0,v.jsx)("li",{onClick:()=>(e=>{a(e),d(!1)})(e),className:"px-4 py-2 glassy-text-primary cursor-pointer  hover:bg-[var(--bg-card)] transition-all duration-200 md:text-sm text-xs",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e)):(0,v.jsx)("li",{className:"px-4 py-2 text-sm glassy-text-secondary",children:"No options found"})})})]})};var f=i(5413),g=i(9461),h=i(9804),x=i(184),_=i(9981);const y=e=>{let{isOpen:l,onClose:i,title:a,userData:s}=e;const t=(0,_.Zp)();return l?(0,v.jsx)("div",{className:"!fixed inset-0 z-50 flex items-center justify-center glassy-card",children:(0,v.jsxs)("div",{className:"w-full max-w-md p-4 mx-auto glassy-card border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsx)("h2",{className:"md:text-sm text-xs font-semibold tracking-wide glassy-text-primary uppercase",children:a}),(0,v.jsx)(f.A,{onClick:i,variant:"primary",rounded:"full",children:"Back",icon:(0,v.jsx)(h.VKQ,{className:"rotate-45"}),className:"hover:scale-105 transition-transform duration-200"})]}),(0,v.jsx)("div",{className:"space-y-4",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsxs)("div",{className:"w-full p-4 mx-auto glassy-card border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 flex flex-col items-center justify-center cursor-pointer",onClick:()=>t("/user/resume/".concat(s.username)),children:[(0,v.jsx)(x.t69,{className:"text-2xl glassy-text-secondary mb-2"}),(0,v.jsx)("span",{className:"text-sm font-medium glassy-text-primary",children:"Resume"})]}),(0,v.jsxs)("div",{className:"w-full p-4 mx-auto glassy-card border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 flex flex-col items-center justify-center cursor-pointer",onClick:()=>t("/user/profile/".concat(s.username,"/").concat(null===s||void 0===s?void 0:s.userId)),children:[(0,v.jsx)(x.x$1,{className:"text-2xl glassy-text-secondary mb-2"}),(0,v.jsx)("span",{className:"text-sm font-medium glassy-text-primary",children:"Profile"})]})]})})]})}):null};var b=i(3190),j=i(9797);const w=e=>{var l,i,a,s,m,p,f,g,h,x,y,w,N,k,C,A,S,D,q,R;let{data:I,frameStatus:E,handleSelection:F}=e;const{setProfileImage:L}=(0,c.c)(),P=(0,r.wA)(),O=(0,_.Zp)(),[U,B]=(0,t.useState)(null),[T,z]=(0,t.useState)(null),[M,G]=(0,t.useState)(!1),[V,W]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!1),$=(0,t.useRef)(null),Y=(0,t.useRef)(null),[Q,X]=(0,t.useState)(!1),H=(0,t.useCallback)(e=>{const l=e.target.files[0];if(!l)return void d.oR.error("Please select a file");if(!["image/jpeg","image/png"].includes(l.type))return void d.oR.error("Only image files (JPEG, PNG,JPG) are allowed");const i=new FileReader;i.onload=()=>{B(i.result),G(!0)},i.onerror=()=>{d.oR.error("Failed to read file")},i.readAsDataURL(l)},[]),Z=(0,t.useCallback)(async()=>{if(Y.current){K(!0);try{const e=Y.current.cropper.getCroppedCanvas({width:300,height:300,fillColor:"#fff",imageSmoothingEnabled:!0,imageSmoothingQuality:"high"});if(!e)throw new Error("Cropping failed");e.toBlob(async e=>{try{var l;const i=await(0,o.pv)(e,"PROFILES");if(null===i||void 0===i||null===(l=i.data)||void 0===l||!l.imageURL)throw new Error("Upload failed");z(i.data.imageURL),P((0,u.eH)(i.data.imageURL)),L(i.data.imageURL),await P((0,u.Q8)({profile_picture_url:i.data.imageURL})).unwrap(),await P((0,u.E$)()).unwrap(),d.oR.success("Profile image updated successfully")}catch(i){d.oR.error(i||"Failed to upload image")}finally{K(!1),G(!1)}},"image/jpeg",.92)}catch(e){d.oR.error("Failed to crop image"),K(!1)}}},[P]);return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{}),(0,v.jsx)("input",{type:"file",ref:$,onChange:H,accept:"image/jpeg,image/png",style:{display:"none"}}),M&&(0,v.jsx)("div",{className:"!fixed inset-0 z-50 flex items-center justify-center   px-4 sm:px-6",children:(0,v.jsxs)("div",{className:"   p-4 sm:p-6 rounded-xl w-full max-w-md sm:max-w-lg md:max-w-xl h-[80vh] overflow-hidden flex flex-col",children:[(0,v.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:glassy-text-primary",children:"Crop Profile Image"}),(0,v.jsx)("div",{className:"flex-1 mb-4 overflow-hidden rounded-lg",children:(0,v.jsx)(n.A,{src:U,className:"h-full w-full",initialAspectRatio:1,guides:!0,ref:Y,viewMode:1,minCropBoxHeight:100,minCropBoxWidth:100,responsive:!0,autoCropArea:1,checkOrientation:!1})}),(0,v.jsxs)("div",{className:"flex justify-end space-x-2 mt-auto",children:[(0,v.jsx)("button",{onClick:()=>G(!1),className:"px-4 py-2 glassy-button  rounded-md transition",disabled:J,children:"Cancel"}),(0,v.jsx)("button",{onClick:Z,className:"px-4 py-2 glassy-button rounded-md flex items-center justify-center transition disabled:opacity-50",disabled:J,children:J?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 glassy-text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,v.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,v.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Crop & Save"})]})]})}),(0,v.jsx)("div",{className:"relative flex items-start justify-between mb-6",children:(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-1 sm:gap-5 justify-center",children:[(0,v.jsxs)("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 cursor-pointer flex-shrink-0",onClick:()=>{$.current.click()},children:[(0,v.jsxs)("svg",{className:"absolute w-full h-full",children:[(0,v.jsx)("circle",{className:"text-gray-700",strokeWidth:"4",stroke:"currentColor",fill:"transparent",r:"36",cx:"50%",cy:"50%"}),(0,v.jsx)("circle",{stroke:"url(#progressGradient)",strokeWidth:"4",strokeDasharray:2*Math.PI*36,strokeDashoffset:2*Math.PI*36*(1-((null===I||void 0===I||null===(l=I.personalInfo)||void 0===l?void 0:l.profile_completion_percentage)||0)/100),strokeLinecap:"round",fill:"transparent",r:"36",cx:"50%",cy:"50%",className:"transition-all duration-700"}),(0,v.jsx)("defs",{children:(0,v.jsxs)("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,v.jsx)("stop",{offset:"0%",stopColor:"#0066FF"}),(0,v.jsx)("stop",{offset:"50.96%",stopColor:"#217AFF"}),(0,v.jsx)("stop",{offset:"100%",stopColor:"#A1BEFF"})]})})]}),(0,v.jsx)("img",{src:T||(null===I||void 0===I||null===(i=I.personalInfo)||void 0===i?void 0:i.profile_picture_url)||"/0684456b-aa2b-4631-86f7-93ceaf33303c.png",alt:"Profile",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-14 h-14 sm:w-16 sm:h-16    object-cover rounded-full border-2 border-white/30",onError:()=>{W(!0)}}),(0,v.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xs sm:text-sm md:text-base font-semibold text-white",children:"".concat((null===I||void 0===I||null===(a=I.personalInfo)||void 0===a?void 0:a.profile_completion_percentage)||0,"%")})]}),(0,v.jsxs)("div",{className:"text-center sm:text-left",children:[(0,v.jsx)("h2",{className:"font-semibold text-base sm:text-lg md:text-xl md:mt-4",children:"".concat((null===I||void 0===I||null===(s=I.personalInfo)||void 0===s?void 0:s.first_name)||""," ").concat((null===I||void 0===I||null===(m=I.personalInfo)||void 0===m?void 0:m.last_name)||"")}),(0,v.jsxs)("p",{className:"text-xs sm:text-sm md:text-base glassy-text-primary/80",children:[(null===I||void 0===I||null===(p=I.personalInfo)||void 0===p?void 0:p.headline)||"NA"," |"," ",(null===I||void 0===I||null===(f=I.personalInfo)||void 0===f||null===(g=f.address)||void 0===g||null===(h=g.city)||void 0===h?void 0:h.name)||"N/A",","," ",(null===I||void 0===I||null===(x=I.personalInfo)||void 0===x||null===(y=x.address)||void 0===y||null===(w=y.state)||void 0===w?void 0:w.name)||"N/A"]})]})]})}),(0,v.jsxs)("div",{className:"flex items-start gap-3 ".concat(null!==I&&void 0!==I&&null!==(N=I.latestCompany)&&void 0!==N&&N.profileName?"cursor-default":"cursor-pointer"),onClick:()=>{var e;null!==I&&void 0!==I&&null!==(e=I.latestCompany)&&void 0!==e&&e.profileName||F("experience")},children:[(0,v.jsx)("div",{className:"p-2 bg-white/10 rounded-lg",children:(0,v.jsx)(b.A,{className:"w-5 h-5"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"font-medium",children:(null===I||void 0===I||null===(k=I.latestCompany)||void 0===k?void 0:k.profileName)||"Add your latest work experience"}),(0,v.jsx)("p",{className:"text-sm text-white/70",children:(null===I||void 0===I||null===(C=I.latestCompany)||void 0===C?void 0:C.companyName)||"Go to Work Experience section below to add Experience Details"})]})]}),(0,v.jsxs)("div",{className:"flex items-start gap-3 ".concat(null!==I&&void 0!==I&&null!==(A=I.latestEducation)&&void 0!==A&&A.institution?"cursor-default":"cursor-pointer"),onClick:()=>{var e;null!==I&&void 0!==I&&null!==(e=I.latestEducation)&&void 0!==e&&e.institution||F("education")},children:[(0,v.jsx)("div",{className:"p-2 bg-white/10 rounded-lg",children:(0,v.jsx)(j.A,{className:"w-5 h-5"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"font-medium",children:(null===I||void 0===I||null===(S=I.latestEducation)||void 0===S?void 0:S.institution)||"Add your latest education details"}),(0,v.jsx)("p",{className:"text-sm text-white/70",children:(null===I||void 0===I||null===(D=I.latestEducation)||void 0===D?void 0:D.field_of_studies)||"Go to Education section below to add Education Details."})]})]}),(0,v.jsxs)("div",{className:"relative group",children:[(0,v.jsx)("div",{onClick:()=>O("/user/verification?tab=verified"),className:"relative flex items-center justify-between mt-4 cursor-pointer transition-all duration-200   rounded-lg hover:bg-blue-500/10",children:(0,v.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,v.jsx)("span",{className:"text-5xl font-bold",children:(null===I||void 0===I||null===(q=I.topSkills)||void 0===q||null===(R=q.data)||void 0===R?void 0:R.length)||0}),(0,v.jsx)("span",{className:"text-lg glassy-text-primary/70",children:"Verified Skills"})]})}),(0,v.jsx)("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-sm bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:"Click to view verified skills"})]})]})};var N=i(1008),k=i(391),C=i(8214),A=i(9442),S=i(130),D=i(8155),q=i(6720),R=i(4129);const I=e=>{var l,i,a;let{formData:r,error:n,isExtended:o,setIsExtended:u,setFormData:c,stateList:m,citiesList:p,loading:g,handleChange:x,countryList:_,handleSelectChange:y,handleSubmit:b,setErrors:j}=e;const w=e=>{const l=e.split(".");let i=r;for(const s of l){var a;if(i=null===(a=i)||void 0===a?void 0:a[s],void 0===i)return""}return i||""},N=function(e,l){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=l.split(".");let s=e;for(const r of a){var t;if(s=null===(t=s)||void 0===t?void 0:t[r],void 0===s)return i}return s||i},k={first_name:(0,t.useRef)(null),last_name:(0,t.useRef)(null),username:(0,t.useRef)(null),birth_date:(0,t.useRef)(null),gender:(0,t.useRef)(null),country:(0,t.useRef)(null),state:(0,t.useRef)(null),city:(0,t.useRef)(null),pin_code:(0,t.useRef)(null),address_line_1:(0,t.useRef)(null),headlineyy:(0,t.useRef)(null)};(0,t.useEffect)(()=>{if(n&&Object.keys(n).length>0){var e;const a=Object.keys(n)[0];var l,i;if(null!==(e=k[a])&&void 0!==e&&e.current)k[a].current.scrollIntoView({behavior:"smooth",block:"center"}),null===(l=(i=k[a].current).focus)||void 0===l||l.call(i)}},[n]);return(0,v.jsx)("div",{className:"flex flex-col gap-6 glassy-card border rounded-2xl",children:(0,v.jsxs)("div",{className:"p-8 rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold glassy-text-primary",children:"Personal Info"}),o?(0,v.jsx)(f.A,{variant:"primary",rounded:"full",icon:(0,v.jsx)(h.VKQ,{}),onClick:()=>u(e=>!e),children:"Back"}):(0,v.jsx)("div",{className:"flex items-center gap-3",children:(0,v.jsx)("button",{type:"button",onClick:()=>{u(!o)},className:"p-2 glassy-text-secondary hover:glassy-text-primary transition-colors","aria-label":o?"Collapse form":"Expand form",children:o?(0,v.jsx)("div",{}):(0,v.jsx)(h.VZ_,{className:"text-blue-500 ",size:22})})})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-4 items-end lg:grid-cols-4 md:grid-cols-2 pb-4",children:[(0,v.jsx)(C.A,{label:"First Name",ref:k.first_name,name:"first_name",placeholder:"John",value:w("first_name"),onChange:e=>x("first_name",e.target.value),className:"h-10 w-full",required:!0,error:null===n||void 0===n?void 0:n.first_name}),(0,v.jsx)(C.A,{label:"Last Name",ref:k.last_name,placeholder:"Doe",name:"last_name",value:w("last_name"),onChange:e=>x("last_name",e.target.value),className:"h-10 w-full",required:!0,error:null===n||void 0===n?void 0:n.last_name}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(C.A,{label:"User Name",ref:k.username,name:"username",placeholder:"Doe",value:w("username"),onChange:e=>x("username",e.target.value),className:"h-10 w-full",required:!0,error:null===n||void 0===n?void 0:n.username}),(0,v.jsxs)("span",{className:"text-blue-500 text-[10px] font-medium top-[75px] absolute flex items-center gap-1",children:[(0,v.jsx)("a",{href:"".concat(R.BG,"user-details/").concat(null===r||void 0===r?void 0:r.username),target:"_blank",rel:"noopener noreferrer",className:"underline",children:"".concat(R.BG).concat(null===r||void 0===r?void 0:r.username)}),(0,v.jsx)(q.y9h,{className:"cursor-pointer glassy-text-secondary hover:glassy-text-primary",onClick:async()=>{try{const e="".concat(R.BG,"user-details/").concat(null===r||void 0===r?void 0:r.username);await navigator.clipboard.writeText(e),d.oR.success("URL copied to clipboard!")}catch(e){console.error("Failed to copy: ",e)}}})]})]}),(0,v.jsx)(A.A,{label:"Date of birth",name:"birth_date",ref:k.birth_date,value:w("birth_date"),onChange:e=>x("birth_date",e.target.value),className:"h-10 w-full",type:"date",required:!0,error:null===n||void 0===n?void 0:n.birth_date,allowFutureDate:!1,dobRange:!0})]}),(0,v.jsxs)("div",{className:"overflow-hidden transition-all duration-500 ease-in-out ".concat(o?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:[(0,v.jsxs)("div",{className:"pt-6 ".concat(o?"block":"hidden"),children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-4 items-end lg:grid-cols-4 md:grid-cols-2 mt-6",children:[(0,v.jsx)(D.A,{label:"Gender",name:"gender",ref:k.gender,selectedOption:(null===S||void 0===S||null===(l=S.gender)||void 0===l?void 0:l.find(e=>e.value===w("gender")))||null,onChange:e=>{c(l=>(0,s.A)((0,s.A)({},l),{},{gender:(null===e||void 0===e?void 0:e.value)||""})),j({})},options:(null===S||void 0===S?void 0:S.gender)||[],required:!0,error:null===n||void 0===n?void 0:n.gender,isClearable:!1}),(0,v.jsx)(D.A,{label:"Country",name:"country",ref:k.country,selectedOption:(null===_||void 0===_?void 0:_.find(e=>e.label==N(r,"address.country.name")))||null,onChange:e=>y("country",e),options:_||[],required:!0,isClearable:!1,error:null===n||void 0===n?void 0:n["address.country.name"]}),(0,v.jsx)(D.A,{label:"State",name:"state",ref:k.state,selectedOption:(null===m||void 0===m?void 0:m.find(e=>e.label===N(r,"address.state.name")))||null,onChange:e=>y("state",e),options:m||[],required:!0,error:null===n||void 0===n?void 0:n["address.state.name"],isClearable:!1}),(0,v.jsx)(D.A,{label:"City",name:"city",ref:k.city,selectedOption:(null===p||void 0===p?void 0:p.find(e=>(null===e||void 0===e?void 0:e.label)===N(r,"address.city.name")))||null,onChange:e=>y("city",e),options:p||[],required:!0,error:null===n||void 0===n?void 0:n["address.city.name"],isClearable:!1})]}),(0,v.jsxs)("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-6",children:[(0,v.jsx)(C.A,{label:"Pin Code ",name:"pin_code",ref:k.pin_code,placeholder:"Enter PinCode",value:null===r||void 0===r||null===(i=r.address)||void 0===i?void 0:i.pin_code,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{address:(0,s.A)((0,s.A)({},l.address),{},{pin_code:e.target.value})})),className:"h-10 w-full",required:!0,error:null===n||void 0===n?void 0:n["address.pin_code"]}),(0,v.jsx)(C.A,{label:"Address ",ref:k.address_line_1,placeholder:"Enter Address",value:null===r||void 0===r||null===(a=r.address)||void 0===a?void 0:a.address_line_1,onChange:e=>c(l=>(0,s.A)((0,s.A)({},l),{},{address:(0,s.A)((0,s.A)({},l.address),{},{address_line_1:e.target.value})})),className:"h-10 w-full",name:"address_line_1",required:!0,error:null===n||void 0===n?void 0:n["address.address_line_1"],maxLength:"100"}),(0,v.jsx)(C.A,{label:"Headline",ref:k.headline,placeholder:"ex-Management Executive at Zara",value:w("headline"),onChange:e=>x("headline",e.target.value),className:"h-10 w-full",name:"headline",required:!0,error:null===n||void 0===n?void 0:n.headline,maxLength:100,minLength:5})]}),(0,v.jsxs)("div",{className:"mt-6",children:[(0,v.jsx)("label",{className:"block mb-2 text-sm font-medium glassy-text-primary",children:"Professional Bio *"}),(0,v.jsx)("textarea",{className:"w-full h-32 p-3 glassy-input rounded-lg",placeholder:"Write a short professional biography (min 10 and max 500)",value:w("summary"),onChange:e=>x("summary",e.target.value),maxLength:500}),(0,v.jsx)("p",{className:"text-red-500 text-xs",children:null===n||void 0===n?void 0:n.summary})]}),(0,v.jsxs)("div",{className:"flex items-center justify-end mt-6 gap-3",children:[(0,v.jsx)(f.A,{variant:"",onClick:()=>u(e=>!e),className:"glassy-button",children:"Close"}),(0,v.jsx)(f.A,{type:"button",onClick:b,loading:g,className:"glassy-button",children:"Update"})]})]}),(0,v.jsx)("div",{})]})]})})};var E=i(6833),F=i(3002),L=i(7196),P=i(7115),O=i.n(P);i(6473);const U=e=>{let{title:l="EDUCATION",buttonText:i="Add Education",emptyStateTitle:a="No Education Records",emptyStateDescription:s="Add your education history to enhance your profile",handleOpenModal:r,logo:d="/Img/Profile/Frame.png",type:n,data:o=[],onEdit:u,onDelete:c,loadingStates:m={deletingItems:{}}}=e;(0,t.useEffect)(()=>{O().init({duration:800,easing:"ease-in-out",once:!1})},[]);const p=o.length>0,g=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})};return(0,v.jsxs)("div",{className:"w-full p-4 mx-auto glassy-card border-[var(--border-color)] rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsx)("h2",{className:"md:text-sm text-xs font-semibold tracking-wide glassy-text-primary uppercase",children:l}),(0,v.jsx)(f.A,{onClick:r,children:i,icon:(0,v.jsx)(E.BlJ,{}),className:"glassy-button hover:scale-105 transition-transform duration-200"})]}),p?(0,v.jsx)("div",{className:"space-y-6",children:o.map((e,i)=>{var a,s,t,r,d,o,p;const f=(h=e._id,m.deletingItems[h]||!1);var h;return(0,v.jsx)("div",{className:"p-4 glassy-card border-[var(--border-color)] rounded-lg \n                        hover:shadow-md transition-all duration-300 ".concat(f?"opacity-70 pointer-events-none":""),"data-aos-delay":100*i,children:(0,v.jsxs)("div",{className:"group",children:[(0,v.jsxs)("div",{className:"w-full border-b border-[var(--border-color)] pb-6 space-y-2 group-hover:border-blue-400 transition-colors duration-300",children:[(0,v.jsxs)("div",{className:"flex justify-between items-start",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("h3",{className:"font-medium glassy-text-primary text-lg flex justify-start items-center gap-2",children:[(0,v.jsx)("span",{className:"bg-[var(--bg-button)] rounded-full md:w-8 md:h-8 w-6 h-6 flex items-center justify-center font-medium text-sm transition-colors duration-300",children:(0,v.jsx)(F.IIi,{className:"hover:scale-110 transition-transform duration-300"})}),(0,v.jsx)("span",{className:"hover:text-blue-600 transition-colors duration-300 md:text-base text-xs  break-words break-all capitalize",children:"EDUCATION"===l?null===(a=e.institution_id)||void 0===a?void 0:a.name:"EXPERIENCE"===l?null===e||void 0===e||null===(s=e.company_id)||void 0===s?void 0:s.name:null===e||void 0===e?void 0:e.name}),(0,v.jsx)("span",{children:"approved"===(null===e||void 0===e?void 0:e.status)&&(0,v.jsx)("img",{src:"/image (2).png",alt:"approved",className:"t"})})]}),(0,v.jsx)("p",{className:"glassy-text-secondary text-xs font-medium capitalize",children:null!==e&&void 0!==e&&e.issuing_organization?null===e||void 0===e?void 0:e.issuing_organization:"EDUCATION"===l?null===(t=e.degree_id)||void 0===t?void 0:t.name:"EXPERIENCE"===l?null===e||void 0===e||null===(r=e.industries_id)||void 0===r?void 0:r.name:null===e||void 0===e||null===(d=e.institution_id)||void 0===d?void 0:d.name})]}),(0,v.jsx)("div",{className:"lg:block hidden",children:(0,v.jsxs)("div",{className:"md:mt-3 mt-0 md:text-sm text-[10px] glassy-text-secondary capitalize rounded-2xl px-2 py-1 flex items-center gap-1 transition-colors duration-300 hover:text-blue-600 hover:bg-[var(--bg-button-hover)]",children:[(0,v.jsx)(F.F2o,{className:"hover:scale-110 transition-transform duration-300"}),null!==e&&void 0!==e&&e.issue_date?(0,v.jsx)("span",{children:g(e.issue_date)}):(0,v.jsxs)("span",{children:[g(e.start_date)," -"," ",e.currentlyStudying||e.currentlyWorking||null===e||void 0===e||!e.end_date||e.currently_available?"Present":g(e.end_date)]})]})})]}),(0,v.jsx)("div",{className:"mb-2 text-sm glassy-text-secondary hover:glassy-text-primary transition-colors duration-300 break-words break-all ",children:e.description||(null===e||void 0===e||null===(o=e.profile_role_id)||void 0===o?void 0:o.name)}),(null===(p=e.skills_acquired)||void 0===p?void 0:p.length)>0&&(0,v.jsx)(N.fL,{title:"Skills Acquired",skills:e.skills_acquired,limit:10,className:"hover:shadow-md transition-shadow duration-300"})]}),(0,v.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,v.jsx)("div",{className:"lg:opacity-0 opacity-100",children:(0,v.jsxs)("div",{className:"mt-0 lg:text-sm text-[10px] glassy-text-secondary capitalize rounded-2xl px-2 py-1 flex items-center gap-1 transition-colors duration-300 hover:text-blue-600 hover:bg-[var(--bg-button-hover)]",children:[(0,v.jsx)(F.F2o,{className:"hover:scale-110 transition-transform duration-300"}),null!==e&&void 0!==e&&e.issue_date?(0,v.jsx)("span",{children:g(e.issue_date)}):(0,v.jsxs)("span",{children:[g(e.start_date)," -"," ",e.currentlyStudying||e.currentlyWorking?"Present":g(e.end_date)]})]})}),!["requested","approved"].includes(null===e||void 0===e?void 0:e.status)&&(0,v.jsxs)("div",{className:"flex justify-end items-center gap-2 py-2",children:[(0,v.jsxs)("button",{onClick:()=>u(n,e),disabled:f,className:"flex items-center gap-1 transition-all duration-200 ".concat(f?"text-blue-400 cursor-not-allowed":"text-blue-600 hover:text-blue-800 hover:scale-105"),children:[(0,v.jsx)("span",{className:"relative rounded-full w-10 h-10 flex justify-center items-center transition-colors duration-300 ".concat(f?"glassy-card":"bg-[var(--bg-button)] hover:bg-[var(--bg-button-hover)]"),children:(0,v.jsx)(x.wwX,{className:"hover:scale-110 transition-transform duration-300"})}),"Edit"]}),(0,v.jsxs)("button",{onClick:()=>c(n,e._id),disabled:f,className:"flex items-center gap-1 transition-all duration-200 ml-2 ".concat(f?"text-red-400 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:scale-105"),children:[(0,v.jsxs)("span",{className:"relative rounded-full w-10 h-10 flex justify-center items-center transition-colors duration-300 ".concat(f?"bg-red-100":"bg-[var(--bg-button)] hover:bg-[var(--bg-button-hover)]"),children:[(0,v.jsx)(L.Ku6,{className:"hover:scale-110 transition-transform duration-300"}),f&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"absolute -left-2 w-4 h-5 bg-red-400 rounded-sm transform origin-right transition-all duration-500 animate-fileDelete",children:(0,v.jsx)("span",{className:"absolute top-0 left-0.5 w-3 h-0.5 bg-red-200"})}),(0,v.jsx)("span",{className:"absolute inset-0 rounded-full border-2 border-red-300 animate-ping opacity-0"})]})]}),f?(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full animate-bounce"}),(0,v.jsx)("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full animate-bounce delay-75"}),(0,v.jsx)("span",{className:"inline-block w-2 h-2 bg-red-400 rounded-full animate-bounce delay-150"})]}):"Delete"]})]})]})]})},e._id)})}):(0,v.jsxs)("div",{className:"px-6 py-5 text-center border-2 border-dashed rounded-lg glassy-card hover:glassy-button transition-all duration-300",children:[(0,v.jsx)("div",{className:"flex items-center justify-center mx-auto mb-4",children:(0,v.jsx)("img",{src:d,alt:"",className:"hover:scale-110 transition-transform duration-300"})}),(0,v.jsx)("h3",{className:"mb-2 text-[20px] font-semibold glassy-text-primary",children:a}),(0,v.jsx)("p",{className:"text-sm glassy-text-secondary",children:s})]})]})};var B=i(8414),T=i(8059),z=i(3537);const M=e=>{let{formData:l,collegeList:i,modalState:a,handleClose:r,errors:n,handleSelectChange:o,degreeList:u,fieldsOfStudyList:c,handleChange:m,skillsList:p,loading:f,onClose:g,onSubmit:h,setFormData:x,allSkills:_,isSkillSelected:y,handleSkillClick:b,selectedSkills:j,setAddModalState:w,setInputFields:k,isCreatedByUser:S,isCreatedByUserForFields:D,isCreatedByUserForIndustry:q}=e;const R={institution_id:(0,t.useRef)(null),degree_id:(0,t.useRef)(null),field_of_studies:(0,t.useRef)(null),start_date:(0,t.useRef)(null),end_date:(0,t.useRef)(null),description:(0,t.useRef)(null),skills_acquired:(0,t.useRef)(null),institution_id:(0,t.useRef)(null)};return(0,t.useEffect)(()=>{if(n&&Object.keys(n).length>0){var e;const a=Object.keys(n)[0];var l,i;if(null!==(e=R[a])&&void 0!==e&&e.current)R[a].current.scrollIntoView({behavior:"smooth",block:"center"}),null===(l=(i=R[a].current).focus)||void 0===l||l.call(i)}},[n]),(0,v.jsx)("div",{children:(0,v.jsx)(T.A,{isOpen:"education"===a.type,onClose:r,title:a.type,handleClose:g,handleSubmit:h,loading:f,children:(0,v.jsxs)("div",{className:"p-3 space-y-3 ",children:[(0,v.jsx)(z.A,{label:"College/ University Name",name:"institution_id",ref:R.institution_id,placeholder:"Select College/University",selectedOption:(null===i||void 0===i?void 0:i.find(e=>e.value===(null===l||void 0===l?void 0:l.institution_id)))||null,options:i||[],error:null===n||void 0===n?void 0:n.institution_id,onChange:e=>o("institution_id",e),className:"w-full h-10",onCreateOption:(e,l)=>{w({isOpen:!0,type:"college",field:l}),k(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,required:!0,isCreatedByUser:!0}),(0,v.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-3",children:[(0,v.jsx)(z.A,{label:"Degree",name:"degree_id",ref:R.degree_id,placeholder:"Select Degree",options:u||[],selectedOption:(null===u||void 0===u?void 0:u.find(e=>e.value===(null===l||void 0===l?void 0:l.degree_id)))||null,onChange:e=>o("degree_id",e),error:null===n||void 0===n?void 0:n.degree_id,className:"w-full h-10",isDisabled:!l.institution_id,onCreateOption:(e,l)=>{w({isOpen:!0,type:"degree",field:l}),k(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!S,required:!0,disabledTooltip:"Please first select college"}),(0,v.jsx)(z.A,{label:"Field of study",ref:R.field_of_studies,name:"field_of_studies",options:c||[],placeholder:"Select Field of Study",selectedOption:(null===c||void 0===c?void 0:c.find(e=>e.value===(null===l||void 0===l?void 0:l.field_of_studies)))||null,onChange:e=>o("field_of_studies",e),error:null===n||void 0===n?void 0:n.field_of_studies,className:"w-full h-10",isDisabled:!l.degree_id,onCreateOption:(e,l)=>{w({isOpen:!0,type:"field",field:l}),k(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!S,required:!0,disabledTooltip:"Please first select degree"})]}),(0,v.jsxs)("div",{className:"flex md:flex-row flex-col justify-between place-items-center gap-4",children:[(0,v.jsx)(A.A,{label:"Start Date",ref:R.start_date,name:"start_date",type:"date",value:null===l||void 0===l?void 0:l.start_date,onChange:e=>m("start_date",e.target.value),error:null===n||void 0===n?void 0:n.start_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,required:!0}),(0,v.jsx)(A.A,{label:"End Date",name:"end_date",type:"date",ref:R.end_date,value:null===l||void 0===l?void 0:l.end_date,onChange:e=>{const i=e.target.value;((e,l)=>{if(!e||!l)return!0;const i=new Date(e);return!(new Date(l)<i)||(d.oR.error("End date cannot be before Start date!"),!1)})(null===l||void 0===l?void 0:l.start_date,i)?m("end_date",i):m("end_date","")},error:null===n||void 0===n?void 0:n.end_date,autoComplete:"off",className:"w-full h-10",min:null===l||void 0===l?void 0:l.start_date,disabled:null===l||void 0===l?void 0:l.currently_available,required:!0})]}),(0,v.jsx)(C.A,{type:"checkbox",ref:R.checkbox,name:"checkbox",value:null===l||void 0===l?void 0:l.currently_available,label:"Currently Studying",onChange:e=>{x((0,s.A)((0,s.A)({},l),{},{currently_available:e.target.checked})),e.target.checked&&x(e=>(0,s.A)((0,s.A)({},e),{},{end_date:""}))}}),(0,v.jsxs)("div",{children:[(0,v.jsx)(C.A,{type:"textarea",required:!0,name:"description",ref:R.description,label:"Description",className:"w-full",placeholder:"Enter description (min length:0 max-length:200)",value:null===l||void 0===l?void 0:l.description,error:null===n||void 0===n?void 0:n.description,onChange:e=>m("description",e.target.value)}),(0,v.jsxs)("p",{className:"text-end text-[14px] font-normal",children:["Maximum 200 character"," "]})]}),(0,v.jsx)(z.A,{name:"skills_acquired",ref:R.skills_acquired,label:"Skills Acquired",options:p||[],selectedOption:null!==l&&void 0!==l&&l.skills_acquired&&p?l.skills_acquired.map(e=>{const l="object"===typeof e?e._id:e;return p.find(e=>e.value===l)}).filter(Boolean):[],onChange:e=>o("skills_acquired",e),isMulti:!0,error:null===n||void 0===n?void 0:n.skills_acquired,placeholder:"Select or search skills",onCreateOption:(e,l)=>{w({isOpen:!0,type:"skill",field:l}),k(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!S}),_.length>0&&(0,v.jsx)("div",{className:"max-w-lg overflow-hidden",children:(0,v.jsx)(N.LP,{title:"Suggested Skills",isSelected:y,handleSkillClick:b,selectedSkills:j,skills:_,limit:6})})]})})})},G=e=>{let{formData:l,allCompanies:i,handleSubmit:a,getSelectedOption:r,handleSelectChange:n,formErrors:o,modalState:u,isLoading:c,allIndustry:m,allProfile:p,handleClose:f,allWorkSkill:g,handleChange:h,error:x,setFormData:_,allSkills:y,isSkillSelected:b,handleSkillClick:j,selectedSkills:w,setAddModalState:k,setInputFields:S,isCreatedByUserForIndustry:D,isCreatedByUserFor:q,skillForProfileRoleId:R,loading:I}=e;const E={company_id:(0,t.useRef)(null)};return(0,t.useEffect)(()=>{if(x&&Object.keys(x).length>0){var e;const a=Object.keys(x)[0];var l,i;if(null!==(e=E[a])&&void 0!==e&&e.current)E[a].current.scrollIntoView({behavior:"smooth",block:"center"}),null===(l=(i=E[a].current).focus)||void 0===l||l.call(i)}},[x]),(0,v.jsx)("div",{children:(0,v.jsx)(T.A,{isOpen:"experience"===u.type,onClose:f,title:u.type,handleSubmit:a,loading:I,children:(0,v.jsxs)("div",{className:"p-3 space-y-3",children:[(0,v.jsx)(z.A,{ref:E.company_id,label:"Company ",name:"company_id",placeholder:"Select Company",options:i,selectedOption:r(i,null===l||void 0===l?void 0:l.company_id),onChange:e=>n("company_id",e),error:x.company_id,className:"w-full h-10",disabled:!(null!==l&&void 0!==l&&l.company_id),required:!0,onCreateOption:(e,l)=>{k({isOpen:!0,type:"companies",field:l}),S(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!0}),(0,v.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-2",children:[(0,v.jsx)(z.A,{ref:E.industries_id,label:"Industry ",name:"industries_id",placeholder:"Select Industry",options:m,selectedOption:r(m,null===l||void 0===l?void 0:l.industries_id),onChange:e=>n("industries_id",e),error:x.industries_id,className:"w-full h-10",required:!0,onCreateOption:(e,l)=>{k({isOpen:!0,type:"industries",field:l}),S(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,isDisabled:!(null!==l&&void 0!==l&&l.company_id),disabledTooltip:"Please select first Company",isCreatedByUser:!0}),(0,v.jsx)(z.A,{label:"Position ",name:"profile_role_id",placeholder:"Select Position",options:p,selectedOption:r(p,null===l||void 0===l?void 0:l.profile_role_id),onChange:e=>n("profile_role_id",e),error:x.profile_role_id,className:"w-full h-10",required:!0,onCreateOption:(e,l)=>{k({isOpen:!0,type:"profile-roles",field:l}),S(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,isDisabled:!(null!==l&&void 0!==l&&l.industries_id),disabledTooltip:"Please select first Industry",isCreatedByUser:!!q}),(0,v.jsx)(A.A,{label:"Start Date",name:"start_date",type:"date",value:null===l||void 0===l?void 0:l.start_date,onChange:e=>h("start_date",e.target.value),error:null===x||void 0===x?void 0:x.start_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,required:!0}),(0,v.jsx)(A.A,{label:"End Date",name:"end_date",type:"date",value:null===l||void 0===l?void 0:l.end_date,onChange:e=>{const i=e.target.value;((e,l)=>{if(!e||!l)return!0;const i=new Date(e);return!(new Date(l)<i)||(d.oR.error("End date cannot be before Start date!"),!1)})(null===l||void 0===l?void 0:l.start_date,i)?h("end_date",i):h("end_date","")},error:null===x||void 0===x?void 0:x.end_date,autoComplete:"off",className:"w-full h-10",min:null===l||void 0===l?void 0:l.start_date,disabled:null===l||void 0===l?void 0:l.currently_available,allowFutureDate:!1})]}),(0,v.jsx)(C.A,{type:"checkbox",label:"i am currently Working",value:null===l||void 0===l?void 0:l.currently_available,name:"currently_available",onChange:e=>{_((0,s.A)((0,s.A)({},l),{},{currently_available:e.target.checked})),e.target.checked&&_(e=>(0,s.A)((0,s.A)({},e),{},{end_date:""}))}}),(0,v.jsx)(C.A,{type:"textarea",label:"Description",className:"w-full",placeholder:"Enter description (min length:0 max-length:200)",value:null===l||void 0===l?void 0:l.description,error:null===x||void 0===x?void 0:x.description,onChange:e=>h("description",e.target.value)}),(0,v.jsxs)("p",{className:"text-end text-[14px] font-normal",children:["Maximum 200 character"," "]}),(0,v.jsx)(z.A,{label:"Skills Acquired",options:g||[],selectedOption:null!==l&&void 0!==l&&l.skills_acquired&&g?l.skills_acquired.map(e=>{const l="object"===typeof e?e._id:e;return g.find(e=>e.value===l)}).filter(Boolean):[],onChange:e=>n("skills_acquired",e),isMulti:!0,error:null===x||void 0===x?void 0:x.skills_acquired,placeholder:"Select or search skills",onCreateOption:(e,l)=>{k({isOpen:!0,type:"skill",field:l}),S(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,required:!0,isCreatedByUser:!!R}),y.length>0&&(0,v.jsx)("div",{className:"max-w-lg overflow-hidden",children:(0,v.jsx)(N.LP,{title:"Suggested Skills",isSelected:b,handleSkillClick:j,selectedSkills:w,skills:y,limit:6})})]})})})};var V=i(6420);const W=e=>{let{formData:l,handleSubmit:i,handleChange:a,modalState:r,handleClose:n,error:o,collegeList:u,handleSelectChange:c,companyList:m,handleFileUpload:p,handleFileDelete:f,setAddModalState:g,loading:h,setInputFields:x}=e;const[_,y]=(0,t.useState)("personal"),[b,j]=(0,t.useState)("link"),[w,N]=(0,t.useState)({name:"",description:"",start_date:"",end_date:"",file_url:""}),k=(0,t.useRef)(null),S=(0,t.useRef)(null),D=(0,t.useRef)(null),q=(0,t.useRef)(null),R=(0,t.useRef)(null);(0,t.useEffect)(()=>{"projects"===r.type&&(N({name:(null===l||void 0===l?void 0:l.name)||"",description:(null===l||void 0===l?void 0:l.description)||"",start_date:(null===l||void 0===l?void 0:l.start_date)||"",end_date:(null===l||void 0===l?void 0:l.end_date)||"",file_url:(null===l||void 0===l?void 0:l.file_url)||""}),y(null!==l&&void 0!==l&&l.institution_id?"college":null!==l&&void 0!==l&&l.company_id?"company":"personal"),j(null!==l&&void 0!==l&&l.media_url?"media":"link"))},[r.type]);const I=(e,l)=>{N(i=>(0,s.A)((0,s.A)({},i),{},{[e]:l})),null!==o&&void 0!==o&&o[e]&&(a(e,l),o[e]=""),"file_url"===e&&"link"===b&&E(l)&&(o.file_url="")},E=e=>{if(!e)return!0;return/^(https?:\/\/)?([\w-]+\.)+[\w-]+(\/[\w\-._~:/?#[\]@!$&'()*+,;=]*)?$/.test(e)};return(0,v.jsx)(T.A,{isOpen:"projects"===r.type,onClose:n,title:"Add Project",handleSubmit:e=>{e.preventDefault(),Object.entries(w).forEach(e=>{let[l,i]=e;return a(l,i)}),"link"!==b||!w.file_url||E(w.file_url)?i(e):d.oR.error("Please enter a valid URL.")},loading:h,children:(0,v.jsxs)("div",{className:"p-3 space-y-5",children:[(0,v.jsx)(C.A,{ref:k,label:"Project Name",value:w.name,onChange:e=>I("name",e.target.value),name:"name",placeholder:"Enter project name",className:"w-full h-10",required:!0,error:null===o||void 0===o?void 0:o.name}),(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsxs)("p",{className:"text-sm glassy-text-secondary font-medium",children:["Project Type"," ",(0,v.jsx)("span",{className:"text-sky-500 ml-1 text-xs font-normal",children:"(Optional)"})]}),(0,v.jsx)("div",{className:"flex flex-wrap gap-4 items-center mt-2",children:["personal","company","college"].map(e=>(0,v.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:glassy-card transition-colors",children:[(0,v.jsx)("input",{type:"radio",name:"projectType",value:e,checked:_===e,onChange:()=>(e=>{y(e),"college"!==e&&a("institution_id",""),"company"!==e&&a("company_id","")})(e),className:"w-4 h-4 text-blue-600"}),(0,v.jsx)("span",{className:"text-sm",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e))})]}),"company"===_&&(0,v.jsx)(z.A,{options:m||[],selectedOption:null===m||void 0===m?void 0:m.find(e=>e.value===(null===l||void 0===l?void 0:l.company_id)),onChange:e=>c("company_id",e),label:"Company",placeholder:"Select Company",onCreateOption:(e,l)=>{g({isOpen:!0,type:"companies",field:l}),x(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,error:null===o||void 0===o?void 0:o.company_id}),"college"===_&&(0,v.jsx)(z.A,{options:u||[],selectedOption:null===u||void 0===u?void 0:u.find(e=>e.value===(null===l||void 0===l?void 0:l.institution_id)),onChange:e=>c("institution_id",e),label:"College",placeholder:"Select College",onCreateOption:(e,l)=>{g({isOpen:!0,type:"institutions",field:l}),x(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,error:null===o||void 0===o?void 0:o.institution_id}),(0,v.jsx)(C.A,{ref:S,type:"textarea",label:"Project Description",value:w.description,onChange:e=>I("description",e.target.value),placeholder:"Briefly describe your project",className:"w-full h-24 resize-none overflow-y-auto",maxLength:200,required:!0,error:null===o||void 0===o?void 0:o.description}),(0,v.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[(0,v.jsx)(A.A,{ref:q,label:"Start Date",name:"start_date",value:w.start_date,onChange:e=>I("start_date",e.target.value),error:null===o||void 0===o?void 0:o.start_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,required:!0}),(0,v.jsx)(A.A,{ref:R,label:"End Date",name:"end_date",value:w.end_date,onChange:e=>{const l=e.target.value;((e,l)=>{if(!e||!l)return!0;const i=new Date(e),a=new Date(l);return a<i?(d.oR.error("End date cannot be before Start date!"),!1):a.getTime()!==i.getTime()||(d.oR.error("End date cannot be same as Start date!"),!1)})(w.start_date,l)?I("end_date",l):I("end_date","")},error:null===o||void 0===o?void 0:o.end_date,autoComplete:"off",className:"w-full h-10",allowFutureDate:!1,min:w.start_date})]}),(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsx)("div",{className:"flex gap-5 items-center",children:["link","media"].map(e=>(0,v.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:glassy-card transition-colors",children:[(0,v.jsx)("input",{type:"radio",name:"linkType",value:e,checked:b===e,onChange:()=>(e=>{j(e),a("link"===e?"media_url":"file_url",""),N(e=>(0,s.A)((0,s.A)({},e),{},{file_url:""}))})(e),className:"w-4 h-4 text-blue-600"}),(0,v.jsx)("span",{className:"text-sm",children:"link"===e?"Project Link":"Project Media"})]},e))}),"link"===b?(0,v.jsx)(C.A,{ref:D,type:"url",label:"Project URL",value:w.file_url,onChange:e=>I("file_url",e.target.value),placeholder:"e.g., https://github.com/username/project",className:"w-full h-10 border rounded-md p-1",required:!0,error:null===o||void 0===o?void 0:o.file_url}):(0,v.jsx)(V.A,{label:"Upload Project Media/PDF",className:"w-full h-10",onChange:p,onDelete:f,value:null===l||void 0===l?void 0:l.media_url,error:null===o||void 0===o?void 0:o.media_url,accept:".jpg,.jpeg,.png,.pdf",maxSize:5,supportedFormats:"Images (JPEG, PNG) or PDF files"})]})]})})},J=e=>{let{formData:l,handleSubmit:i,setFormData:a,handleChange:r,error:d,modalState:n,handleClose:o,handleFileUpload:u,masterSkillsList:c,setError:m,handleFileDelete:p,setAddModalState:f,setInputFields:g,loading:h}=e;const[x,_]=(0,t.useState)("link"),y={name:(0,t.useRef)(null),issuing_organization:(0,t.useRef)(null),field_of_studies:(0,t.useRef)(null),issue_date:(0,t.useRef)(null),credential_id:(0,t.useRef)(null),skills_acquired:(0,t.useRef)(null),media_url:(0,t.useRef)(null)};return(0,t.useEffect)(()=>{if(d&&Object.keys(d).length>0){var e;const a=Object.keys(d)[0];var l,i;if(null!==(e=y[a])&&void 0!==e&&e.current)y[a].current.scrollIntoView({behavior:"smooth",block:"center"}),null===(l=(i=y[a].current).focus)||void 0===l||l.call(i)}},[d]),(0,v.jsx)(T.A,{isOpen:"certifications"===n.type,onClose:o,title:"Additional Certifications",handleSubmit:i,loading:h,children:(0,v.jsxs)("div",{className:"p-3 space-y-4",children:[(0,v.jsx)(C.A,{label:"Certificate Name",name:"name",ref:y.name,value:null===l||void 0===l?void 0:l.name,onChange:e=>r("name",e.target.value),placeholder:"Enter certificate name",className:"w-full h-10",error:null===d||void 0===d?void 0:d.name,required:!0}),(0,v.jsx)(C.A,{label:"Issuing Organization",value:null===l||void 0===l?void 0:l.issuing_organization,name:"issuing_organization",ref:y.institution_id,onChange:e=>r("issuing_organization",e.target.value),placeholder:"Enter company/organization name",className:"w-full h-10",error:null===d||void 0===d?void 0:d.issuing_organization,required:!0}),(0,v.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-2",children:[(0,v.jsx)(A.A,{type:"date",label:"Issue Date",name:"issue_date",ref:y.issue_date,value:null===l||void 0===l?void 0:l.issue_date,onChange:e=>r("issue_date",e.target.value),placeholder:"MM/YYYY",className:"w-full h-10",allowFutureDate:!1,error:null===d||void 0===d?void 0:d.issue_date,required:!0}),(0,v.jsx)(C.A,{label:"Credential ID",placeholder:"Enter credential ID (min length 5)",name:"credential_id",ref:y.credential_id,value:null===l||void 0===l?void 0:l.credential_id,onChange:e=>r("credential_id",e.target.value),className:"w-full h-10",error:null===d||void 0===d?void 0:d.credential_id,min:5,required:!0})]}),(0,v.jsx)(z.A,{label:"Skills Acquired",options:c||[],onChange:e=>{a(l=>(0,s.A)((0,s.A)({},l),{},{skills_acquired:null===e||void 0===e?void 0:e.map(e=>e.value)})),m({})},selectedOption:(b=null===l||void 0===l?void 0:l.skills_acquired,(null===c||void 0===c?void 0:c.filter(e=>null===b||void 0===b?void 0:b.includes(e.value)))||c[0].value),isMulti:!0,error:null===d||void 0===d?void 0:d.skills_acquired,onCreateOption:(e,l)=>{console.log(e,l),f({isOpen:!0,type:"masterSkill",field:l}),g(l=>(0,s.A)((0,s.A)({},l),{},{name:e}))},isClearable:!0,required:!0,isCreatedByUser:!0}),(0,v.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,v.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,v.jsx)("input",{type:"radio",name:"uploadType",value:"link",checked:"link"===x,onChange:()=>_("link"),className:"w-4 h-4"}),"Certification Link"]}),(0,v.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,v.jsx)("input",{type:"radio",name:"uploadType",value:"media",checked:"media"===x,onChange:()=>_("media"),className:"w-4 h-4"}),"Certification Media"]})]}),"link"===x&&(0,v.jsx)(C.A,{label:"Credential URL",value:null===l||void 0===l?void 0:l.credential_url,onChange:e=>r("credential_url",e.target.value),placeholder:"Enter credential URL (e.g. https://example.com)",className:"w-full h-10",ref:y.credential_url,error:null===d||void 0===d?void 0:d.credential_url,required:!0}),"media"===x&&(0,v.jsx)(V.A,{label:"Upload Certificate Media/PDF",name:"media_url",ref:y.media_url,className:"w-full",onChange:u,onDelete:p,value:null===l||void 0===l?void 0:l.media_url,error:null===d||void 0===d?void 0:d.media_url,accept:".jpg,.jpeg,.png,.pdf",maxSize:5,supportedFormats:"Images (JPEG, PNG) or PDF files"})]})});var b};var K=i(7087),$=i(8454),Y=i(3974);var Q=i(693),X=i(152),H=i(2397),Z=i(9796),ee=i(4975),le=(i(4014),i(3874),i(5084),i(7072)),ie=i(1462);const ae=["institution_id","degree_id","profile_views","email","connection_count","frame_status","follower_count","field_of_studies","start_date","end_date","currently_available","duration","skills_acquired","name","description","company_id","industries_id","profile_role_id","media_url","is_verified","issuing_organization","issue_date","credential_id","credential_url","profile_picture_url","projects","topSkills","userConnection","educations"],se={education:{institution_id:{required:!0,message:"Institution is required"},degree_id:{required:!0,message:"Degree is required"},field_of_studies:{required:!0,message:"Field of study is required"},start_date:{required:!0,message:"Start date is required"},description:{required:!0,message:"Description  is required"},skills_acquired:{required:!0,validate:e=>e&&e.length>0,message:"At least one skill is required"}},experience:{company_id:{required:!0,message:"Company is required"},profile_role_id:{required:!0,message:"Role is required"},industries_id:{required:!0,message:"Industry is required"},start_date:{required:!0,message:"Start date is required"},skills_acquired:{required:!0,validate:e=>e&&e.length>0,message:"At least one skill is required"}},project:{name:{required:!0,message:"Project name is required"},description:{required:!0,message:"Description is required"},start_date:{required:!0,message:"Start date is required"},file_url:{required:!0,validate:(e,l)=>!l.media_url||e,message:"File URL is required if no media is uploaded"},media_url:{required:!0,validate:(e,l)=>!l.file_url||e,message:"Media is required if no file URL is provided"}},certification:{name:{required:!0,message:"Certification name is required"},issuing_organization:{required:!0,message:"Issuing organization is required"},issue_date:{required:!0,message:"Issue date is required"},credential_id:{required:!0,message:"Credential id is required"},credential_url:{required:!0,validate:(e,l)=>!l.media_url||e,message:"Credential URL is required if no media is uploaded"},skills_acquired:{required:!0,validate:e=>e&&e.length>0,message:"At least one skill is required"},media_url:{required:!0,validate:(e,l)=>!l.credential_url||e,message:"Media is required if no credential URL is provided"}},profile:{first_name:{required:!0,message:"First name is required"},last_name:{required:!0,message:"Last name is required"},birth_date:{required:!0,validate:e=>{if(!e)return!1;const l=new Date(e),i=new Date;if(l>i)return!1;const a=new Date;return a.setFullYear(i.getFullYear()-3),l<=a},message:"Birth date must be at least 3 years ago and cannot be in the future"},gender:{required:!0,message:"Gender is required"},headline:{required:!0,validate:e=>e.length<=100,message:"Headline must be 100 characters or less"},summary:{required:!0,validate:e=>e.length>=10&&e.length<=500,message:"Professional bio must be between 10-500 characters"},"address.address_line_1":{required:!0,validate:e=>e.length<=100,message:"Address must be 100 characters or less"},"address.pin_code":{required:!0,message:"Pin code is required"},"address.country.name":{required:!0,message:"Country is required"},"address.state.name":{required:!0,message:"State is required"},"address.city.name":{required:!0,message:"City is required"}}},te=e=>{var l,i,n,c,m,x,b,j,N,A,S,D,q,R,F,L,P,z,V,te,re,de,ne,oe,ue,ce,me,ve,pe,fe,ge,he,xe,_e,ye,be,je,we,Ne,ke,Ce,Ae,Se,De,qe,Re,Ie;let{profileData:Ee}=e;const Fe=(0,t.useMemo)(()=>({institution_id:"",name:"",resume_url:"",media_url:"",description:"",degree_id:"",field_of_studies:"",start_date:"",end_date:"",currently_available:!1,duration:"",skills_acquired:[],company_id:"",industries_id:"",profile_role_id:"",first_name:"",last_name:"",address:{address_line_1:"",address_line_2:"",country:{name:"",dial_code:"",short_name:"",emoji:""},state:{name:"",code:""},city:{name:""},pin_code:""},gender:"",birth_date:"",headline:"",summary:"",issuing_organization:"",issue_date:"",credential_id:"",credential_url:"",profile_picture_url:"",username:"",file_url:""}),[]),Le=(0,_.Zp)(),Pe=(0,r.wA)(),{validateForm:Oe}={validateForm:(0,t.useCallback)((e,l)=>{const i=se[l];if(!i)return{isValid:!0,errors:{}};const a={};let s=!0;return Object.entries(i).forEach(i=>{let[t,r]=i;const d=(n=e,t.split(".").reduce((e,l)=>null===e||void 0===e?void 0:e[l],n));var n;let o=!1;if("project"===l&&("file_url"===t||"media_url"===t))return e.file_url||e.media_url?void 0:(a.file_url="Either a project URL or media file is required",a.media_url="Either a project URL or media file is required",void(s=!1));if("certification"===l&&("credential_url"===t||"media_url"===t))return e.credential_url||e.media_url?void 0:(a.credential_url="Either a credential URL or media file is required",a.media_url="Either a credential URL or media file is required",void(s=!1));var u,c;if("function"===typeof r.required)r.required(e)&&(o=Array.isArray(d)?null!==(u=!(null!==(c=r.validate)&&void 0!==c&&c.call(r,d)))&&void 0!==u?u:0===d.length:!d||"string"===typeof d&&!d.trim());else if(r.required){var m,v;o=Array.isArray(d)?null!==(m=!(null!==(v=r.validate)&&void 0!==v&&v.call(r,d)))&&void 0!==m?m:0===d.length:!d||"string"===typeof d&&!d.trim()}o&&(a[t]=r.message,s=!1)}),{isValid:s,errors:a}},[])},Ue=(0,r.d4)(e=>e.educations),Be=(0,r.d4)(e=>e.global),Te=(0,r.d4)(e=>e.global),ze=(0,r.d4)(e=>e.work),Me=(0,r.d4)(e=>e.user),{suggestedUserData:{data:Ge}}=Me||{},[Ve,We]=(0,t.useState)(""),[Je,Ke]=(0,t.useState)({name:"",logo_url:""}),[$e,Ye]=(0,t.useState)(!1),Qe=((0,t.useRef)(null),(0,t.useRef)(null),(0,t.useRef)(null)),Xe=(0,t.useRef)(null),[He,Ze]=(0,t.useState)("user"),[el,ll]=(0,t.useState)(!0),[il,al]=(0,t.useState)(!1),[sl,tl]=(0,t.useState)(null),[rl,dl]=(0,t.useState)(!1),[nl,ol]=(0,t.useState)(!1),[ul,cl]=(0,t.useState)(1),[ml,vl]=(0,t.useState)(1),pl=(0,t.useMemo)(()=>{var e,l,i,a,s,t,r,d,n,u,c,m,v,p,f,g,h,x,_,y,b,j,w,N,k;return{collegeList:(0,o.Kj)((null===Ue||void 0===Ue||null===(e=Ue.instituteCollegeListData)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)||[]),degreeList:(0,o.Kj)((null===Ue||void 0===Ue||null===(i=Ue.getAllDegreeData)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.data)||[]),fieldsOfStudyList:(0,o.Kj)((null===Ue||void 0===Ue||null===(s=Ue.getAllFieldsOfStudyData)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data)||[]),skillsList:(0,o.Kj)((null===Ue||void 0===Ue||null===(r=Ue.getAllSkillListData)||void 0===r||null===(d=r.data)||void 0===d?void 0:d.data)||[]),masterSkillsList:(0,o.Kj)((null===Be||void 0===Be||null===(n=Be.masterSkillsData)||void 0===n||null===(u=n.data)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.list)||[]),countryList:(0,o.Kj)((null===Te||void 0===Te||null===(m=Te.countriesData)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.data)||[]),stateList:(0,o.Kj)((null===Te||void 0===Te||null===(p=Te.stateData)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.data)||[]),citiesList:(0,o.Kj)((null===Te||void 0===Te||null===(g=Te.citiesData)||void 0===g||null===(h=g.data)||void 0===h?void 0:h.data)||[]),allCompanies:(0,o.Kj)((null===ze||void 0===ze||null===(x=ze.getAllCompaniesData)||void 0===x||null===(_=x.data)||void 0===_?void 0:_.data)||[]),allIndustry:(0,o.Kj)((null===ze||void 0===ze||null===(y=ze.getAllIndustryData)||void 0===y||null===(b=y.data)||void 0===b?void 0:b.data)||[]),allProfile:(0,o.Kj)((null===ze||void 0===ze||null===(j=ze.getAllProfileRoleData)||void 0===j||null===(w=j.data)||void 0===w?void 0:w.data)||[]),allWorkSkill:(0,o.Kj)((null===ze||void 0===ze||null===(N=ze.getAllWorkSkillListData)||void 0===N||null===(k=N.data)||void 0===k?void 0:k.data)||[])}},[Ue,Be,Te,ze]),fl=null===Ee||void 0===Ee||null===(l=Ee.getProfileData)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data,gl=null===Ue||void 0===Ue||null===(n=Ue.getAllEducationListData)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.data,hl=null===Ue||void 0===Ue||null===(m=Ue.getAllExperienceListData)||void 0===m||null===(x=m.data)||void 0===x?void 0:x.data,xl=null===Ue||void 0===Ue||null===(b=Ue.getAllProjectListData)||void 0===b||null===(j=b.data)||void 0===j?void 0:j.data,_l=null===Ue||void 0===Ue||null===(N=Ue.getAllCertificateListData)||void 0===N||null===(A=N.data)||void 0===A?void 0:A.data,yl=null===Ee||void 0===Ee||null===(S=Ee.getProfileData)||void 0===S||null===(D=S.data)||void 0===D||null===(q=D.data)||void 0===q||null===(R=q.personalInfo)||void 0===R||null===(F=R.address)||void 0===F||null===(L=F.state)||void 0===L?void 0:L.name,bl=null===Ee||void 0===Ee||null===(P=Ee.getProfileData)||void 0===P||null===(z=P.data)||void 0===z||null===(V=z.data)||void 0===V||null===(te=V.personalInfo)||void 0===te||null===(re=te.address)||void 0===re||null===(de=re.country)||void 0===de?void 0:de.dial_code,[jl,wl]=(0,t.useState)({isOpen:!1,type:"",field:""});(0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth;cl(e<768?1:(null===_l||void 0===_l?void 0:_l.length)>1?2:1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[_l]),(0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth;vl(e<768?1:(null===xl||void 0===xl?void 0:xl.length)>1?2:1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[xl]);const Nl=(null===Ue||void 0===Ue||null===(ne=Ue.getAllSkillListData)||void 0===ne||null===(oe=ne.data)||void 0===oe||null===(ue=oe.data)||void 0===ue?void 0:ue.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name,selection_count:null===e||void 0===e?void 0:e.selection_count,isSuggested:null===e||void 0===e?void 0:e.isSuggested})))||[],kl=(null===ze||void 0===ze||null===(ce=ze.getAllWorkSkillListData)||void 0===ce||null===(me=ce.data)||void 0===me||null===(ve=me.data)||void 0===ve?void 0:ve.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.name,selection_count:null===e||void 0===e?void 0:e.selection_count,isSuggested:null===e||void 0===e?void 0:e.isSuggested})))||[],[Cl,Al]=(0,t.useState)({profile:!1,education:!1,experience:!1,projects:!1,certifications:!1,deletingItems:{}}),[Sl,Dl]=(0,t.useState)({isOpen:!1,type:"",initialData:{}}),[ql,Rl]=(0,t.useState)(!1),{setFormData:Il,formData:El,handleChange:Fl,errors:Ll,setErrors:Pl,resetForm:Ol}=(0,K.A)(Fe),{handleLocationSelectChange:Ul}=(0,Q.I)(Il,El,Rl,Pl),{handleSelectChange:Bl,fetchDependentData:Tl}=((e,l,i,a,t,n,o,u,c)=>{const m=(0,r.wA)(),v=async(e,i,a)=>{switch(console.log("value-22222",e,a),e){case"institution_id":t(a);break;case"degree_id":n(a);break;case"company_id":o(a),c(a);break;case"industries_id":u(a)}l(!0);try{switch(e){case"institution_id":await m((0,$.Q_)({institution_id:i,created_by_users:a}));break;case"degree_id":await m((0,$.BB)({degree_id:i,created_by_users:a}));break;case"field_of_studies":await m((0,$.P8)({study_id:i,created_by_users:a}));break;case"company_id":await m((0,Y.a_)({company_id:i,created_by_users:a}));break;case"industries_id":await m((0,Y.JL)({industry_id:i,created_by_users:a}));break;case"profile_role_id":await m((0,Y.O_)({profile_role_id:i,created_by_users:a}))}}catch(s){d.oR.error("Failed to fetch ".concat(e," data"))}finally{l(!1)}};return{handleSelectChange:async(l,i)=>{if(console.log(l,i),Array.isArray(i)?null===i||void 0===i?void 0:i.find(e=>"ADD"===e.value):"ADD"===(null===i||void 0===i?void 0:i.value)){let e="";switch(l){case"institution_id":e="company";break;case"degree_id":e="degree";break;case"field_of_studies":e="field";break;case"skills_acquired":e="skill";break;case"company_id":e="companies";break;case"industries_id":e="industries";break;case"profile_role_id":e="profile-roles"}return void a({isOpen:!0,type:e,field:l})}try{const a="skills_acquired"===l,t=null===i||void 0===i?void 0:i.created_by_users,r=a?Array.isArray(i)?i.map(e=>null===e||void 0===e?void 0:e.value).filter(Boolean):[]:(null===i||void 0===i?void 0:i.value)||"",d={institution_id:{degree_id:"",field_of_studies:"",skills_acquired:[]},degree_id:{field_of_studies:"",skills_acquired:[]},field_of_studies:{skills_acquired:[]}};e(e=>(0,s.A)((0,s.A)({},e),{},{[l]:r},d[l]||{})),!a&&r&&["institution_id","degree_id","field_of_studies","company_id","industries_id","profile_role_id"].includes(l)&&await v(l,r,t)}catch(t){d.oR.error("Error processing ".concat(l," selection"))}},fetchDependentData:v}})(Il,Rl,0,wl,ll,al,ol,tl,dl);console.log("isCreatedByUserForIndustry",sl);(0,t.useMemo)(()=>[{src:"/Img/badge1.png",alt:"Badge 1"},{src:"/Img/badge2.png",alt:"Badge 2"},{src:"/Img/badge3.png",alt:"Badge 3"},{src:"/Img/badge4.png",alt:"Badge 4"},{src:"/Img/badge5.png",alt:"Badge 5"},{src:"/Img/badge5.png",alt:"Badge 6"}],[]);const zl=function(e,l){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Al(a=>i?(0,s.A)((0,s.A)({},a),{},{deletingItems:(0,s.A)((0,s.A)({},a.deletingItems),{},{[i]:l})}):(0,s.A)((0,s.A)({},a),{},{[e]:l}))};(0,t.useEffect)(()=>{O().init({duration:1e3,offset:100,once:!0})},[]),(0,t.useEffect)(()=>{(async()=>{try{await Promise.all([Pe((0,$.VS)()),Pe((0,X.Xr)()),Pe((0,Y.f$)()),Pe((0,$.So)()),Pe((0,$.wo)()),Pe((0,$.n2)()),Pe((0,$.Jm)()),Pe((0,g.FL)({page:1,size:10,type:He}))])}catch(e){d.oR.error("Failed to load initial data")}})()},[Pe,He]),(0,t.useEffect)(()=>{var e,l,i,a,s,t;bl&&Pe((0,X.wk)({country_code:null===Ee||void 0===Ee||null===(e=Ee.getProfileData)||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.data)||void 0===i||null===(a=i.personalInfo)||void 0===a||null===(s=a.address)||void 0===s||null===(t=s.country)||void 0===t?void 0:t.short_name}));yl&&Pe((0,X.E8)({state_name:yl}))},[Pe]),(0,t.useEffect)(()=>{var e;null!==fl&&void 0!==fl&&fl.personalInfo&&(Il(e=>(0,s.A)((0,s.A)((0,s.A)({},e),fl.personalInfo),{},{birth_date:(0,o.D3)(fl.personalInfo.birth_date),address:(0,s.A)((0,s.A)({},e.address),fl.personalInfo.address||{})})),We(null===fl||void 0===fl||null===(e=fl.personalInfo)||void 0===e?void 0:e.frame_status))},[fl,Il]);const Ml=(0,t.useCallback)(e=>{Dl({isOpen:!0,type:e,initialData:{}}),"certifications"===e&&Pe((0,X.fr)())},[Pe]),Gl=(0,t.useCallback)(async(e,l)=>{var i,a,t,r,n,o,u,c;Dl({isOpen:!0,type:e});const m=(0,s.A)((0,s.A)({},l),{},{company_id:null===l||void 0===l||null===(i=l.company_id)||void 0===i?void 0:i._id,degree_id:null===l||void 0===l||null===(a=l.degree_id)||void 0===a?void 0:a._id,field_of_studies:null===l||void 0===l||null===(t=l.field_of_studies)||void 0===t?void 0:t._id,industries_id:null!==l&&void 0!==l&&null!==(r=l.industries_id)&&void 0!==r&&r._id?null===l||void 0===l||null===(n=l.industries_id)||void 0===n?void 0:n._id:null===l||void 0===l?void 0:l.industries_id,profile_role_id:null===l||void 0===l||null===(o=l.profile_role_id)||void 0===o?void 0:o._id,institution_id:(null===(u=l.institution_id)||void 0===u?void 0:u._id)||"",skills_acquired:(null===(c=l.skills_acquired)||void 0===c?void 0:c.map(e=>e._id))||[],issue_date:l.issue_date?new Date(l.issue_date).toISOString().split("T")[0]:"",start_date:l.start_date?new Date(l.start_date).toISOString().split("T")[0]:"",end_date:l.end_date?new Date(l.end_date).toISOString().split("T")[0]:""});Il(m);try{m.institution_id&&await Pe((0,$.Q_)({institution_id:m.institution_id})),m.degree_id&&await Pe((0,$.BB)({degree_id:m.degree_id})),m.field_of_studies&&await Pe((0,$.P8)({study_id:m.field_of_studies})),m.company_id&&await Pe((0,Y.a_)({company_id:m.company_id})),m.industries_id&&await Pe((0,Y.JL)({industry_id:m.industries_id})),m.profile_role_id&&await Pe((0,Y.O_)({profile_role_id:m.profile_role_id}))}catch(v){console.error("Error fetching dependent data:",v),d.oR.error("Failed to load dependent data")}},[Pe,Il]),Vl=async(e,l)=>{zl(null,!0,l);try{let r;var i;if("projects"===e)r=await Pe((0,$.Np)({_id:l})).unwrap(),d.oR.success(null===(i=r)||void 0===i?void 0:i.message),Pe((0,$.n2)());else if("certifications"===e){var a;r=await Pe((0,$.P$)({_id:l})).unwrap(),d.oR.success(null===(a=r)||void 0===a?void 0:a.message),Pe((0,$.Jm)())}else if("experience"===e){var s;r=await Pe((0,$.b_)({_id:l})).unwrap(),d.oR.success(null===(s=r)||void 0===s?void 0:s.message),Pe((0,$.wo)()),Pe((0,u.E$)())}else if("education"===e){var t;r=await Pe((0,$.nt)({_id:l})).unwrap(),d.oR.success(null===(t=r)||void 0===t?void 0:t.message),Pe((0,$.So)()),Pe((0,u.E$)())}}catch(r){d.oR.error(r)}finally{zl(null,!1,l)}},Wl=(0,t.useCallback)(()=>{Dl({isOpen:!1,type:"",initialData:{}}),Pl({}),Ol(),Pe((0,u.E$)()),Pe((0,$.Fx)()),Pe((0,Y.eW)())},[Ol,Pl]),Jl=(0,t.useCallback)(async e=>{e.preventDefault();const{isValid:l,errors:i}=Oe(El,"education");if(l){Rl(!0);try{const e={start_date:(0,o.TG)(El.start_date),end_date:(0,o.TG)(El.end_date),duration:(0,o.Ds)(El.start_date,El.end_date),institution_id:null===El||void 0===El?void 0:El.institution_id,field_of_studies:null===El||void 0===El?void 0:El.field_of_studies,degree_id:null===El||void 0===El?void 0:El.degree_id,currently_available:null===El||void 0===El?void 0:El.currently_available,skills_acquired:null===El||void 0===El?void 0:El.skills_acquired,description:null===El||void 0===El?void 0:El.description};null!==El&&void 0!==El&&El._id&&(e._id=null===El||void 0===El?void 0:El._id);const l=null!==El&&void 0!==El&&El._id?$.SX:u.YE,i=await Pe(l(e)).unwrap();d.oR.success((null===i||void 0===i?void 0:i.message)||"Education added successfully"),Pe((0,$.So)()),Wl()}catch(a){console.error("Education submission error:",a),d.oR.error(a)}finally{Rl(!1)}}else Pl(i)},[El,Oe,Pl,Pe,Wl]),Kl=(0,t.useCallback)(async()=>{const{isValid:e,errors:l}=Oe(El,"profile");if(!e)return Pl(l),void d.oR.error("Please fix the validation errors");Rl(!0);try{const{institution_id:e,degree_id:l,profile_views:i,email:s,connection_count:t,frame_status:r,follower_count:n,field_of_studies:c,start_date:m,end_date:v,currently_available:p,duration:f,skills_acquired:g,name:h,description:x,company_id:_,industries_id:y,profile_role_id:b,media_url:j,is_verified:w,issuing_organization:N,issue_date:k,credential_id:C,credential_url:A,profile_picture_url:S,projects:D,topSkills:q,userConnection:R,educations:I}=El,E=(0,a.A)(El,ae),F={birth_date:(0,o.TG)(E.birth_date),first_name:null===El||void 0===El?void 0:El.first_name,last_name:null===El||void 0===El?void 0:El.last_name,gender:null===El||void 0===El?void 0:El.gender,summary:null===El||void 0===El?void 0:El.summary,address:null===El||void 0===El?void 0:El.address,headline:null===El||void 0===El?void 0:El.headline,username:null===El||void 0===El?void 0:El.username},L=await Pe((0,u.gM)(F)).unwrap();d.oR.success((null===L||void 0===L?void 0:L.message)||"Profile updated successfully"),Ye(!1),Pe((0,u.E$)())}catch(i){console.error("Profile update error:",i),d.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to update profile")}finally{Rl(!1)}},[El,Oe,Pl,Pe,fl]),$l=(0,t.useCallback)(async()=>{const{isValid:e,errors:l}=Oe(El,"project");if(e){Rl(!0);try{const e={name:El.name,description:El.description,institution_id:El.institution_id,start_date:(0,o.TG)(El.start_date),end_date:(0,o.TG)(El.end_date),media_url:El.media_url,company_id:null===El||void 0===El?void 0:El.company_id,file_url:null===El||void 0===El?void 0:El.file_url};null!==El&&void 0!==El&&El._id&&(e._id=null===El||void 0===El?void 0:El._id);const l=null!==El&&void 0!==El&&El._id?$.FW:u.By,i=await Pe(l(e)).unwrap();d.oR.success((null===i||void 0===i?void 0:i.message)||"Project added successfully"),Wl(),Pe((0,$.n2)())}catch(i){console.error("Project submission error:",i),d.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to add project")}finally{Rl(!1)}}else Pl(l)},[El,Oe,Pl,Pe,Wl]),Yl=(0,t.useCallback)(async()=>{const{isValid:e,errors:l}=Oe(El,"certification");if(e){Rl(!0);try{const e={name:El.name,issuing_organization:El.issuing_organization,issue_date:(0,o.TG)(El.issue_date),credential_id:El.credential_id,credential_url:El.credential_url,media_url:El.media_url,skills_acquired:El.skills_acquired};null!==El&&void 0!==El&&El._id&&(e._id=null===El||void 0===El?void 0:El._id);const l=null!==El&&void 0!==El&&El._id?$.J9:u.m7,i=await Pe(l(e)).unwrap();d.oR.success((null===i||void 0===i?void 0:i.message)||"Certification added successfully"),Wl(),Pe((0,$.Jm)())}catch(i){console.error("Certification submission error:",i),d.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to add certification")}finally{Rl(!1)}}else Pl(l)},[El,Oe,Pl,Pe,Wl]),Ql=(0,t.useCallback)(async e=>{if(!e)return void d.oR.error("Please select a file");if(e.size>5242880)return void d.oR.error("File size must be less than 5MB");const l=["image/jpeg","image/jpg","image/png"],i=["application/pdf"];if([...l,...i].includes(e.type)){Rl(!0);try{if(l.includes(e.type)){var a;const l=await(0,o.pv)(e,"ADDITIONAL_CERTIFICATIONS_MEDIA");if(null===l||void 0===l||null===(a=l.data)||void 0===a||!a.imageURL)throw new Error("Image upload failed");Il(e=>(0,s.A)((0,s.A)({},e),{},{media_url:l.data.imageURL})),null!==Ll&&void 0!==Ll&&Ll.media_url&&Pl(e=>(0,s.A)((0,s.A)({},e),{},{media_url:""})),d.oR.success((null===l||void 0===l?void 0:l.message)||"Image uploaded successfully")}else if(i.includes(e.type)){var t;const l=await(0,o.It)(e,"ADDITIONAL_CERTIFICATIONS_MEDIA");if(null===l||void 0===l||null===(t=l.data)||void 0===t||!t.imageURL)throw new Error("PDF upload failed");Il(e=>(0,s.A)((0,s.A)({},e),{},{media_url:l.data.imageURL})),null!==Ll&&void 0!==Ll&&Ll.file_url&&Pl(e=>(0,s.A)((0,s.A)({},e),{},{media_url:""})),d.oR.success((null===l||void 0===l?void 0:l.message)||"PDF uploaded successfully")}}catch(r){console.error("File upload error:",r),d.oR.error((null===r||void 0===r?void 0:r.message)||"Failed to upload image")}finally{Rl(!1)}}else d.oR.error("Only image (JPEG, PNG) or PDF files are allowed")},[Il,null===Ll||void 0===Ll?void 0:Ll.media_url,null===Ll||void 0===Ll?void 0:Ll.file_url,Pl]),Xl=(0,t.useCallback)((e,l)=>{if(!l)return null;const i=l._id?l._id:l;return e.find(e=>e.value===i)||null},[]),Hl=async e=>{try{if(console.log("selected:",e),"education"===e)return void Ml("education");if("experience"===e)return void Ml("experience");const l=await Pe((0,u.LE)({frame_status:e})).unwrap();await Pe((0,u.E$)()).unwrap(),d.oR.success(null===l||void 0===l?void 0:l.message),We(e)}catch(l){d.oR.error((null===l||void 0===l?void 0:l.message)||"Something went wrong")}},Zl=()=>{Il(e=>(0,s.A)((0,s.A)({},e),{},{media_url:""}))},ei=async e=>{try{const l=await Pe((0,$.LX)({_id:null===e||void 0===e?void 0:e._id})).unwrap();d.oR.success((null===l||void 0===l?void 0:l.message)||"Certificate share successfully")}catch(l){d.oR.error(l||"Failed to share certificate")}},[li,ii]=(0,t.useState)(!1),ai=(0,t.useRef)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("style",{children:"\n          @media (max-width: 1400px) {\n            .top-skills { grid-column: span 3; }\n          }\n          @media (min-width: 1400px) {\n            .top-skills { grid-column: span 1; }\n          }\n          @media (max-width: 1000px) {\n            .exp-edu-card { flex-direction: column; }\n          }\n          @media (min-width: 1000px) {\n            .exp-edu-card { flex-direction: row; }\n          }\n        "}),(0,v.jsx)("div",{className:"    space-y-3 p-4",children:(0,v.jsxs)("div",{className:"flex flex-col md:flex-row w-full mx-auto gap-4",children:[(0,v.jsxs)("div",{className:"xl:w-[75%] lg:w-[70%] md:w-[60%] w-full space-y-6 overflow-hidden h-screen  overflow-y-auto   hide-scrollbar",children:[(0,v.jsxs)("nav",{className:"flex justify-start items-center gap-2 mb-2 text-sm",children:[(0,v.jsx)("span",{className:"glassy-text-secondary",onClick:()=>Le("/"),children:"Home"}),(0,v.jsx)("span",{className:"glassy-text-secondary",children:"\u203a"}),(0,v.jsx)("span",{className:"font-medium text-blue-600",children:"Profile"})]}),(0,v.jsx)("div",{className:"flex flex-col gap-6 lg:flex-row mx-auto",style:{background:"/logo.png"},children:(0,v.jsxs)("div",{className:"w-full mx-auto space-y-4 overflow-y-auto",children:[(0,v.jsxs)("div",{className:" p-4 flex flex-col md:flex-row items-start justify-center gap-6 w-full overflow-x-hidden",children:[(0,v.jsx)("div",{className:"!relative rounded-3xl p-6 w-full md:w-96 glassy-text-primary overflow-hidden flex-shrink-0",style:{backgroundImage:'url("/Group.png")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,v.jsx)(w,{data:fl,setFrameStatus:We,frameStatus:Ve,handleSelection:Hl})}),(0,v.jsxs)("div",{className:"glassy-card rounded-3xl p-6 flex-1 glassy-text-primary w-full min-w-0",children:[(0,v.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-6 gap-2 sm:gap-0",children:(0,v.jsx)("div",{className:"flex items-center gap-2",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold mb-1 break-words",children:"".concat((null===fl||void 0===fl||null===(pe=fl.personalInfo)||void 0===pe?void 0:pe.first_name)||""," ").concat((null===fl||void 0===fl||null===(fe=fl.personalInfo)||void 0===fe?void 0:fe.last_name)||"")}),(0,v.jsxs)("div",{onClick:()=>{if(Ye(!0),ai.current){ai.current.scrollIntoView({behavior:"smooth",block:"start"});const e=ai.current.querySelector("input, textarea, select");e&&e.focus()}},className:"flex items-center gap-2 cursor-pointer hover:text-blue-500 transition-colors",children:[(0,v.jsxs)("p",{className:"glassy-text-secondary text-sm md:text-base break-words",children:[(null===fl||void 0===fl||null===(ge=fl.personalInfo)||void 0===ge?void 0:ge.headline)||"N/A"," |"," ",(null===fl||void 0===fl||null===(he=fl.personalInfo)||void 0===he||null===(xe=he.address)||void 0===xe||null===(_e=xe.city)||void 0===_e?void 0:_e.name)||"N/A",","," ",(null===fl||void 0===fl||null===(ye=fl.personalInfo)||void 0===ye||null===(be=ye.address)||void 0===be||null===(je=be.state)||void 0===je?void 0:je.name)||"N/A"]}),(0,v.jsx)(ie.dJk,{className:"text-blue-500 text-lg flex-shrink-0"})]})]})})}),(0,v.jsxs)("div",{className:"mb-6 w-full relative group",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,v.jsx)("h3",{className:"text-sm font-medium glassy-text-primary",children:"Profile Completion"}),(0,v.jsxs)("span",{className:"text-sm font-semibold text-blue-500",children:[(null===fl||void 0===fl||null===(we=fl.personalInfo)||void 0===we?void 0:we.profile_completion_percentage)||0,"%"]})]}),(0,v.jsx)("div",{className:"w-full h-3 bg-white/10 rounded-full overflow-hidden backdrop-blur-md cursor-pointer",children:(0,v.jsx)("div",{className:"h-full rounded-full transition-all duration-700",style:{width:"".concat((null===fl||void 0===fl||null===(Ne=fl.personalInfo)||void 0===Ne?void 0:Ne.profile_completion_percentage)||0,"%"),background:"linear-gradient(90deg, #0066FF 0%, #217AFF 50.96%, #A1BEFF 100%)"}})}),(null===fl||void 0===fl||null===(ke=fl.personalInfo)||void 0===ke||null===(Ce=ke.missingFields)||void 0===Ce?void 0:Ce.length)>0&&(0,v.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-[13999] -top-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:(0,v.jsxs)("div",{className:"bg-red-500/10 border border-red-400/30 rounded-xl p-3 shadow-lg backdrop-blur-md text-sm text-red-500 min-w-[180px]",children:[(0,v.jsx)("p",{className:"font-medium mb-1",children:"Missing Details"}),(0,v.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:fl.personalInfo.missingFields.map((e,l)=>(0,v.jsx)("li",{className:"capitalize",children:e.replace(/_/g," ")},l))})]})})]}),(0,v.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:(null===fl||void 0===fl||null===(Ae=fl.topSkills)||void 0===Ae||null===(Se=Ae.data)||void 0===Se?void 0:Se.length)>0?(0,v.jsx)(k.A,{skills:null===fl||void 0===fl||null===(De=fl.topSkills)||void 0===De?void 0:De.data,limit:3}):(0,v.jsx)("p",{className:"w-full bg-yellow-50 text-yellow-800 text-sm p-2 rounded-md border border-yellow-200 shadow-sm",children:"\ud83d\ude80 No skills added yet. Verify your education and update your skills to showcase your expertise!"})}),(0,v.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,v.jsx)(p,{options:["open_for_job","open_for_internship","open_for_project"],value:Ve,onSelect:Hl}),(0,v.jsx)(f.A,{icon:(0,v.jsx)(h.Ah9,{}),size:"sm",className:"text-sm text-primary",onClick:()=>ii(!0),children:"Resume"})]}),(0,v.jsxs)("p",{className:"text-sm text-gray-500",children:["Last updated on"," ",(0,o.Jz)(null===fl||void 0===fl||null===(qe=fl.personalInfo)||void 0===qe?void 0:qe.updatedAt)]})]}),(0,v.jsx)(y,{isOpen:li,onClose:()=>ii(!1),title:"Select Your Preview",userData:{userId:null===fl||void 0===fl?void 0:fl._id,username:null===fl||void 0===fl||null===(Re=fl.personalInfo)||void 0===Re?void 0:Re.username}})]}),(0,v.jsx)("div",{ref:ai,children:(0,v.jsx)(I,{formData:El,handleChange:Fl,countryList:pl.countryList,handleSelectChange:Ul,stateList:pl.stateList,citiesList:pl.citiesList,setFormData:Il,handleSubmit:Kl,loading:ql,error:Ll,setErrors:Pl,isExtended:$e,setIsExtended:Ye})}),(0,v.jsxs)("div",{className:"space-y-4 ",children:[(0,v.jsx)(U,{title:"EDUCATION",buttonText:"Add Education",emptyStateTitle:"No Education Records",emptyStateDescription:"Add your education history to enhance your profile",logo:"/Img/Profile/Frame.png",handleOpenModal:()=>Ml("education"),type:"education",onEdit:Gl,onDelete:Vl,data:gl,loadingStates:Cl}),(0,v.jsx)(U,{title:"EXPERIENCE",buttonText:"Add Experience",emptyStateTitle:"No Experience Added",emptyStateDescription:"Add your Experience history to enhance your profile",logo:"/Img/Profile/Frame (1).png",handleOpenModal:()=>Ml("experience"),type:"experience",onEdit:Gl,onDelete:Vl,data:hl,loadingStates:Cl}),(0,v.jsx)(U,{title:"PROJECTS",buttonText:"Add Projects",emptyStateTitle:"No Projects Added",emptyStateDescription:"Add your Projects history to enhance your profile",logo:"/Img/Profile/fi_1336494.png",handleOpenModal:()=>Ml("projects"),type:"projects",onEdit:Gl,onDelete:Vl,data:xl||[],loadingStates:Cl}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"glassy-card p-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,v.jsx)("h2",{className:"text-xs md:text-sm font-semibold tracking-wide glassy-text-primary uppercase",children:"Certificate"}),(0,v.jsx)(f.A,{onClick:()=>Ml("certifications"),icon:(0,v.jsx)(E.BlJ,{}),className:"glassy-button hover:scale-105",children:"Add Certificate"})]}),(null===_l||void 0===_l?void 0:_l.length)>0?(0,v.jsxs)("div",{className:"relative w-full",children:[(0,v.jsx)(ee.RC,{modules:[le.Vx],onBeforeInit:e=>{e.params.navigation.prevEl=Qe.current,e.params.navigation.nextEl=Xe.current},navigation:{prevEl:Qe.current,nextEl:Xe.current},spaceBetween:20,centeredSlides:!1,breakpoints:{0:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:2},1280:{slidesPerView:2}},className:"mySwiper w-full",children:null===_l||void 0===_l?void 0:_l.map((e,l)=>(0,v.jsx)(ee.qr,{className:"flex justify-center",children:(0,v.jsx)(H.A,{certificateName:null===e||void 0===e?void 0:e.name,issueBy:null===e||void 0===e?void 0:e.issuing_organization,description:null===e||void 0===e?void 0:e.description,date:(0,o.D3)(null===e||void 0===e?void 0:e.issue_date),certificateUrlOrNumber:null===e||void 0===e?void 0:e.credential_url,imageUrl:(null===e||void 0===e?void 0:e.media_url)||"/Img/Profile/Frame (2).png",record:e,isAction:!0,onEdit:Gl,type:"certifications",isLoading:ql,onDelete:Vl,profileInfo:fl,sharePost:ei})},l))}),(0,v.jsx)("button",{ref:Qe,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 glassy-card p-2 rounded-full mt-5",children:(0,v.jsx)(h.MQY,{className:"w-6 h-6 glassy-text-secondary"})}),(0,v.jsx)("button",{ref:Xe,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 glassy-card p-2 rounded-full mt-5",children:(0,v.jsx)(h.XWt,{className:"w-6 h-6 glassy-text-secondary"})})]}):(0,v.jsxs)("div",{className:"px-6 py-5 text-center border-2 border-dashed rounded-lg glassy-card",children:[(0,v.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,v.jsx)("img",{src:"/Img/Profile/Frame (2).png",className:"hover:scale-110 transition-transform"})}),(0,v.jsx)("h3",{className:"text-lg font-semibold glassy-text-primary",children:"No Certifications added"}),(0,v.jsx)("p",{className:"text-sm glassy-text-secondary",children:"Add your certifications to build a full profile"})]})]})})]})]})})]}),(0,v.jsx)("div",{className:"xl:w-[25%] lg:w-[30%] md:w-[40%] md:block hidden mt-1 ",children:(0,v.jsx)("div",{className:"sticky top-4 h-fit max-h-[calc(100vh-2rem)] overflow-y-auto hide-scrollbar",children:(0,v.jsx)(B.A,{data:(null===Ge||void 0===Ge||null===(Ie=Ge.data)||void 0===Ie?void 0:Ie.list)||[],handleConnect:e=>{},setFormData:Il,activeTab:He,setActiveTab:Ze})})})]})}),(0,v.jsx)(M,{modalState:Sl,handleClose:Wl,formData:El,loading:ql,skillsList:pl.skillsList,collegeList:pl.collegeList,errors:Ll,handleChange:Fl,handleSelectChange:Bl,degreeList:pl.degreeList,fieldsOfStudyList:pl.fieldsOfStudyList,onSubmit:Jl,setFormData:Il,allSkills:Nl||[],setAddModalState:wl,setInputFields:Ke,isCreatedByUser:el,isCreatedByUserForFields:il,isCreatedByUserForIndustry:sl}),(0,v.jsx)(G,{modalState:Sl,handleClose:Wl,getSelectedOption:Xl,formData:El,handleSelectChange:Bl,allCompanies:pl.allCompanies,allIndustry:pl.allIndustry,allProfile:pl.allProfile,allWorkSkill:pl.allWorkSkill,error:Ll,handleSubmit:async()=>{const{isValid:e,errors:l}=Oe(El,"experience");if(e){Rl(!0);try{const e={company_id:El.company_id,industries_id:El.industries_id,profile_role_id:El.profile_role_id,start_date:(0,o.TG)(null===El||void 0===El?void 0:El.start_date),end_date:(0,o.TG)(null===El||void 0===El?void 0:El.end_date),currently_available:null===El||void 0===El?void 0:El.currently_available,duration:(0,o.Ds)(null===El||void 0===El?void 0:El.start_date,null===El||void 0===El?void 0:El.end_date),skills_acquired:null===El||void 0===El?void 0:El.skills_acquired,description:null===El||void 0===El?void 0:El.description};null!==El&&void 0!==El&&El._id&&(e._id=null===El||void 0===El?void 0:El._id);const l=null!==El&&void 0!==El&&El._id?$.CU:u.YF,i=await Pe(l(e)).unwrap();d.oR.success((null===i||void 0===i?void 0:i.message)||"Work experience added successfully!"),Wl(),Pe((0,$.wo)())}catch(i){d.oR.error(i||"Failed to save work experience")}finally{Rl(!1)}}else Pl(l)},handleChange:Fl,setFormData:Il,allSkills:kl||[],setAddModalState:wl,setInputFields:Ke,isCreatedByUserForIndustry:sl,isCreatedByUserFor:rl,skillForProfileRoleId:nl,loading:ql}),(0,v.jsx)(W,{modalState:Sl,handleClose:Wl,collegeList:pl.collegeList,formData:El,handleChange:Fl,handleSelectChange:Bl,handleSubmit:$l,error:Ll,companyList:null===pl||void 0===pl?void 0:pl.allCompanies,setFormData:Il,handleFileUpload:Ql,setAddModalState:wl,loading:ql,handleFileDelete:Zl,setInputFields:Ke}),(0,v.jsx)(J,{modalState:Sl,handleClose:Wl,formData:El,handleChange:Fl,error:Ll,masterSkillsList:pl.masterSkillsList,handleSubmit:Yl,handleFileUpload:Ql,setFormData:Il,setError:Pl,handleFileDelete:Zl,setAddModalState:wl,loading:ql,setInputFields:Ke}),(0,v.jsx)(T.A,{isOpen:jl.isOpen,title:"Add ".concat(jl.type),onClose:()=>{wl({isOpen:!1,type:"",field:""}),Ke({name:"",logo_url:""})},handleSubmit:async()=>{try{var e;let l="",i=null,a=jl.field;switch(jl.type){case"college":l="institutions",i=$.d5;break;case"degree":l="degrees",i=$.Sq;break;case"field":l="fields-of-studies",i=$.Ns;break;case"skill":l="skills",i=$.KP;break;case"companies":l="companies",i=Y.Nl;break;case"industries":l="industries",i=Y.IQ;break;case"profile-roles":l="profile-roles",i=Y.fJ;break;case"masterSkill":l="skills",i=X.bG;break;default:return}Rl(!0);const t=await Pe((0,g.A5)((0,s.A)({type:l},Je))).unwrap();if(Rl(!1),Pe(i({_id:t.data._id,name:t.data.name,created_by_users:null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.created_by_users})),a)if("skills_acquired"!==a){Il(e=>(0,s.A)((0,s.A)({},e),{},{[a]:t.data._id}));const e=t.data.created_by_users;Tl(a,t.data._id,e)}else Il(e=>(0,s.A)((0,s.A)({},e),{},{skills_acquired:[...e.skills_acquired||[],t.data._id]}));wl({isOpen:!1,type:"",field:""}),Ke({name:"",logo_url:""})}catch(l){d.oR.error(l)}finally{Rl(!1)}},loading:ql,children:(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsx)(C.A,{className:"w-full h-10",label:"Enter Name",required:!0,placeholder:"Enter name",value:null===Je||void 0===Je?void 0:Je.name,onChange:e=>Ke(l=>(0,s.A)((0,s.A)({},l),{},{name:e.target.value}))}),("Add company"===jl.type||"Add companies"===jl.type)&&(0,v.jsx)(Z.A,{value:null===Je||void 0===Je?void 0:Je.logo_url,required:!0,label:"Logo",onChange:e=>(async e=>{if(!e)return void d.oR.error("Please select a file");if(e.size>5242880)return void d.oR.error("File size must be less than 5MB");if(["image/jpeg","image/jpg","image/png"].includes(e.type)){Rl(!0);try{var l;const i=await(0,o.pv)(e,"ADDITIONAL_CERTIFICATIONS_MEDIA");null!==i&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.imageURL&&(Ke(e=>(0,s.A)((0,s.A)({},e),{},{logo_url:i.data.imageURL})),d.oR.success((null===i||void 0===i?void 0:i.message)||"Image uploaded successfully"))}catch(i){d.oR.error((null===i||void 0===i?void 0:i.message)||"Failed to upload image")}finally{Rl(!1)}}else d.oR.error("Only image files (JPEG, PNG) are allowed")})(e)})]})})]})}}}]);
//# sourceMappingURL=226.492b7f3f.chunk.js.map