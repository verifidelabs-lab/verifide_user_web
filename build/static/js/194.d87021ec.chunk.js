"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[194],{138:(e,l,t)=>{t.d(l,{A:()=>d});var s=t(5043),i=t(5200),a=t(9804),n=t(423),o=t(579);const d=e=>{let{onFileUpload:l,allowedTypes:t=["image/png","image/jpeg","image/jpg","application/pdf"],maxSize:d=5,isUploading:r,file:c,setFile:u,inputId:v}=e;const[m,x]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null),b=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(c instanceof File){const e=URL.createObjectURL(c);return g(e),()=>URL.revokeObjectURL(e)}g("string"===typeof c?c:null)},[c]);const j=e=>{if(x(""),!e)return;if(!t.includes(e.type))return void x("Invalid file type. Allowed: ".concat(t.join(", ")));const s=1024*d*1024;e.size>s?x("File too large. Max: ".concat(d,"MB")):(u(e),l&&l(e))},y=(0,s.useCallback)(e=>{e.preventDefault(),h(!0)},[]),N=(0,s.useCallback)(()=>h(!1),[]),w=(0,s.useCallback)(e=>{e.preventDefault(),h(!1);const l=e.dataTransfer.files[0];j(l)},[]),k=(0,s.useCallback)(()=>{u(""),x(""),g(null),b.current&&(b.current.value=""),l&&l(null)},[u,l]);return(0,o.jsxs)("div",{className:"w-full mx-auto",children:[(0,o.jsxs)("div",{className:"\n          relative border border-dashed rounded-xl p-5 text-center transition-all duration-300 cursor-pointer\n          ".concat(p?"border-blue-400 bg-[#F6F8FA] scale-105":c?"border-green-300 bg-green-50":m?"border-red-300 bg-red-50":"border-gray-300 bg-gray-50 hover:border-gray-400 hover:bg-gray-100","\n          ").concat(r?"pointer-events-none opacity-70":"","\n        "),onDragOver:y,onDragLeave:N,onDrop:w,onClick:()=>!c&&b.current.click(),children:[(0,o.jsx)("input",{type:"file",id:v,ref:b,accept:t.join(","),onChange:e=>{const l=e.target.files[0];j(l)},className:"hidden",disabled:r}),r?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,o.jsx)("p",{className:"text-gray-600 font-medium",children:"Uploading..."})]}):f?(0,o.jsxs)("div",{className:"relative",children:[(_=f,[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"].some(e=>_.toLowerCase().endsWith(e))?(0,o.jsx)("img",{src:f,alt:"preview",className:"w-full md:max-w-full md:min-h-80 min-h-80 max-h-80 object-contain"}):(0,o.jsx)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(f),"&embedded=true"),title:"file-preview",className:"w-full h-80 border rounded"})),(0,o.jsx)("button",{onClick:k,className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-red-100 transition",children:(0,o.jsx)(n.WQq,{className:"h-4 w-4 text-red-500"})})]}):(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("div",{className:"rounded-full p-4 mx-auto w-16 h-16 flex items-center justify-center ".concat(p?"bg-blue-100":"bg-gray-100"),children:(0,o.jsx)(a.tAF,{className:"h-8 w-8 ".concat(p?"text-blue-500":"text-gray-400")})}),(0,o.jsx)("p",{className:"font-semibold ".concat(p?"text-blue-600":"text-gray-700"),children:p?"Drop your file here":"Upload your file"}),(0,o.jsx)("p",{className:"text-gray-500",children:"Drag and drop or click to browse"}),(0,o.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-200 text-xs text-gray-600",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Supported:"})," ",t.map(e=>e.split("/")[1].toUpperCase()).join(", ")]}),(0,o.jsxs)("p",{className:"mt-1",children:[(0,o.jsx)("strong",{children:"Max size:"})," ",d,"MB"]})]})]})]}),m&&(0,o.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[(0,o.jsx)(i.y3G,{className:"h-5 w-5 text-red-500"}),(0,o.jsx)("p",{className:"text-red-700 text-sm",children:m})]})]});var _}},5194:(e,l,t)=>{t.r(l),t.d(l,{default:()=>C});var s=t(9379),i=t(5043),a=t(184),n=t(579);const o=e=>{let{title:l,desc:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-[#000000] text-2xl font-semibold",children:l}),(0,n.jsx)("p",{className:"text-[#6B6B6B] text-base font-normal",children:t})]})},d=e=>{let{title:l,desc:t,icon:s,bg:i}=e;return(0,n.jsx)("div",{className:"mb-4 border border-[#00000033]/20 bg-[#FFFFFF] p-3 rounded-md",children:(0,n.jsxs)("div",{className:"flex items-center mb-1",children:[s&&(0,n.jsx)("span",{className:"mr-2 text-gray-600 w-10 h-10 rounded-md flex justify-center items-center ".concat(i),children:s}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex justify-start items-center",children:(0,n.jsx)("span",{className:"text-[#000000] font-medium text-lg ",children:l})}),(0,n.jsx)("span",{className:"font-normal text-xs text-[#00000080]/50",children:t})]})]})})};var r=t(9804),c=t(2639),u=t(3003),v=t(3574),m=t(6328),x=t(423);const p=e=>{let{item:l,getIcon:t,statusInfo:s,onClick:i}=e;return(0,n.jsxs)("div",{className:"flex  items-start sm:items-center justify-between p-4 bg-white border border-[#C3D6FF] shadow-md rounded-lg hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>{"Verified"===s.text&&["email","phone"].includes(null===l||void 0===l?void 0:l.type)?m.oR.info("Already verified!"):i(l)},children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"p-2 rounded-lg bg-gray-50",children:t(l.type)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium text-[#000000E6] capitalize",children:l.name}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:[l.count," Item",1!==l.count?"s":""]})]})]}),(0,n.jsxs)("div",{className:"flex  flex-col items-end justify-center gap-1 mt-2 sm:mt-0",children:[(0,n.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat(s.color),children:s.text}),(0,n.jsx)(x.OQo,{className:"text-lg"})]})]})},h=()=>(0,n.jsxs)("div",{className:"animate-pulse flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[(0,n.jsx)("div",{className:"bg-gray-200 h-10 w-10 rounded-lg"}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),(0,n.jsx)("div",{className:"h-6 w-20 bg-gray-200 rounded-full mt-4 sm:mt-0"})]});var f=t(8059),g=t(8214),b=t(7087),j=t(9981),y=t(3537),N=t(138),w=t(4272),k=t(152),_=t(5937),A=t(5413),F=t(1008);const C=e=>{var l,t,x,C,R,S,I,q,O,E,T,D,B,L,U,M,P,V;let{headline:z}=e;const Q=(0,u.wA)(),Y=(0,j.Zp)(),G=(0,u.d4)(e=>e.verification),W=(0,u.d4)(e=>e.global),{verificationTabCountData:{data:J}}=G||{},[K,H]=(0,i.useState)([]),[Z,$]=(0,i.useState)([]),[X,ee]=(0,i.useState)("categories"),[le,te]=(0,i.useState)(!1),[se,ie]=(0,i.useState)(!1),[ae,ne]=(0,i.useState)(Array(6).fill("")),[oe,de]=(0,i.useState)({isOpen:!1,data:{},tab:"",type:""}),[re,ce]=(0,i.useState)([]),[ue,ve]=(0,i.useState)([]),[me,xe]=(0,j.ok)(),{formData:pe,handleChange:he,errors:fe,setErrors:ge,resetForm:be,setFormData:je}=(0,b.A)({email:"",otp:"",phone:"",skills:[],id_number:"",country_code:{name:"",dial_code:"",short_name:"",emoji:""},token:""}),[ye,Ne]=(0,i.useState)(!1),[we,ke]=(0,i.useState)(0),[_e,Ae]=(0,i.useState)([]),[Fe,Ce]=(0,i.useState)(null),[Re,Se]=(0,i.useState)(!1),[Ie,qe]=(0,i.useState)(60),[Oe,Ee]=(0,i.useState)(!1),[Te,De]=(0,i.useState)(""),[Be,Le]=(0,i.useState)(""),[Ue,Me]=(0,i.useState)({}),Pe=(0,w.Kj)((null===W||void 0===W||null===(l=W.countriesData)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data)||[]),[Ve,ze]=(0,i.useState)(!1),Qe=(0,i.useRef)([]),[Ye,Ge]=(0,i.useState)(!0),[We,Je]=(0,i.useState)(!1),[Ke,He]=(0,i.useState)(null),Ze=()=>{Q((0,v.gn)())},$e=async()=>{te(!0);let e={tab:X};try{var l;const t=await Q((0,v.Jo)(e)).unwrap();H((null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.verifications)||[]),te(!1)}catch(t){m.oR.error(t),te(!1)}};(0,i.useEffect)(()=>{Ze(),$e(),Q((0,k.Xr)()),(async()=>{try{const e=await Q((0,v.rP)()).unwrap();$(null===e||void 0===e?void 0:e.data)}catch(e){m.oR.error(e||" Failed to fetch data !")}})()},[X]),(0,i.useEffect)(()=>{const e=me.get("tab");e&&ee(e)},[]),(0,i.useEffect)(()=>{ye&&dl&&(qe(60),Ee(!0))},[ye,we]),(0,i.useEffect)(()=>{let e=null;return Oe&&Ie>0&&(e=setInterval(()=>{qe(e=>e<=1?(Ee(!1),Xe(),0):e-1)},1e3)),()=>{e&&clearInterval(e)}},[Oe,Ie]);const Xe=()=>{we===rl-1?cl():ol()},el=e=>{ee(e),xe({tab:e})},ll=e=>{switch(e.toLowerCase()){case"verified":return{text:"Verified",color:"bg-green-100 text-green-600"};case"unverified":return{text:"Unverified",color:"bg-gray-100 text-gray-600"};case"pending":return{text:"Pending",color:"bg-orange-100 text-orange-600"};case"under review":return{text:"Under Review",color:"bg-yellow-100 text-yellow-600"};case"partial verified":return{text:"Partial verified",color:"bg-blue-100 text-blue-600"};case"required":return{text:"Required",color:"bg-red-100 text-red-600"};default:return{text:e,color:"bg-gray-100 text-gray-600"}}},tl=e=>{switch(e.toLowerCase()){case"email":return(0,n.jsx)(r.vJA,{className:"w-6 h-6 text-blue-500"});case"phone":return(0,n.jsx)(r.Elw,{className:"w-6 h-6 text-blue-500"});case"education":return(0,n.jsx)(a.YNd,{className:"w-6 h-6 text-blue-500"});case"skills":return(0,n.jsx)(r.kpv,{className:"w-6 h-6 text-blue-500"});case"identity":return(0,n.jsx)(r.PY8,{className:"w-6 h-6 text-blue-500"});default:return(0,n.jsx)(r.qGT,{className:"w-6 h-6 text-blue-500"})}},sl=[{name:"Categories",key:"categories"},{name:"Needs Verification",count:(null===J||void 0===J||null===(x=J.data)||void 0===x?void 0:x.unverified)||0,key:"needVerification"},{name:"Pending Requests",count:(null===J||void 0===J||null===(C=J.data)||void 0===C?void 0:C.pending)||0,key:"pendingRequest"},{name:"Verified",count:(null===J||void 0===J||null===(R=J.data)||void 0===R?void 0:R.verified)||0,key:"verified"}],il=async e=>{const l=X,t=null===e||void 0===e?void 0:e.type;if(console.log(l,t),"education"===(null===e||void 0===e?void 0:e.type)||"experience"===(null===e||void 0===e?void 0:e.type)||"certificate"===(null===e||void 0===e?void 0:e.type)||"project"===(null===e||void 0===e?void 0:e.type))Y("/user/verification-category?tab=".concat(l,"&type=").concat(t));else{var i,a,n,o,d,r;const N=await Q((0,v.CS)({moduleType:t,tab:X})).unwrap();if("identity"===t&&"requested"===(null===N||void 0===N||null===(i=N.data)||void 0===i||null===(a=i.identity)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.status))m.oR.info("Your document already sent for verification");else if("identity"===t&&"approved"===(null===N||void 0===N||null===(o=N.data)||void 0===o||null===(d=o.identity)||void 0===d||null===(r=d[0])||void 0===r?void 0:r.status)){var c,u,x,p,h,f,g;je(e=>{var l,t;return(0,s.A)((0,s.A)({},e),{},{id_number:null===N||void 0===N||null===(l=N.data)||void 0===l||null===(t=l.identity[0])||void 0===t?void 0:t.id_number})}),De(null===N||void 0===N||null===(c=N.data)||void 0===c||null===(u=c.identity[0])||void 0===u?void 0:u.front_side_file),Le(null===N||void 0===N||null===(x=N.data)||void 0===x||null===(p=x.identity[0])||void 0===p?void 0:p.back_side_file),de({isOpen:!0,tab:l,data:e,type:t}),Ge(!Array.isArray(null===N||void 0===N||null===(h=N.data)||void 0===h?void 0:h.identity)||null===N||void 0===N||null===(f=N.data)||void 0===f||null===(g=f.identity[0])||void 0===g||!g.id_number)}else if("verified"===l&&"skills"===t){var b;Je(!0),He(null===N||void 0===N||null===(b=N.data)||void 0===b?void 0:b.skills)}else{var j,y;const s=null===N||void 0===N||null===(j=N.data)||void 0===j||null===(y=j.skills)||void 0===y?void 0:y.filter(e=>!(null!==e&&void 0!==e&&e.is_verified)).map(e=>({value:null===e||void 0===e?void 0:e.skill_id,label:null===e||void 0===e?void 0:e.name}));ce(s),de({isOpen:!0,tab:l,data:e,type:t}),Me(null===N||void 0===N?void 0:N.data)}}},al=()=>{de({isOpen:!1,data:{},type:""}),be(),De(""),Le(""),ge({}),ze(!1),ne(Array(6).fill("")),ze(!1)},nl=async()=>{var e;const l={};if(null!==pe&&void 0!==pe&&pe.phone?/^\d{10}$/.test(pe.phone)||(l.phone="Enter a valid 10-digit phone number"):l.phone="Phone number is required",null!==pe&&void 0!==pe&&null!==(e=pe.country_code)&&void 0!==e&&e.name||(l.country_code="Country code is required"),Object.keys(l).length>0)return void ge(l);let t={phone_number:null===pe||void 0===pe?void 0:pe.phone,country_code:null===pe||void 0===pe?void 0:pe.country_code};try{var i;const e=await Q((0,v.Uz)(t)).unwrap();m.oR.success(null===e||void 0===e?void 0:e.message),null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.token&&(ze(!0),je(l=>{var t;return(0,s.A)((0,s.A)({},l),{},{token:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.token})}))}catch(a){m.oR.error(a)}},ol=async()=>{try{var e,l;const t=null===Fe||void 0===Fe||null===(e=Fe.questions)||void 0===e?void 0:e[we],s={question:null===t||void 0===t?void 0:t.question,selected_options:_e,skillToken:null===Fe||void 0===Fe?void 0:Fe.skillToken};await Q((0,v.Jx)(s)).unwrap(),we<((null===Fe||void 0===Fe||null===(l=Fe.questions)||void 0===l?void 0:l.length)||0)-1?(ke(we+1),Ae([])):(m.oR.success("Assessment completed successfully!"),Ne(!1))}catch(t){m.oR.error(t||"Failed to submit answer")}},dl=(null===Fe||void 0===Fe||null===(S=Fe.questions)||void 0===S?void 0:S[we])||{},rl=(null===Fe||void 0===Fe||null===(I=Fe.questions)||void 0===I?void 0:I.length)||0,cl=async()=>{const e={question:null===dl||void 0===dl?void 0:dl.question,selected_options:_e,skillToken:null===Fe||void 0===Fe?void 0:Fe.skillToken},l=await Q((0,v.Jx)(e)).unwrap();if(m.oR.info(null===l||void 0===l?void 0:l.message),l){const e=await Q((0,v.Si)({skillToken:null===Fe||void 0===Fe?void 0:Fe.skillToken})).unwrap();m.oR.info(null===e||void 0===e?void 0:e.message),de({data:null===e||void 0===e?void 0:e.data}),Q((0,_.E$)()),Se(!0),Ne(!1),Ce(null),qe(0)}},ul=async(e,l)=>{if(!l)return void m.oR.error("Please select a file");if(l.size>5242880)return void m.oR.error("File size must be less than 5MB");const t="application/pdf";if(["image/jpeg","image/jpg","image/png",t].includes(l.type)){"FRONT"===e?te(!0):ie(!0);try{var s;let v;var i,a,n,o;if(v=l.type===t?await(0,w.It)(l,"IDENTITY_VERIFICATION_MEDIA"):await(0,w.pv)(l,"IDENTITY_VERIFICATION_MEDIA"),"FRONT"===e)De((null===(i=v)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.fileURL)||(null===(n=v)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.imageURL)),ge({});else if("BACK"===e){var d,r,c,u;Le((null===(d=v)||void 0===d||null===(r=d.data)||void 0===r?void 0:r.fileURL)||(null===(c=v)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.imageURL)),ge({})}m.oR.success((null===(s=v)||void 0===s?void 0:s.message)||"File uploaded successfully")}catch(v){console.error("File upload error:",v),m.oR.error((null===v||void 0===v?void 0:v.message)||"Failed to upload file")}finally{te(!1),ie(!1)}}else m.oR.error("Only image files (JPEG, PNG) or PDF are allowed")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"p-4 bg-[#F6FAFD] space-y-3",children:[(0,n.jsxs)("nav",{className:"flex justify-start items-center gap-2 mb-2 text-sm",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Home"}),(0,n.jsx)("span",{className:"text-gray-400",children:"\u203a"}),(0,n.jsx)("span",{className:"font-semibold text-base text-[#2563EB]",children:"All Category"})]}),(0,n.jsxs)("div",{className:"bg-[#FFFFFF] border border-[#00000033]/20 p-4 rounded-md",children:[(0,n.jsx)(o,{title:"Verification Center",desc:"Manager your Learning Activates for: ".concat(z||"")}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-3 mt-3",children:[(0,n.jsx)(d,{title:"".concat((null===Z||void 0===Z?void 0:Z.verification_percentage)||"N/A"," %"),desc:"Overall Verification",icon:(0,n.jsx)(r.qGT,{className:"text-[#000000]"}),progress:45,bg:"bg-[#BCCFFA57]/30"}),(0,n.jsx)(d,{title:"".concat((null===Z||void 0===Z?void 0:Z.verification_rating)||"0"," Star "),desc:"Average Rating",icon:(0,n.jsx)(a.wei,{className:"text-[#000000]"}),progress:45,bg:"bg-[#FEA6131A]/10"}),(0,n.jsx)(d,{title:"".concat((null===Z||void 0===Z?void 0:Z.verification_strength)||"N/A"," "),desc:" Verification Strength",icon:(0,n.jsx)(c.hZ_,{className:"text-[#000000]"}),progress:45,bg:"bg-[#00BA001A]/30"})]})]}),(0,n.jsx)("div",{className:"md:hidden block ",children:(0,n.jsx)("div",{className:" flex  justify-evenly gap-4 overflow-hidden overflow-x-scroll  w-full ",children:sl.map(e=>(0,n.jsxs)("button",{onClick:()=>el(e.key),className:"relative   flex items-center gap-2 text-xs font-medium transition-colors ".concat(X===e.key?"text-[#000000E6] border-b border-blue-600":"text-gray-500 hover:text-gray-700"),children:[e.name,void 0!==e.count&&(0,n.jsx)("span",{className:"w-5 h-5 flex items-center justify-center rounded-full border border-gray-300 text-xs",children:e.count}),X===e.label&&(0,n.jsx)("span",{className:"absolute left-0 -bottom-[1px] w-full h-[2px] bg-blue-500 rounded"})]},e.label))})}),(0,n.jsxs)("div",{className:"py-2 md:py-4 bg-[#FFFFFF] border border-[#00000033]/20 p-4 rounded-md",children:[(0,n.jsxs)("div",{className:"md:block hidden",children:[(0,n.jsx)("h2",{className:"text-[#000000] text-[22px] font-bold",children:"Verification Categories"}),(0,n.jsx)("div",{className:"flex justify-between md:w-fit bg-[#F5F5F4] rounded-[10px] p-2 w-full flex-wrap ",children:sl.map(e=>(0,n.jsxs)("button",{className:"px-4 py-2 text-sm rounded-md transition-all ".concat(X===e.key?"bg-white text-[#2563EB] border-b-2 border-[#2563EB] font-semibold shadow-sm":"text-[#00000099]/60 font-medium"),onClick:()=>el(e.key),children:[e.name,null!==e.count&&e.count>0&&(0,n.jsx)("span",{className:"ml-1.5 ".concat(X===e.key?"text-gray-500":"text-gray-400"),children:e.count})]},e.name))})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-5",children:le?Array.from({length:(null===K||void 0===K?void 0:K.length)||6}).map((e,l)=>(0,n.jsx)(h,{},l)):K&&K.length>0?K.map((e,l)=>(0,n.jsx)(p,{item:e,getIcon:tl,statusInfo:ll(e.status),onClick:il},l)):(0,n.jsx)("div",{className:"col-span-full text-center text-gray-500",children:"No Data Found"})})]})]}),(0,n.jsxs)(f.A,{isOpen:null===oe||void 0===oe?void 0:oe.isOpen,title:oe.type,onClose:()=>{de({isOpen:!1}),be(),ve([]),ze(!1)},handleSubmit:async()=>{let e={};if("identity"===oe.type){if(null!==pe&&void 0!==pe&&pe.id_number||(e.id_number="ID number is required"),Te||(e.frontImage="Front image is required"),Be||(e.backImage="Back image is required"),Object.keys(e).length>0)return void ge(e);try{var l,t;let e={id_number:null===pe||void 0===pe?void 0:pe.id_number,front_side_file:Te,back_side_file:Be};var s;if("rejected"===(null===Ue||void 0===Ue||null===(l=Ue.identity[0])||void 0===l?void 0:l.status))e._id=null===Ue||void 0===Ue||null===(s=Ue.identity[0])||void 0===s?void 0:s._id;const a="rejected"===(null===Ue||void 0===Ue||null===(t=Ue.identity[0])||void 0===t?void 0:t.status)?v.Gj:v.nY,n=await Q(a(e)).unwrap();if(null!==n&&void 0!==n&&n.data){var i;let e={document_id:null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i._id,type:"identity-verifications",attach_file:[]};Q((0,v.zT)(e)),m.oR.success(null===n||void 0===n?void 0:n.message),al(),Ze(),$e()}}catch(a){m.oR.error(a||"An error accrued!")}}else if("phone"===(null===oe||void 0===oe?void 0:oe.type))if(Ve){if(Ve){const e=ae.join("");if(6!==e.length)return void m.oR.error("Please enter a 6-digit OTP");let l={token:null===pe||void 0===pe?void 0:pe.token,otp:e};try{const e=await Q((0,v.MN)(l)).unwrap();m.oR.success(null===e||void 0===e?void 0:e.message),al(),$e()}catch(a){m.oR.error(a)}}}else nl();else{let e={skills:null===pe||void 0===pe?void 0:pe.skills};try{const l=await Q((0,v.Fg)(e)).unwrap();ve((null===l||void 0===l?void 0:l.data)||[]),0===(null===l||void 0===l?void 0:l.data.length)&&m.oR.info("No Assessment Available for this skills !")}catch(a){m.oR.error(a)}}},isActionButton:!(0!==ue.length||!Ye),children:[(0,n.jsx)("div",{className:"",children:"skills"===oe.type?(0,n.jsx)("div",{className:" z-auto",children:(0,n.jsx)(y.A,{options:re,className:"w-full h-10",onChange:e=>{je(l=>(0,s.A)((0,s.A)({},l),{},{skills:null===e||void 0===e?void 0:e.map(e=>null===e||void 0===e?void 0:e.value)}))},selectedOption:null===re||void 0===re?void 0:re.find(e=>e.value===(null===pe||void 0===pe?void 0:pe.skills)),isMulti:!0})}):"identity"===(null===oe||void 0===oe?void 0:oe.type)?(0,n.jsxs)("div",{className:"space-y-2",children:[Array.isArray(null===Ue||void 0===Ue?void 0:Ue.identity)&&"rejected"===(null===Ue||void 0===Ue||null===(q=Ue.identity[0])||void 0===q?void 0:q.status)&&(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"capitalize",children:[(0,n.jsx)("span",{className:"font-semibold text-sm text-amber-900 pr-2",children:"Reject Reason:-"}),Array.isArray(null===Ue||void 0===Ue?void 0:Ue.identity)&&(null===Ue||void 0===Ue||null===(O=Ue.identity[0])||void 0===O?void 0:O.rejection_reason)]})}),(0,n.jsx)(g.A,{label:"Identity No",placeholder:"eg:  acceptable IDs (Aadhaar, Driving License, etc.) ",value:null===pe||void 0===pe?void 0:pe.id_number,onChange:e=>he("id_number",e.target.value),name:"id_number",error:null===fe||void 0===fe?void 0:fe.id_number,className:"h-10 w-full",required:!0}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("label",{className:"text-base text-[#282828] font-medium mb-2",children:"Front Image"}),(0,n.jsx)(N.A,{inputId:"front-upload",onFileUpload:e=>ul("FRONT",e),file:Te,setFile:De,isUploading:le}),(0,n.jsx)("p",{className:"text-red-500 text-xs",children:null===fe||void 0===fe?void 0:fe.frontImage})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("label",{className:"text-base text-[#282828] font-medium mb-2",children:"Back Image"}),(0,n.jsx)(N.A,{inputId:"back-upload",onFileUpload:e=>ul("BACK",e),file:Be,setFile:Le,isUploading:se}),(0,n.jsx)("p",{className:"text-red-500 text-xs",children:null===fe||void 0===fe?void 0:fe.backImage})]})]}):"phone"===(null===oe||void 0===oe?void 0:oe.type)?(0,n.jsx)("div",{children:Ve?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("labe",{className:"text-base text-[#282828] font-medium  flex items-center gap-1 ",children:"Enter 6 digit otp"}),(0,n.jsx)("div",{className:"flex justify-center items-center gap-2 mx-auto",children:Array.from({length:6}).map((e,l)=>(0,n.jsx)("input",{ref:e=>Qe.current[l]=e,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:ae[l],onChange:e=>((e,l)=>{if(l.length>1&&(l=l.slice(-1)),l&&isNaN(l))return;const t=[...ae];var s;t[e]=l,ne(t),l&&e<5&&(null===(s=Qe.current[e+1])||void 0===s||s.focus())})(l,e.target.value),onKeyDown:e=>((e,l)=>{var t;"Backspace"===l.key&&!ae[e]&&e>0&&(null===(t=Qe.current[e-1])||void 0===t||t.focus())})(l,e),className:"w-12 h-12 text-center text-xl border-2 rounded-lg focus:ring-2 focus:ring-blue-300 outline-none transition-all ".concat(ae[l]?"border-blue-500":"border-gray-300")},l))}),(0,n.jsx)("div",{className:"flex justify-center  items-center py-2 ",children:(0,n.jsx)("span",{onClick:()=>nl(),className:"text-blue-500 hover:underline pb-1 cursor-pointer font-semibold text-lg ",children:"Resend Otp"})})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(y.A,{label:"Select Country",options:Pe||[],value:Pe.find(e=>{var l;return e.label===(null===pe||void 0===pe||null===(l=pe.country_code)||void 0===l?void 0:l.name)}),onChange:e=>(e=>{je(l=>(0,s.A)((0,s.A)({},l),{},{country_code:{name:null===e||void 0===e?void 0:e.label,dial_code:null===e||void 0===e?void 0:e.dial_code,short_name:(null===e||void 0===e?void 0:e.short_name)||"IN",emoji:(null===e||void 0===e?void 0:e.emoji)||"\ud83c\uddee\ud83c\uddf3"}}))})(e),error:null===fe||void 0===fe?void 0:fe.country_code}),(null===pe||void 0===pe||null===(E=pe.country_code)||void 0===E?void 0:E.name)&&(0,n.jsx)(g.A,{type:"number",value:null===pe||void 0===pe?void 0:pe.phone,onChange:e=>je(l=>(0,s.A)((0,s.A)({},l),{},{phone:e.target.value})),label:"Enter Phone Number",className:"w-full h-10",placeholder:"Enter mobile no according to country",error:null===fe||void 0===fe?void 0:fe.phone})]})}):(0,n.jsx)(g.A,{label:"Email Address",placeholder:"Enter Email",className:"w-full h-10",value:null===pe||void 0===pe?void 0:pe.email,onChange:e=>he("email",e.target.value)})}),(0,n.jsx)("div",{className:"my-2",children:ue.length>0?ue.map(e=>{var l;return(0,n.jsxs)("div",{className:"border rounded-lg p-2 my-2 cursor-pointer hover:bg-gray-100 transition",children:[(0,n.jsx)("p",{className:"font-semibold",children:null===e||void 0===e?void 0:e.title}),(0,n.jsx)("p",{children:null===e||void 0===e?void 0:e.description}),(0,n.jsxs)("p",{children:["Level: ",null===e||void 0===e||null===(l=e.level_id)||void 0===l?void 0:l.name]}),(0,n.jsxs)("p",{children:["Questions: ",null===e||void 0===e?void 0:e.no_of_questions]}),(0,n.jsxs)("p",{children:["Time Limit: ",null===e||void 0===e?void 0:e.time_limit," mins"]}),(0,n.jsxs)("p",{children:["Max Attempts: ",null===e||void 0===e?void 0:e.max_attempts]}),(0,n.jsx)("p",{className:"text-blue-500 cursor-pointer",onClick:()=>(async e=>{try{const l=await Q((0,v.rL)({skills:null===pe||void 0===pe?void 0:pe.skills,assessment_id:null===e||void 0===e?void 0:e._id})).unwrap();null!==l&&void 0!==l&&l.data&&(Ne(!0),ke(0),Ae([]),de({isOpen:!1}),Ce(null===l||void 0===l?void 0:l.data))}catch(l){m.oR.error(l||"Failed to start assessment")}})(e),children:"Click here to start assessment"})]},e._id)}):(0,n.jsx)(n.Fragment,{})})]}),(0,n.jsx)(f.A,{isOpen:ye,onClose:()=>{Ne(!1),ve([])},title:"Assessment (Question ".concat(we+1," of ").concat(rl,")"),hideFooter:!0,handleSubmit:we===rl-1?cl:ol,buttonLabel:we===rl-1?"Submit Assessment":"Next Question",submitButtonDisabled:0===_e.length,isActionButton:!0,children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,n.jsxs)("div",{className:"relative w-16 h-16",children:[(0,n.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,n.jsx)("path",{className:"text-gray-200",strokeWidth:"4",fill:"none",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,n.jsx)("path",{className:"text-blue-500",strokeWidth:"4",strokeDasharray:"".concat((we+1)/rl*100,", 100"),fill:"none",strokeLinecap:"round",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,n.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-gray-800",children:[we+1,"/",rl]})]}),(0,n.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Progress"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,n.jsxs)("div",{className:"relative w-16 h-16",children:[(0,n.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,n.jsx)("path",{className:"text-gray-200",strokeWidth:"4",fill:"none",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,n.jsx)("path",{className:"".concat(Ie<=10?"text-red-500":Ie<=30?"text-orange-400":"text-green-500"),strokeWidth:"4",strokeDasharray:"".concat(Ie/60*100,", 100"),fill:"none",strokeLinecap:"round",stroke:"currentColor",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,n.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-gray-800",children:[Ie,"s"]})]}),(0,n.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Timer"})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-[#000000E6]",children:null===dl||void 0===dl?void 0:dl.question}),(0,n.jsx)("p",{className:"text-sm text-gray-500 italic",children:"multi_choice"===(null===dl||void 0===dl?void 0:dl.question_type)?"Select all that apply":"Select one option"}),(0,n.jsx)("div",{className:"space-y-3",children:null===dl||void 0===dl||null===(T=dl.options)||void 0===T?void 0:T.map((e,l)=>{const t=_e.includes(e);return(0,n.jsx)("div",{className:"p-4 border rounded-xl cursor-pointer transition duration-300 ease-in-out \n                ".concat(t?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:bg-gray-50"),onClick:()=>{"multi_choice"===dl.question_type?Ae(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e]):Ae([e])},children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"multi_choice"===dl.question_type?"checkbox":"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500",checked:t,readOnly:!0}),(0,n.jsxs)("label",{className:"ml-3 block text-gray-700 text-sm font-medium",children:[String.fromCharCode(65+l),". ",e]})]})},l)})})]}),Ie<=10&&Ie>0&&(0,n.jsxs)("div",{className:"bg-red-100 border border-red-300 text-red-700 p-3 rounded-lg text-sm font-medium",children:["\u26a0\ufe0f Hurry up! Only ",Ie," seconds left!"]})]})}),(0,n.jsx)(f.A,{isOpen:Re,title:"Result",onClose:()=>{Se(!1),ve([])},isActionButton:!1,children:(0,n.jsxs)("div",{className:"space-y-4 max-h-[40vh] overflow-hidden overflow-y-auto",children:[(0,n.jsxs)("div",{className:"text-lg font-semibold",children:["Total Questions: ",null===oe||void 0===oe||null===(D=oe.data)||void 0===D?void 0:D.total_questions]}),(0,n.jsxs)("div",{className:"text-lg font-semibold",children:["Total Score: ",null===oe||void 0===oe||null===(B=oe.data)||void 0===B?void 0:B.total_score]}),(0,n.jsx)("div",{className:"text-lg font-semibold ".concat(null!==oe&&void 0!==oe&&null!==(L=oe.data)&&void 0!==L&&L.passed?"text-green-600":"text-red-600"),children:null!==oe&&void 0!==oe&&null!==(U=oe.data)&&void 0!==U&&U.passed?"Status: Passed":"Status: Failed"}),(null===oe||void 0===oe||null===(M=oe.data)||void 0===M?void 0:M.certificate_id)&&(0,n.jsx)("div",{children:(0,n.jsx)(A.A,{onClick:()=>{var e;return(e=>{Y("/certtificate-view/".concat(e))})(null===oe||void 0===oe||null===(e=oe.data)||void 0===e?void 0:e.certificate_id)},children:"Certificate View"})}),null===oe||void 0===oe||null===(P=oe.data)||void 0===P||null===(V=P.answers)||void 0===V?void 0:V.map((e,l)=>(0,n.jsxs)("div",{className:"border p-3 rounded-md shadow-sm",children:[(0,n.jsxs)("div",{className:"font-medium text-base mb-1",children:["Q",l+1,": ",e.question]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Type:"})," ",e.question_type]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Options:"}),(0,n.jsx)("ul",{className:"list-disc ml-5",children:e.options.map((l,t)=>(0,n.jsx)("li",{className:e.selected_options.includes(l)?"font-semibold text-blue-600":"",children:l},t))})]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Selected:"})," ",e.selected_options.join(", ")||"None"]}),(0,n.jsxs)("div",{className:"text-sm mb-1",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Correct:"})," ",e.is_correct?(0,n.jsx)("span",{className:"text-green-600 font-semibold",children:"Yes"}):(0,n.jsx)("span",{className:"text-red-600 font-semibold",children:"No"})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Score:"})," ",e.score]})]},l))]})}),(0,n.jsx)(f.A,{isOpen:We,title:"Verified Skills",onClose:()=>{Je(!1),He(null)},isActionButton:!1,children:(0,n.jsx)("div",{className:"space-y-2",children:(0,n.jsx)(F.fL,{skills:Ke||[]})})})]})}}}]);
//# sourceMappingURL=194.d87021ec.chunk.js.map