{"version":3,"file":"static/js/932.0973569d.chunk.js","mappings":"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","sources":["components/Layout/PublicLayout/Header/Header.js"],"sourcesContent":["import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { Link, useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { BiMenu, BiX } from \"react-icons/bi\";\nimport HeaderJson from \"./Header.json\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"../../../ui/Button/Button\";\nimport { BaseUrl } from \"../../../hooks/axiosProvider\";\nimport { getProfile } from \"../../../../redux/slices/authSlice\";\nimport { getCookie } from \"../../../utils/cookieHandler\";\n\nconst Header = ({ profileData, setUserType, playAndShowNotification }) => {\n  const dispatch = useDispatch();\n  const { id, username } = useParams();\n\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [isUserData, setIsUserData] = useState(null);\n  const [loadingUser, setLoadingUser] = useState(true);\n  const [accessMode] = useState(getCookie(\"VERIFIED_TOKEN\"));\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      if (!accessMode) {\n        setLoadingUser(false);\n        return;\n      }\n      try {\n        const reduxRes = await dispatch(getProfile()).unwrap();\n        setIsUserData(reduxRes?.data);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoadingUser(false);\n      }\n    };\n\n    fetchUserData();\n  }, [accessMode, dispatch]);\n\n  const dropdownRef = useRef();\n  const modeDropdownRef = useRef();\n  const [modeDropdown, setModeDropdown] = useState(false);\n\n  // Example condition logic\n  const getRedirectPath = () => {\n    const currentPath = location.pathname;\n\n    // Example conditions\n    if (currentPath.includes(\"/company-details/\")) {\n      return `user/view-details/companies/${id}`;\n    } else if (currentPath.includes(\"/post-view/\")) {\n      return `user/feed/${id}`;\n    } else {\n      return `user/profile/${username}/${id}`;\n    }\n  };\n\n  const redirectURL = encodeURIComponent(\"/\" + getRedirectPath());\n  const redirectpath = getRedirectPath();\n  // useEffect(() => {\n  //   if (isUserData) {\n  //     // Redirect to the user's own profile page (example)\n  //     navigate(redirectURL);\n  //   }\n  // }, [isUserData, navigate]); // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      // Close profile dropdown\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n\n      // Close mode dropdown\n      if (\n        modeDropdownRef.current &&\n        !modeDropdownRef.current.contains(event.target)\n      ) {\n        setModeDropdown(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  // Close dropdowns when route changes\n  useEffect(() => {\n    setIsDropdownOpen(false);\n    setModeDropdown(false);\n  }, [location.pathname]);\n\n  const topRef = useRef(null);\n  const scrollToTop = () => {\n    if (topRef.current) {\n      topRef.current.scrollIntoView({ behavior: \"smooth\" });\n    } else {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  };\n  const entryTypeOptions = [\n    { value: \"Master Entries\", label: \"Master Entries\" },\n    { value: \"User Entries\", label: \"User Entries\" },\n  ];\n  const [entryType, setEntryType] = useState(entryTypeOptions[0]);\n\n  return (\n    <header\n      className=\"glassy-card z-10 border-b border-black border-opacity-10\"\n      ref={topRef}\n    >\n      <div className=\"mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n            className=\"text-2xl glassy-text-primary md:hidden focus:outline-none\"\n          >\n            {isMobileMenuOpen ? <BiX /> : <BiMenu />}\n          </button>\n          {location.pathname === \"/user/terms-and-conditions\" && (\n            <div className=\"flex items-center gap-3 w-72\">\n              <img\n                src=\"/Frame 1000004906.png\"\n                alt=\"logo\"\n                className=\"h-8 transition-transform duration-300 hover:scale-105\"\n              />\n            </div>\n          )}\n          <nav className=\"hidden lg:flex lg:gap-14 md:gap-3 2xl:ps-0 xl:ps-8 md:ps-10 lg:ps-0 flex-1\">\n            {HeaderJson?.headerItems?.map((item, index) => {\n              const isActive = location.pathname === item?.path;\n              const isHome = item?.path === \"/\";\n\n              return (\n                <Link\n                  key={index}\n                  to={item?.path}\n                  onClick={() => {\n                    if (isHome) {\n                      scrollToTop();\n                    }\n                  }}\n                  className={`lg:text-[16px] md:text-[14px] transition duration-200 ${\n                    isActive\n                      ? \"font-semibold glassy-text-primary border-b-2 border-blue-600\"\n                      : \"font-medium glassy-text-primary hover:text-blue-600 hover:border-b-2 hover:border-blue-600\"\n                  } pb-1`}\n                >\n                  {item?.name}\n                </Link>\n              );\n            })}\n          </nav>\n        </div>\n\n        {/* <div className=\"flex gap-3 items-center relative\">\n          <div className=\"flex items-center gap-4\">\n            <Button>\n              <Link\n                to={`${BaseUrl}login?redirect=${redirectURL}`}\n              >\n                Sign In\n              </Link>\n            </Button>\n          </div>\n        </div> */}\n        <div className=\"flex items-center space-x-6\">\n          {isUserData ? (\n            <>\n              <Link\n                to={`${BaseUrl}${redirectpath}`}\n                className=\"flex justify-start gap-2 items-center\"\n              >\n                <div className=\"flex justify-start gap-2 items-center\">\n                  {isUserData.personalInfo?.profile_picture_url ? (\n                    <img\n                      src={isUserData.personalInfo?.profile_picture_url}\n                      key={isUserData.personalInfo?.profile_picture_url}\n                      alt=\"user\"\n                      className=\"w-8 h-8 rounded-full border\"\n                    />\n                  ) : (\n                    <img\n                      src=\"/0684456b-aa2b-4631-86f7-93ceaf33303c.png\"\n                      className=\"w-8 h-8 rounded-full border\"\n                      alt=\"user\"\n                    />\n                  )}\n                  <h2 className=\"glassy-text-primary\">{isUserData.personalInfo?.username}</h2>\n                </div>\n              </Link>\n            </>\n          ) : (\n            <Button variant=\"primary\">\n              <Link\n                to={`${BaseUrl}login?redirect=${redirectURL}`}\n                onClick={() => window.localStorage.setItem(\"postId\", id)}\n\n              >\n                Sign In\n              </Link>\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      {isMobileMenuOpen && (\n        <div className=\"md:hidden px-4 pb-3 space-y-2 glassy-card border-t border-gray-200\">\n          {HeaderJson?.headerItems?.map((item, index) => {\n            const isActive = location.pathname === item?.path;\n            return (\n              <Link\n                key={index}\n                to={item?.path}\n                className={`block px-3 py-2 text-base transition duration-200 ${\n                  isActive\n                    ? \"font-semibold glassy-text-primary border-b-2 border-blue-600\"\n                    : \"font-medium glassy-text-primary hover:text-blue-600 hover:border-b-2 hover:border-blue-600\"\n                }`}\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                {item?.name}\n              </Link>\n            );\n          })}\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Header;\n"],"names":["_ref","_HeaderJson$headerIte","_isUserData$personalI","_isUserData$personalI2","_isUserData$personalI3","_isUserData$personalI4","_HeaderJson$headerIte2","profileData","setUserType","playAndShowNotification","dispatch","useDispatch","id","username","useParams","isMobileMenuOpen","setIsMobileMenuOpen","useState","isDropdownOpen","setIsDropdownOpen","location","useLocation","isUserData","setIsUserData","useNavigate","loadingUser","setLoadingUser","accessMode","getCookie","useEffect","async","reduxRes","getProfile","unwrap","data","err","console","error","fetchUserData","dropdownRef","useRef","modeDropdownRef","modeDropdown","setModeDropdown","getRedirectPath","currentPath","pathname","includes","concat","redirectURL","encodeURIComponent","redirectpath","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","isOpen","setIsOpen","topRef","entryType","setEntryType","value","label","_jsxs","className","ref","children","_jsx","onClick","BiX","BiMenu","src","alt","HeaderJson","map","item","index","isActive","path","isHome","Link","to","scrollIntoView","behavior","window","scrollTo","top","name","_Fragment","BaseUrl","personalInfo","profile_picture_url","Button","variant","localStorage","setItem"],"sourceRoot":""}