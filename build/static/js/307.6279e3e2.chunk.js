"use strict";(self.webpackChunkcomfygen_react_new_base_folder=self.webpackChunkcomfygen_react_new_base_folder||[]).push([[307],{130:e=>{e.exports=JSON.parse('{"company_type":[{"value":"public","label":"Public"},{"value":"private","label":"Private"},{"value":"non-profit","label":"non-profit"},{"value":"government","label":"government"},{"value":"partnership","label":"partnership"},{"value":"sole-proprietorship","label":"sole-proprietorship"}],"Company_Sizes":[{"value":"1-10","label":"1-10"},{"value":"11-50","label":"11-50"},{"value":"51-200","label":"51-200"},{"value":"201-500","label":"201-500"},{"value":"501-1000","label":"501-1000"},{"value":"1001-5000","label":"1001-5000"},{"value":"5001-10000","label":"5001-10000"}],"questionTypes":[{"value":"single_choice","label":"single_choice"},{"value":"multi_choice","label":"multi_choice"},{"value":"theoretical","label":"theoretical"}],"optionFormats":[{"label":"Alphabetically","value":"alphabetically"},{"label":"Numerical","value":"numerical"},{"label":"Checked","value":"checked"}],"verificationType":[{"label":"auto","value":"auto"},{"label":"manual","value":"manual"}],"gender":[{"label":"Select","value":"Select"},{"label":"Male","value":"male"},{"label":"Female","value":"female"},{"label":"Other","value":"other"}],"Job_Type_List":[{"value":"full-time","label":"Full Time"},{"value":"part-time","label":"Part Time"},{"value":"internship","label":"Internship"},{"value":"contract","label":"Contract"},{"value":"freelance","label":"Freelance"},{"value":"temporary","label":"Temporary"},{"value":"remote","label":"Remote"},{"value":"on-site","label":"On-site"},{"value":"hybrid","label":"Hybrid"},{"value":"volunteer","label":"Volunteer"},{"value":"commission-based","label":"Commission Based"},{"value":"project-based","label":"Project Based"},{"value":"training","label":"Training"},{"value":"walk-in","label":"Walk-in"},{"value":"shift-based","label":"Shift Based"},{"value":"night-shift","label":"Night Shift"},{"value":"weekend","label":"Weekend"},{"value":"work-from-home","label":"Work From Home"},{"value":"work-from-office","label":"Work From Office"}],"Job_Location_List":[{"value":"remote","label":"Remote"},{"value":"on-site","label":"On-site"},{"value":"hybrid","label":"Hybrid"},{"value":"work-from-home","label":"Work From Home"},{"value":"work-from-office","label":"Work From Office"},{"value":"relocation-required","label":"Relocation Required"},{"value":"multiple-locations","label":"Multiple Locations"},{"value":"client-site","label":"Client Site"},{"value":"pan-india","label":"Pan India"},{"value":"international","label":"International"}],"Job_Pay_Type_List":[{"value":"paid","label":"Paid"},{"value":"unpaid","label":"Unpaid"},{"value":"volunteer","label":"Volunteer"},{"value":"stipend","label":"Stipend"},{"value":"fixed","label":"Fixed"},{"value":"hourly","label":"Hourly"},{"value":"daily","label":"Daily"},{"value":"weekly","label":"Weekly"},{"value":"monthly","label":"Monthly"},{"value":"yearly","label":"Yearly"},{"value":"commission-based","label":"Commission Based"},{"value":"project-based","label":"Project Based"},{"value":"negotiable","label":"Negotiable"},{"value":"package-based","label":"Package Based"}]}')},693:(e,l,a)=>{a.d(l,{I:()=>n});var t=a(9379),i=a(3003),o=a(6328),s=a(152);const n=(e,l,a,n)=>{const r=(0,i.wA)();return{handleLocationSelectChange:async(l,i)=>{if("country"===l){if(e(e=>(0,t.A)((0,t.A)({},e),{},{address:(0,t.A)((0,t.A)({},e.address),{},{country:{name:null===i||void 0===i?void 0:i.label,dial_code:null===i||void 0===i?void 0:i.dial_code,short_name:null===i||void 0===i?void 0:i.short_name,emoji:null===i||void 0===i?void 0:i.emoji},state:null,city:null})})),null!==i&&void 0!==i&&i.short_name)try{a(!0),await r((0,s.wk)({country_code:i.short_name}))}catch(n){o.oR.error("Failed to fetch states")}finally{a(!1)}}else if("state"===l){e(e=>(0,t.A)((0,t.A)({},e),{},{address:(0,t.A)((0,t.A)({},e.address),{},{state:{name:null===i||void 0===i?void 0:i.label,code:null===i||void 0===i?void 0:i.code},city:null})}));try{a(!0),await r((0,s.E8)({country_code:i.country_code,state_code:i.state_code}))}catch(n){o.oR.error("Failed to fetch cities")}finally{a(!1)}}else"city"===l&&e(e=>(0,t.A)((0,t.A)({},e),{},{address:(0,t.A)((0,t.A)({},e.address),{},{city:{name:null===i||void 0===i?void 0:i.label}})}))}}}},1307:(e,l,a)=>{a.r(l),a.d(l,{default:()=>q});var t=a(9379),i=a(5043),o=a(9804),s=a(8214),n=a(3974),r=a(3003),d=a(4272),c=a(152),u=a(6328),p=a(5413),v=a(9981),_=a(10),b=a(8059),m=a(8454),y=a(9461),h=a(693),g=a(8155),x=a(9442),f=a(2666),j=a(130),A=a(579);const k=e=>{var l;let{allCompanies:a,allIndustry:i,formData:o,setFormData:n,handleInputChange:r,handleSelectChange:d,errors:c,setAddModalState:u,countryList:p,handleLocationSelectChange:v,getNestedValue:_,stateList:b,citiesList:m,setInputField:y,isCreatableIndustry:h}=e;return console.log(null===o||void 0===o?void 0:o.start_date),(0,A.jsxs)("div",{className:"space-y-8",children:[(0,A.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 space-y-4",children:[(0,A.jsx)("h2",{className:"text-lg font-semibold text-gray-800 capitalize border-b pb-2",children:"Company & Industry"}),(0,A.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,A.jsx)("div",{className:"col-span-2",children:(0,A.jsx)(f.A,{options:a||[],label:"Company Name",className:"w-full",placeholder:"Select Company",onChange:e=>d("company_id",e),selectedOption:a.find(e=>e.value===o.company_id),required:!0,error:null===c||void 0===c?void 0:c.company_id,onCreateOption:(e,l)=>{u({isOpen:!0,type:"companies",field:l}),y(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!0})}),(0,A.jsxs)("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[(0,A.jsx)(f.A,{options:i||[],label:"Industry Name",className:"w-full",placeholder:"Select Industry",onChange:e=>d("industry_id",e),selectedOption:i.find(e=>e.value===o.industry_id),required:!0,error:null===c||void 0===c?void 0:c.industry_id,onCreateOption:(e,l)=>{u({isOpen:!0,type:"industries",field:l}),y(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:h,isDisabled:!o.company_id,disabledTooltip:"first select Company name"}),(0,A.jsx)(s.A,{type:"number",value:null===o||void 0===o?void 0:o.current_openings,label:"Available Opening",onChange:e=>r("current_openings",e.target.value),name:"current_openings",className:"w-full h-10 border rounded-lg px-4",placeholder:"Enter number of available posts ",required:!0,error:null===c||void 0===c?void 0:c.current_openings})]})]})]}),(0,A.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 space-y-4",children:[(0,A.jsx)("h2",{className:"text-lg font-semibold text-gray-800 capitalize border-b pb-2",children:"Job Details"}),(0,A.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,A.jsx)(f.A,{label:"Job Type",options:(null===j||void 0===j?void 0:j.Job_Type_List)||[],placeholder:"Select Job Type",onChange:e=>d("job_type",e),selectedOption:null===j||void 0===j?void 0:j.Job_Type_List.find(e=>e.value===o.job_type),required:!0,error:null===c||void 0===c?void 0:c.job_type}),(0,A.jsx)(f.A,{label:"Location Type",options:(null===j||void 0===j?void 0:j.Job_Location_List)||[],placeholder:"Select Location",onChange:e=>d("job_location",e),selectedOption:null===j||void 0===j?void 0:j.Job_Location_List.find(e=>e.value===o.job_location),required:!0,error:null===c||void 0===c?void 0:c.job_location}),(0,A.jsx)(f.A,{label:"Pay Type",options:(null===j||void 0===j?void 0:j.Job_Pay_Type_List)||[],placeholder:"Select Pay Type",onChange:e=>d("pay_type",e),selectedOption:null===j||void 0===j?void 0:j.Job_Pay_Type_List.find(e=>e.value===o.pay_type),required:!0,error:null===c||void 0===c?void 0:c.pay_type})]}),(0,A.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,A.jsx)(s.A,{label:"Salary Range",placeholder:"e.g. \u20b930,000 - \u20b950,000",value:o.salary_range,onChange:e=>r("salary_range",e.target.value),required:!0,error:null===c||void 0===c?void 0:c.salary_range,className:"h-10 w-full"}),(0,A.jsx)(x.A,{label:"Start Date",value:null===o||void 0===o?void 0:o.start_date,onChange:e=>r("start_date",e.target.value),required:!0,error:null===c||void 0===c?void 0:c.start_date}),(0,A.jsx)(x.A,{label:"End Date",value:null===o||void 0===o?void 0:o.end_date,onChange:e=>r("end_date",e.target.value),required:!0,error:null===c||void 0===c?void 0:c.end_date})]})]}),(0,A.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 space-y-4",children:[(0,A.jsx)("h2",{className:"text-lg font-semibold text-gray-800 capitalize border-b pb-2",children:"Location"}),(0,A.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,A.jsx)(g.A,{label:"Country",selectedOption:(null===p||void 0===p?void 0:p.find(e=>e.label===_(o,"address.country.name")))||null,onChange:e=>v("country",e),options:p||[],required:!0,isClearable:!1,error:null===c||void 0===c?void 0:c.country}),(0,A.jsx)(g.A,{label:"State",selectedOption:(null===b||void 0===b?void 0:b.find(e=>e.label===_(o,"address.state.name")))||null,onChange:e=>v("state",e),options:b||[],required:!0,isClearable:!1,error:null===c||void 0===c?void 0:c.state}),(0,A.jsx)(g.A,{label:"City",selectedOption:(null===m||void 0===m?void 0:m.find(e=>(null===e||void 0===e?void 0:e.label)===_(o,"address.city.name")))||null,onChange:e=>v("city",e),options:m||[],required:!0,isClearable:!1,error:null===c||void 0===c?void 0:c.city}),(0,A.jsx)(s.A,{label:"Pin Code",placeholder:"e.g. 696969",value:null===o||void 0===o||null===(l=o.address)||void 0===l?void 0:l.pin_code,className:"w-full h-10",onChange:e=>n(l=>(0,t.A)((0,t.A)({},l),{},{address:(0,t.A)((0,t.A)({},l.address),{},{pin_code:e.target.value})})),required:!0,error:null===c||void 0===c?void 0:c.pin_code})]})]})]})},C=e=>{let{handleSelectChange:l,allProfileRoles:a,allSkills:i,formData:s,errors:n,setAddModalState:r,handleInputChange:d,selectedSkills:c,removeSkill:u,handleSkillSelect:p,isCreatableIndustry:v,setInputField:_}=e;return(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsx)(f.A,{label:"Job Title",className:"w-full h-10",placeholder:"e.g. Frontend Developer (React.js)",onChange:e=>l("job_title",e),selectedOption:a.find(e=>e.value===(null===s||void 0===s?void 0:s.job_title)),options:a||[],required:!0,error:null===n||void 0===n?void 0:n.job_title,onCreateOption:(e,l)=>{r({isOpen:!0,type:"Profile Role",field:l}),_(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!v}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Job Description ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("textarea",{value:s.job_description,onChange:e=>d("job_description",e.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe the job role and what you're looking for in a candidate..."}),(0,A.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tell people about this position and what you're looking for. For example, what they'll be doing on a typical day, why they should be interested, and requirements you may have."}),(0,A.jsx)("p",{className:"text-xs text-red-600",children:null===n||void 0===n?void 0:n.job_description})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(f.A,{label:"Skills Required ",options:i||[],className:"w-full h-10",placeholder:"Select skills",onChange:p,required:!0,error:null===n||void 0===n?void 0:n.required_skills,onCreateOption:(e,l)=>{r({isOpen:!0,type:"skill",field:l}),_(l=>(0,t.A)((0,t.A)({},l),{},{name:e}))},isClearable:!0,isCreatedByUser:!!v}),(0,A.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:c.map((e,l)=>(0,A.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e.label,(0,A.jsx)("button",{onClick:()=>u(e.value),className:"ml-2 hover:text-blue-600",children:(0,A.jsx)(o.Gsv,{className:"h-4 w-4"})})]},l))})]})]})})},q=()=>{var e,l,a,g,x,f,j,q,N,w,S,O,F,L,E,D,P,I,J;const{id:T}=(0,v.g)(),R=(0,r.wA)(),B=(0,v.Zp)(),M=(0,r.d4)(e=>e.work),W=(0,r.d4)(e=>e.global),V=(0,r.d4)(e=>e.global),z=(0,d.eu)((null===M||void 0===M||null===(e=M.getAllCompaniesData)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)||[]),K=(0,d.Kj)((null===M||void 0===M||null===(a=M.getAllIndustryData)||void 0===a||null===(g=a.data)||void 0===g?void 0:g.data)||[]),G=(0,d.Kj)((null===W||void 0===W||null===(x=W.masterSkillsData)||void 0===x||null===(f=x.data)||void 0===f||null===(j=f.data)||void 0===j?void 0:j.list)||[]),H=(0,d.Kj)((null===M||void 0===M||null===(q=M.getAllProfileRoleData)||void 0===q||null===(N=q.data)||void 0===N?void 0:N.data)||[]),Q=(0,d.Kj)((null===V||void 0===V||null===(w=V.countriesData)||void 0===w||null===(S=w.data)||void 0===S?void 0:S.data)||[]),U=(0,d.Kj)((null===V||void 0===V||null===(O=V.stateData)||void 0===O||null===(F=O.data)||void 0===F?void 0:F.data)||[]),X=(0,d.Kj)((null===V||void 0===V||null===(L=V.citiesData)||void 0===L||null===(E=L.data)||void 0===E?void 0:E.data)||[]),[Y,Z]=(0,i.useState)(1),[$,ee]=(0,i.useState)(!1),[le,ae]=(0,i.useState)((0,_.Ri)("ACCESS_MODE")),[te,ie]=(0,i.useState)([]),[oe,se]=(0,i.useState)([{question:"",question_type:"single_choice",options:[],option_format:"alphabetically",correct_options:[],verification_type:"auto",time_limit:2}]),[ne,re]=(0,i.useState)({}),[de,ce]=(0,i.useState)({name:"",logo_url:""}),[ue,pe]=(0,i.useState)({isOpen:!1,type:"",field:""}),[ve,_e]=(0,i.useState)({company_id:"",industry_id:"",job_type:"",job_location:"",pay_type:"",salary_range:"",job_title:"",job_description:"",start_date:"",end_date:"",current_openings:"",required_skills:[],address:{country:{name:"",dial_code:"",short_name:"",emoji:"\ud83c\uddee"},state:{name:"",code:""},city:{name:""},pin_code:""},screening_questions:[],isDisable:!1,isShareAsPost:!1}),[be,me]=(0,i.useState)(!1),{handleLocationSelectChange:ye,fetchDependentData:he}=(0,h.I)(_e,ve,re);(0,i.useEffect)(()=>{const e=()=>{const e=(0,_.Ri)("ACCESS_MODE");ae(e),5==e&&B("/user/opportunitiess")};return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[B]),(0,i.useEffect)(()=>{R((0,n.f$)()),R((0,c.Xr)())},[R]);const ge=(0,i.useCallback)(e=>{if(G.length>0&&e.length>0){const l=G.filter(l=>e.includes(l.value));ie(l)}},[G]),xe=null===ve||void 0===ve||null===(D=ve.address)||void 0===D||null===(P=D.country)||void 0===P?void 0:P.short_name,fe=null===ve||void 0===ve||null===(I=ve.address)||void 0===I||null===(J=I.state)||void 0===J?void 0:J.name,je=(0,i.useCallback)(async()=>{if(T)try{var e,l,a,i,o,s,r,d;const u=await R((0,c.Sk)({_id:T,populate:"company_id:created_by_users|industry_id:created_by_users"})).unwrap(),j=null===u||void 0===u?void 0:u.data,A=j.work_location||j.address||{country:{name:"",dial_code:"",short_name:"",emoji:"\ud83c\uddee"},state:{name:"",code:""},city:{name:""},pin_code:""};var p,v,_,b,m,y,h,g,x,f;if(_e((0,t.A)((0,t.A)({},j),{},{address:A,company_id:null===u||void 0===u||null===(e=u.data)||void 0===e||null===(l=e.company_id)||void 0===l?void 0:l._id,industry_id:null===u||void 0===u||null===(a=u.data)||void 0===a||null===(i=a.industry_id)||void 0===i?void 0:i._id,start_date:null!==u&&void 0!==u&&null!==(o=u.data)&&void 0!==o&&o.start_date?new Date(u.data.start_date).toISOString().split("T")[0]:"",end_date:null!==u&&void 0!==u&&null!==(s=u.data)&&void 0!==s&&s.end_date?new Date(u.data.end_date).toISOString().split("T")[0]:""})),null!==u&&void 0!==u&&null!==(r=u.data)&&void 0!==r&&r.company_id)R((0,n.a_)({company_id:null===u||void 0===u||null===(p=u.data)||void 0===p||null===(v=p.company_id)||void 0===v?void 0:v._id,created_by_users:null===u||void 0===u||null===(_=u.data)||void 0===_||null===(b=_.company_id)||void 0===b?void 0:b.created_by_users})),me(null===u||void 0===u||null===(m=u.data)||void 0===m||null===(y=m.company_id)||void 0===y?void 0:y.created_by_users);if(null!==u&&void 0!==u&&null!==(d=u.data)&&void 0!==d&&d.industry_id)R((0,n.JL)({industry_id:null===u||void 0===u||null===(h=u.data)||void 0===h||null===(g=h.industry_id)||void 0===g?void 0:g._id,created_by_users:null===u||void 0===u||null===(x=u.data)||void 0===x||null===(f=x.industry_id)||void 0===f?void 0:f.created_by_users}));j.screening_questions&&j.screening_questions.length>0&&se(j.screening_questions),j.required_skills&&j.required_skills.length>0&&ge(j.required_skills)}catch(j){console.error("Error fetching job data:",j),u.oR.error((null===j||void 0===j?void 0:j.message)||"Failed to fetch job data")}},[T,R]);(0,i.useEffect)(()=>{xe&&R((0,c.wk)({country_code:xe})),fe&&R((0,c.E8)({state_name:fe}))},[R,xe,fe]),(0,i.useEffect)(()=>{T&&je()},[T,je]),(0,i.useEffect)(()=>{T&&G.length>0&&ve.required_skills.length>0&&0===te.length&&ge(ve.required_skills)},[G,ve.required_skills,T,ge,te.length]);const Ae=e=>{const l={};var a,t,i,o,s,n,r;1===e&&(ve.company_id||(l.company_id="Company is required"),ve.industry_id||(l.industry_id="Industry is required"),ve.job_type||(l.job_type="Job type is required"),ve.job_location||(l.job_location="Job location is required"),ve.pay_type||(l.pay_type="Pay type is required"),ve.salary_range||"internship"===ve.job_type||"unpaid"===ve.pay_type||(l.salary_range="Salary range is required"),ve.start_date||(l.start_date="Start date is required"),ve.end_date||(l.end_date="End date is required"),ve.current_openings||(l.current_openings="current opening is required"),null!==(a=ve.address)&&void 0!==a&&null!==(t=a.country)&&void 0!==t&&t.name||(l.country="Country is required"),null!==(i=ve.address)&&void 0!==i&&null!==(o=i.state)&&void 0!==o&&o.name||(l.state="State is required"),null!==(s=ve.address)&&void 0!==s&&null!==(n=s.city)&&void 0!==n&&n.name||(l.city="City is required"),null!==(r=ve.address)&&void 0!==r&&r.pin_code||(l.pin_code="Pin No is required"));return 2===e&&(ve.job_title||(l.job_title="Job title is required"),ve.job_description||(l.job_description="Job description is required"),ve.job_description&&ve.job_description.length<50&&(l.job_description="Description should be at least 50 characters"),0===ve.required_skills.length&&(l.required_skills="At least one skill is required")),3===e&&(0===oe.length?l.screening_questions="At least one screening question is required":oe.forEach((e,a)=>{e.question&&""!==e.question.trim()||(l["screening_question_".concat(a)]="Question is required"),"theoretical"!==e.question_type&&(e.options.length<2&&(l["screening_options_".concat(a)]="At least two options are required"),e.options.forEach((e,t)=>{e&&""!==e.trim()||(l["screening_option_".concat(a,"_").concat(t)]="Option cannot be empty")}),0===e.correct_options.length&&(l["screening_correct_".concat(a)]="At least one correct option is required"))})),re(l),0===Object.keys(l).length},ke=(e,l)=>{_e(a=>{const i=(0,t.A)((0,t.A)({},a),{},{[e]:l});let o=(0,t.A)({},ne);if(i.start_date&&i.end_date){const e=new Date(i.start_date);new Date(i.end_date)<e?o.end_date="End date cannot be before Start date":(delete o.start_date,delete o.end_date)}return re(o),i}),ne[e]&&re(l=>{const a=(0,t.A)({},l);return delete a[e],a})},Ce=async(e,l)=>{_e(a=>(0,t.A)((0,t.A)({},a),{},{[e]:l.value})),console.log("field, selectedOption",e,l),"company_id"===e&&me(null===l||void 0===l?void 0:l.created_by_users);const a=null===l||void 0===l?void 0:l.value;switch(e){case"institution_id":await R((0,m.Q_)({institution_id:a,created_by_users:null===l||void 0===l?void 0:l.created_by_users}));break;case"degree_id":await R((0,m.BB)({degree_id:a,created_by_users:null===l||void 0===l?void 0:l.created_by_users}));break;case"field_of_studies":await R((0,m.P8)({study_id:a,created_by_users:null===l||void 0===l?void 0:l.created_by_users}));break;case"company_id":await R((0,n.a_)({company_id:a,created_by_users:null===l||void 0===l?void 0:l.created_by_users}));break;case"industry_id":await R((0,n.JL)({industry_id:a,created_by_users:null===l||void 0===l?void 0:l.created_by_users}));break;case"profile_role_id":await R((0,n.O_)({profile_role_id:a,created_by_users:null===l||void 0===l?void 0:l.created_by_users}))}ne[e]&&re(l=>{const a=(0,t.A)({},l);return delete a[e],a})},qe=e=>{e&&!ve.required_skills.includes(e.value)&&(_e(l=>(0,t.A)((0,t.A)({},l),{},{required_skills:[...l.required_skills,e.value]})),ie(l=>[...l,e]),ne.required_skills&&re(e=>{const l=(0,t.A)({},e);return delete l.required_skills,l}))},Ne=e=>{_e(l=>(0,t.A)((0,t.A)({},l),{},{required_skills:l.required_skills.filter(l=>l!==e)})),ie(l=>l.filter(l=>l.value!==e))},we=(e,l,a)=>{const i=[...oe];i[e][l]=a,se(i),"question"===l&&ne["screening_question_".concat(e)]&&re(l=>{const a=(0,t.A)({},l);return delete a["screening_question_".concat(e)],a})},Se=()=>{se([...oe,{question:"",question_type:"single_choice",options:[],option_format:"alphabetically",correct_options:[],verification_type:"auto",time_limit:2}])},Oe=function(e,l){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const t=l.split(".");let i=e;for(const s of t){var o;if(i=null===(o=i)||void 0===o?void 0:o[s],void 0===i)return a}return i||a};return(0,A.jsxs)("div",{className:"p-4",children:[(0,A.jsx)("div",{className:"min-h-screen",children:(0,A.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,A.jsx)("button",{onClick:()=>B(-1),className:"p-1 rounded hover:bg-gray-100",children:(0,A.jsx)(o.OLK,{size:32})}),(0,A.jsx)("h1",{className:"text-2xl font-semibold text-[#000000E6]",children:T?"Edit Job":"Post a Job"}),(0,A.jsxs)("span",{className:"text-sm text-gray-500",children:[Y,"/3"]})]}),(0,A.jsxs)("div",{className:"mb-8",children:[1===Y&&(0,A.jsx)("div",{className:"space-y-3",children:(0,A.jsx)(k,{allCompanies:z,allIndustry:K,formData:ve,setFormData:_e,handleInputChange:ke,handleSelectChange:Ce,errors:ne,setAddModalState:pe,countryList:Q,handleLocationSelectChange:ye,getNestedValue:Oe,stateList:U,citiesList:X,setInputField:ce,isCreatableIndustry:be})}),2===Y&&(0,A.jsx)(C,{handleSelectChange:Ce,allProfileRoles:H,allSkills:G,formData:ve,errors:ne,setAddModalState:pe,handleInputChange:ke,selectedSkills:te,removeSkill:Ne,handleSkillSelect:qe,isCreatableIndustry:be}),3===Y&&(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Screening Questions ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Add screening questions to filter candidates. All questions are required."}),ne.screening_questions&&(0,A.jsx)("p",{className:"text-sm text-red-500 mb-4 bg-red-50 p-2 rounded-md",children:ne.screening_questions}),oe.map((e,l)=>{const a=ne["screening_question_".concat(l)],i=ne["screening_options_".concat(l)],n=ne["screening_correct_".concat(l)];return(0,A.jsxs)("div",{className:"mb-6 p-4 border rounded-lg ".concat(a||i||n?"border-red-300 bg-red-50":"border-gray-200"),children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,A.jsxs)("h3",{className:"font-medium",children:["Question ",l+1," ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("button",{onClick:()=>(e=>{const l=[...oe];l.splice(e,1),se(l);const a=(0,t.A)({},ne);Object.keys(a).forEach(l=>{(l.startsWith("screening_question_".concat(e))||l.startsWith("screening_options_".concat(e))||l.startsWith("screening_correct_".concat(e))||l.startsWith("screening_option_".concat(e,"_")))&&delete a[l]}),re(a)})(l),className:"text-red-500 hover:text-red-700",children:(0,A.jsx)(o.Gsv,{className:"h-5 w-5"})})]}),(0,A.jsx)("div",{className:"mb-3",children:(0,A.jsx)(s.A,{value:e.question,onChange:e=>we(l,"question",e.target.value),placeholder:"Enter your question",className:"w-full h-10",error:a,required:!0})}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Type"}),(0,A.jsxs)("select",{value:e.question_type,onChange:e=>we(l,"question_type",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,A.jsx)("option",{value:"single_choice",children:"Single Choice"}),(0,A.jsx)("option",{value:"multi_choice",children:"Multiple Choice"}),(0,A.jsx)("option",{value:"theoretical",children:"Theoretical"})]})]}),"theoretical"===e.question_type?(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Answer (Optional)"}),(0,A.jsx)("textarea",{value:e.expected_answer||"",onChange:e=>we(l,"expected_answer",e.target.value),rows:3,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Describe what you're looking for in an answer (optional)"})]}):(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center",children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Options ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),i&&(0,A.jsx)("span",{className:"text-sm text-red-500",children:i})]}),e.options.map((a,i)=>{const n=ne["screening_option_".concat(l,"_").concat(i)];return(0,A.jsxs)("div",{className:"flex items-center",children:[(0,A.jsx)("input",{type:"single_choice"===e.question_type?"radio":"checkbox",checked:e.correct_options.includes(a),onChange:()=>((e,l)=>{const a=[...oe],i=a[e];if("single_choice"===i.question_type)i.correct_options=[l];else{const e=i.correct_options.indexOf(l);-1===e?i.correct_options.push(l):i.correct_options.splice(e,1)}se(a),ne["screening_correct_".concat(e)]&&re(l=>{const a=(0,t.A)({},l);return delete a["screening_correct_".concat(e)],a})})(l,a),className:"mr-2 ",name:"question-".concat(l)}),(0,A.jsx)("div",{className:"flex-1",children:(0,A.jsx)(s.A,{value:a,onChange:e=>{const t=e.target.value,o=[...oe];if(o[l].correct_options.includes(a)){const e=o[l].correct_options.indexOf(a);o[l].correct_options[e]=t}o[l].options[i]=t,se(o)},placeholder:"Option ".concat(i+1),error:n,required:!0})}),(0,A.jsx)("button",{onClick:()=>((e,l)=>{const a=[...oe];a[e].options.splice(l,1);const i=a[e].options[l],o=a[e].correct_options.indexOf(i);-1!==o&&a[e].correct_options.splice(o,1),se(a),ne["screening_option_".concat(e,"_").concat(l)]&&re(a=>{const i=(0,t.A)({},a);return delete i["screening_option_".concat(e,"_").concat(l)],i})})(l,i),className:"ml-2 text-red-500 hover:text-red-700",children:(0,A.jsx)(o.Gsv,{className:"h-5 w-5"})})]},i)}),(0,A.jsx)("button",{onClick:()=>(e=>{const l=[...oe];l[e].options.push(""),se(l)})(l),className:"mt-2 text-blue-500 hover:text-blue-700 text-sm",children:"+ Add Option"}),n&&(0,A.jsx)("p",{className:"text-sm text-red-500 mt-2",children:n})]}),(0,A.jsxs)("div",{className:"mt-3",children:[(0,A.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Time Limit (minutes) ",(0,A.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,A.jsx)("input",{type:"number",value:e.time_limit,onChange:e=>we(l,"time_limit",parseInt(e.target.value)||0),min:"1",className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]})]},l)}),(0,A.jsxs)("button",{onClick:Se,className:"mt-2 text-blue-500 hover:text-blue-700 flex items-center",children:[(0,A.jsx)("span",{className:"text-lg mr-1",children:"+"})," Add Another Question"]})]}),!T&&(0,A.jsx)(s.A,{type:"checkbox",label:"Share As a post",checked:null===ve||void 0===ve?void 0:ve.isShareAsPost,onChange:e=>_e(l=>(0,t.A)((0,t.A)({},l),{},{isShareAsPost:e.target.checked}))})]})]}),(0,A.jsxs)("div",{className:"flex justify-between mt-8 gap-3",children:[Y>1&&(0,A.jsx)("button",{onClick:()=>{Y>1&&Z(Y-1)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Back"}),Y<3?(0,A.jsx)("button",{onClick:()=>{if(Ae(Y))Y<3&&Z(Y+1);else{const e=Object.keys(ne)[0];if(e){const l=document.querySelector('[data-error="'.concat(e,'"]'));l&&l.scrollIntoView({behavior:"smooth",block:"center"})}}},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 ml-auto",children:"Next"}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(p.A,{onClick:async()=>{if(!Ae(3)){const e=Object.keys(ne)[0];if(e){const l=document.querySelector('[data-error="'.concat(e,'"]'));l&&l.scrollIntoView({behavior:"smooth",block:"center"})}return}ee(!0);const e={company_id:(null===ve||void 0===ve?void 0:ve.company_id)||"",industry_id:(null===ve||void 0===ve?void 0:ve.industry_id)||"",job_type:(null===ve||void 0===ve?void 0:ve.job_type)||"",job_location:(null===ve||void 0===ve?void 0:ve.job_location)||"",pay_type:(null===ve||void 0===ve?void 0:ve.pay_type)||"",salary_range:(null===ve||void 0===ve?void 0:ve.salary_range)||"",job_title:(null===ve||void 0===ve?void 0:ve.job_title)||"",job_description:(null===ve||void 0===ve?void 0:ve.job_description)||"",required_skills:(null===ve||void 0===ve?void 0:ve.required_skills)||[],work_location:(null===ve||void 0===ve?void 0:ve.address)||"",isDisable:!1,screening_questions:oe,start_date:(0,d.TG)(null===ve||void 0===ve?void 0:ve.start_date)||"",end_date:(0,d.TG)(null===ve||void 0===ve?void 0:ve.end_date)||"",isShareAsPost:null===ve||void 0===ve?void 0:ve.isShareAsPost,current_openings:null===ve||void 0===ve?void 0:ve.current_openings};T&&(e._id=T);const l=T?c.m8:c.ts;try{const a=await R(l(e)).unwrap();u.oR.success((null===a||void 0===a?void 0:a.message)||(null===a||void 0===a?void 0:a.success)||(T?"Job updated successfully!":"Job posted successfully!")),Z(1),B("/user/opportunitiess"),_e({company_id:"",industry_id:"",job_type:"",job_location:"",pay_type:"",salary_range:"",job_title:"",job_description:"",required_skills:[],address:{country:{name:"",dial_code:"",short_name:"",emoji:"\ud83c\uddee"},state:{name:"",code:""},city:{name:""},pin_code:""},screening_questions:[],isDisable:!1,start_date:"",end_date:""}),ie([]),se([{question:"",question_type:"single_choice",options:[],option_format:"alphabetically",correct_options:[],verification_type:"auto",time_limit:2}]),re({})}catch(a){console.error("Error submitting job:",a),u.oR.error((null===a||void 0===a?void 0:a.message)||(T?"Failed to update job. Please try again.":"Failed to post job. Please try again."))}finally{ee(!1)}},loading:$,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 ml-auto",children:T?"Update Job":"Post Job"})})]})]})})}),(0,A.jsx)(b.A,{isOpen:ue.isOpen,title:"Add ".concat(ue.type),onClose:()=>{pe({isOpen:!1,type:"",field:""}),ce({name:"",logo_url:""})},handleSubmit:async()=>{try{var e;let l="",a=null,i=ue.field;switch(ue.type){case"degree":l="degrees",a=m.Sq;break;case"field":l="fields-of-studies",a=m.Ns;break;case"skill":l="skills",a=c.bG;break;case"companies":l="companies",a=n.Nl;break;case"industries":l="industries",a=c.u8;break;case"profile-roles":l="profile-roles",a=c.fJ;break;default:return}const o=await R((0,y.A5)((0,t.A)({type:l},de))).unwrap();if(R(a({_id:o.data._id,name:o.data.name,created_by_users:null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.created_by_users})),i)if("skills_acquired"!==i){_e(e=>(0,t.A)((0,t.A)({},e),{},{[i]:o.data._id}));const e=o.data.created_by_users;he(i,o.data._id,e)}else _e(e=>(0,t.A)((0,t.A)({},e),{},{skills_acquired:[...e.skills_acquired||[],o.data._id]}));pe({isOpen:!1,type:"",field:""}),ce({name:"",logo_url:""})}catch(l){u.oR.error(l)}},children:(0,A.jsx)("div",{className:"space-y-3",children:(0,A.jsx)(s.A,{className:"w-full h-10",label:"Enter Name",required:!0,placeholder:"Enter name",value:null===de||void 0===de?void 0:de.name,onChange:e=>ce(l=>(0,t.A)((0,t.A)({},l),{},{name:e.target.value}))})})})]})}},8155:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(9379),i=a(5043),o=a(8139),s=a.n(o),n=a(2364),r=a(579);const d=e=>{let{label:l="Filter By",name:a,options:o=[],selectedOption:d,onChange:c,isMulti:u=!1,containerClassName:p="",selectClassName:v="",labelClassName:_="",placeholder:b="Select...",error:m=!1,isLoading:y=!1,required:h=!1,isCreatable:g=!1,onCreateOption:x}=e;const[f,j]=(0,i.useState)(!1),A=s()("opacity-100 rounded-[10px] w-full max-h-[100px] overflow-hidden overflow-y-auto",{"border-gray-300":!m,"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":m},v),k={multiValue:e=>(0,t.A)((0,t.A)({},e),{},{backgroundColor:"#F9F9F9",borderRadius:"30px",padding:"2px 6px",border:"1px solid #E5E5E5",display:"flex",alignItems:"center"}),multiValueLabel:e=>(0,t.A)((0,t.A)({},e),{},{color:"#1F2937",fontWeight:500,fontSize:"10px",padding:"0 8px"}),multiValueRemove:e=>(0,t.A)((0,t.A)({},e),{},{color:"#EF4444",backgroundColor:"#FEE2E2",borderRadius:"50%",width:"18px",height:"18px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"12px",cursor:"pointer","&:hover":{backgroundColor:"#FCA5A5",color:"#FFF"}}),control:e=>(0,t.A)((0,t.A)({},e),{},{backgroundColor:"#FFFFFF",borderRadius:"10px",borderColor:m?"#f87171":"#0000001A",minHeight:"40px",boxShadow:"none",paddingLeft:"10px","&:hover":{borderColor:m?"#f87171":"#d4d4d8"}}),valueContainer:e=>(0,t.A)((0,t.A)({},e),{},{padding:"0 8px",color:"#000000"}),placeholder:e=>(0,t.A)((0,t.A)({},e),{},{color:"#000000",opacity:.7,fontWeight:400}),singleValue:e=>(0,t.A)((0,t.A)({},e),{},{color:"#000000",fontWeight:400}),dropdownIndicator:e=>(0,t.A)((0,t.A)({},e),{},{color:"#000000",paddingRight:"10px"}),indicatorSeparator:()=>({display:"none"}),loadingIndicator:e=>(0,t.A)((0,t.A)({},e),{},{color:"#000000"})},C=g?"":n.Ay;return(0,r.jsxs)("div",{className:"w-full space-y-2 ".concat(p),children:[(0,r.jsxs)("label",{className:"text-base text-[#282828] font-medium flex items-center gap-1 ".concat(_),children:[l,h&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:"*"})]}),(0,r.jsx)(C,{isMulti:u,options:Array.isArray(o)?o:[],value:d,onChange:async(e,l)=>{j(!0);try{await c(e,l)}finally{j(!1)}},className:A,classNamePrefix:"react-select",placeholder:b,isSearchable:!0,styles:(0,t.A)((0,t.A)({},k),{},{menuPortal:e=>(0,t.A)((0,t.A)({},e),{},{zIndex:9999})}),menuPortalTarget:document.body,menuPosition:"absolute",isLoading:y||f,loadingMessage:()=>"Loading...",closeMenuOnSelect:!u}),m&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m})]})},c=i.memo(d)}}]);
//# sourceMappingURL=307.6279e3e2.chunk.js.map